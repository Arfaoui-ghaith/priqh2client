(this.webpackJsonppriqh2client=this.webpackJsonppriqh2client||[]).push([[0],{161:function(e,t,a){},493:function(e,t,a){},520:function(e,t,a){},521:function(e,t,a){},524:function(e,t,a){},655:function(e,t,a){},656:function(e,t,a){},657:function(e,t,a){},658:function(e,t,a){"use strict";a.r(t);var r=a(3),c=a.n(r),s=a(52),n=a.n(s),i=a(11),l=a(36),o=a(373),d=a(376),u=a(15),j=a(1),m=Object(l.createHttpLink)({uri:"http://priqh2server.herokuapp.com/graphql"});m=Object(o.a)((function(e,t){var a=t.headers,r=localStorage.getItem("tokenARRU");return{headers:Object(i.a)(Object(i.a)({},a),{},{authorization:r?"Bearer ".concat(r):""})}})).concat(m);var b=new d.a({uri:"ws://priqh2server.herokuapp.com/graphql",options:{reconnect:!0,connectionParams:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))}}}),h=Object(l.split)((function(e){var t=e.query,a=Object(u.q)(t);return"OperationDefinition"===a.kind&&"subscription"===a.operation}),b,m),p=new l.ApolloClient({link:h,cache:new l.InMemoryCache});function f(e){return Object(j.jsx)(l.ApolloProvider,Object(i.a)({client:p},e))}var x=a(8),O=a(22),v=a.n(O);function g(e){var t=e.title,a=e.icon,r=e.l,c=e.selecteditem,s=e.title2,n=e.setselecteditem;return Object(j.jsx)("li",{className:c===t||c===s?"sidebar-item active":"sidebar-item ",onClick:function(e){window.location.replace(r)},children:Object(j.jsxs)("span",{className:"sidebar-link",onClick:function(){return n(t)},children:[Object(j.jsx)(v.a,{icon:a}),Object(j.jsx)("span",{className:"align-middle",children:t})]})})}var N=a(290),y=c.a.createContext(),w=c.a.createContext(),k=null,S=localStorage.getItem("tokenARRU");if("undefined"!==S&&void 0!==S&&null!==S){var q=Object(N.a)(S),C=new Date(1e3*q.exp);new Date>C?localStorage.removeItem("tokenARRU"):k=q}else console.error("token not found");var _=function(e,t){switch(t.type){case"LOGIN":localStorage.setItem("tokenARRU",t.payload);var a=Object(N.a)(t.payload);return Object(i.a)(Object(i.a)({},e),{},{user:a});case"LOGOUT":return localStorage.removeItem("tokenARRU"),Object(i.a)(Object(i.a)({},e),{},{user:null});default:throw new Error("Unkonwn action type: ".concat(t.type))}},A=function(e){var t=e.children,a=c.a.useReducer(_,{user:k}),r=Object(x.a)(a,2),s=r[0],n=r[1];return Object(j.jsx)(w.Provider,{value:n,children:Object(j.jsx)(y.Provider,{value:s,children:t})})},R=function(){return c.a.useContext(y)},z=function(){return c.a.useContext(w)};function I(e){var t=R().user,a=c.a.useState(window.location.href.slice(22,window.location.href.length)),r=Object(x.a)(a,2),s=r[0],n=r[1];return null!==t&&void 0!==t?Object(j.jsx)("nav",{id:"sidebar",className:"sidebar",children:Object(j.jsxs)("div",{className:"sidebar-content js-simplebar",children:[Object(j.jsx)("span",{className:"sidebar-brand",href:"index.html",children:Object(j.jsx)("span",{className:"px-4",children:Object(j.jsx)("img",{src:"img/photos/priqh.png",alt:"priqh2",style:{height:"80px"}})})}),Object(j.jsxs)("ul",{className:"sidebar-nav",children:[t.payload.interfaces.filter((function(e){return["gestion des utilisateurs","gestion des roles","gestion des groupes","gestion des fonctionalites","gestion des interfaces","gestion des tracabilites"].indexOf(e.titre)>-1})).length>0?Object(j.jsx)("li",{className:"sidebar-header",children:"Droits d'acc\xe8s"}):"",t.payload.interfaces.filter((function(e){return"gestion des utilisateurs"===e.titre})).length>0?Object(j.jsx)(g,{title:"Utilisateurs",icon:"users",l:"/Utilisateurs",selecteditem:s,setselecteditem:n}):"",t.payload.interfaces.filter((function(e){return"gestion des roles"===e.titre})).length>0?Object(j.jsx)(g,{title:"Roles",icon:"briefcase",l:"/Roles",selecteditem:s,setselecteditem:n}):"",t.payload.interfaces.filter((function(e){return"gestion des groupes"===e.titre})).length>0?Object(j.jsx)(g,{title:"Groupes",icon:"book",l:"/Groupes",selecteditem:s,setselecteditem:n}):"",t.payload.interfaces.filter((function(e){return"gestion des fonctionalites"===e.titre})).length>0?Object(j.jsx)(g,{title:"Fonctionalites",icon:"book",l:"/Fonctionalites",selecteditem:s,setselecteditem:n}):"",t.payload.interfaces.filter((function(e){return"gestion des interfaces"===e.titre})).length>0?Object(j.jsx)(g,{title:"Interfaces",icon:"layout",l:"/Interfaces",selecteditem:s,setselecteditem:n}):"",t.payload.interfaces.filter((function(e){return"gestion des tracabilites"===e.titre})).length>0?Object(j.jsx)(g,{title:"Tracabilites",icon:"search",l:"/Traces",selecteditem:s,setselecteditem:n}):"",t.payload.interfaces.filter((function(e){return["gestion des communes","gestion des quartiers","gestion des criteres","gestion des projets","gestion des tranches"].indexOf(e.titre)>-1})).length>0?Object(j.jsx)("li",{className:"sidebar-header",children:"Identification des projets"}):"",t.payload.interfaces.filter((function(e){return"gestion des communes"===e.titre})).length>0?Object(j.jsx)(g,{title:"Communes",icon:"list",l:"/communes",selecteditem:s,setselecteditem:n}):"",t.payload.interfaces.filter((function(e){return"gestion des quartiers"===e.titre})).length>0?Object(j.jsx)(g,{title:"Quartiers",icon:"map-pin",l:"/Quartiers",selecteditem:s,setselecteditem:n}):"",t.payload.interfaces.filter((function(e){return"gestion des criteres"===e.titre})).length>0?Object(j.jsx)(g,{title:"Crit\xe9res d'\xe9ligibilit\xe9",icon:"filter",l:"/Crit\xe9res d'\xe9ligibilit\xe9",selecteditem:s,setselecteditem:n}):"",t.payload.interfaces.filter((function(e){return"gestion des projets"===e.titre})).length>0?Object(j.jsx)(g,{title:"Projets",icon:"clipboard",l:"/Projets",selecteditem:s,setselecteditem:n}):"",t.payload.interfaces.filter((function(e){return"gestion des tranches"===e.titre})).length>0?Object(j.jsx)(g,{title:"Tranches",icon:"pie-chart",l:"/Tranches",selecteditem:s,setselecteditem:n}):"",t.payload.interfaces.filter((function(e){return["gestion des bailleurs","gestion des memoires"].indexOf(e.titre)>-1})).length>0?Object(j.jsx)("li",{className:"sidebar-header",children:"Financement"}):"",t.payload.interfaces.filter((function(e){return"gestion des bailleurs"===e.titre})).length>0?Object(j.jsx)(g,{title:"Beilleurs de fond",icon:"users",l:"/beilleurs",selecteditem:s,setselecteditem:n}):"",t.payload.interfaces.filter((function(e){return"gestion des memoires"===e.titre})).length>0?Object(j.jsx)(g,{title:"Memoire",icon:"dollar-sign",l:"/Memoire",selecteditem:s,setselecteditem:n}):"",t.payload.interfaces.filter((function(e){return["gestion des avancements","gestion des decomptes","gestion des prestataires"].indexOf(e.titre)>-1})).length>0?Object(j.jsx)("li",{className:"sidebar-header",children:"Suivi de Travaux"}):"",t.payload.interfaces.filter((function(e){return"gestion des avancements"===e.titre})).length>0?Object(j.jsx)(g,{title:"Avancement",icon:"trending-up",l:"/Avancement",selecteditem:s,setselecteditem:n}):"",t.payload.interfaces.filter((function(e){return"gestion des decomptes"===e.titre})).length>0?Object(j.jsx)(g,{title:"Decompte",icon:"dollar-sign",l:"/Decompte",selecteditem:s,setselecteditem:n}):"",t.payload.interfaces.filter((function(e){return"gestion des prestataires"===e.titre})).length>0?Object(j.jsx)(g,{title:"Prestataire",icon:"dollar-sign",l:"/Prestataire",selecteditem:s,setselecteditem:n}):"",Object(j.jsx)("li",{className:"sidebar-header",children:"profile"}),Object(j.jsx)(g,{title:"Mon profile",title2:"settings",icon:"user",l:"/Profile",selecteditem:s,setselecteditem:n}),Object(j.jsx)(g,{title:"deconnection",icon:"log-out",l:"/login",selecteditem:s,setselecteditem:n})]})]})}):Object(j.jsx)(c.a.Fragment,{})}var B,E=a(9),M=a.n(E),P=a(21),U=a(16),T=a(60),F=a(20),L=(a(47),a(17)),D=a.n(L),H=Object(l.gql)(B||(B=Object(T.a)(["\nsubscription notifications {\n  notifications{\n    message\n    type\n    interface{titre}\n  }\n}"])));function V(e){var t=Object(l.useSubscription)(H),a=t.data,r=(t.error,R().user),s=z(),n=c.a.useState([]),i=Object(x.a)(n,2),o=i[0],d=i[1],u=function(){var e=Object(U.a)(M.a.mark((function e(){var t,a,c,s,n,i,l,o,u;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/notifications/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/notifications/"});case 4:t=e.sent,a=[],c=Object(P.a)(r.payload.interfaces);try{for(c.s();!(s=c.n()).done;)n=s.value,a.push(n.titre)}catch(j){c.e(j)}finally{c.f()}i=[],l=Object(P.a)(t.data.notifications);try{for(l.s();!(o=l.n()).done;)u=o.value,a.indexOf(u.interface.titre)>-1&&i.push(u)}catch(j){l.e(j)}finally{l.f()}d(i),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){if(a){var e,t=[],c=Object(P.a)(r.payload.interfaces);try{for(c.s();!(e=c.n()).done;){var s=e.value;t.push(s.titre)}}catch(j){c.e(j)}finally{c.f()}var n,i=[],l=Object(P.a)(a.notifications);try{for(l.s();!(n=l.n()).done;){var u=n.value;t.indexOf(u.interface.titre)>-1&&i.push(u)}}catch(j){l.e(j)}finally{l.f()}i.slice(0,i.length-o.length).forEach((function(e){F.b.success(e.message,{position:"top-right",autoClose:3e3,draggable:!1})})),d(a.notifications)}}),[a]),c.a.useEffect((function(){u()}),[]),r?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(F.a,{}),Object(j.jsxs)("nav",{className:"navbar navbar-expand navbar-light navbar-bg",children:[Object(j.jsx)("a",{className:"sidebar-toggle d-flex",children:Object(j.jsx)("i",{className:"hamburger align-self-center"})}),Object(j.jsx)("div",{className:"navbar-collapse collapse",children:Object(j.jsxs)("ul",{className:"navbar-nav navbar-align",children:[Object(j.jsxs)("li",{className:"nav-item dropdown",children:[Object(j.jsx)("a",{className:"nav-icon dropdown-toggle",href:"#",id:"alertsDropdown","data-toggle":"dropdown",children:Object(j.jsxs)("div",{className:"position-relative",children:[Object(j.jsx)(v.a,{icon:"bell"}),Object(j.jsx)("span",{className:"indicator",children:o.length})]})}),Object(j.jsxs)("div",{className:"dropdown-menu dropdown-menu-sm dropdown-menu-left py-0","aria-labelledby":"alertsDropdown",children:[Object(j.jsxs)("div",{className:"dropdown-menu-header",children:[o.length," Notifications"]}),Object(j.jsx)("div",{className:"list-group",children:o.map((function(e,t){return Object(j.jsx)("a",{href:"#",className:"list-group-item",children:Object(j.jsx)("div",{className:"row g-0 align-items-center",children:Object(j.jsxs)("div",{className:"col-10",children:[Object(j.jsx)("div",{className:"text-muted small mt-1",children:e.message}),Object(j.jsx)("div",{className:"text-muted small mt-1",children:new Date(e.updatedAt).toLocaleString()})]})})},t)}))}),Object(j.jsx)("div",{className:"dropdown-menu-footer",children:Object(j.jsx)("a",{href:"#",className:"text-muted",children:"Show all notifications"})})]})]}),Object(j.jsxs)("li",{className:"nav-item dropdown",children:[Object(j.jsx)("a",{className:"nav-icon dropdown-toggle d-inline-block d-sm-none",href:"#","data-toggle":"dropdown",children:Object(j.jsx)(v.a,{className:"align-middle",icon:"settings"})}),Object(j.jsxs)("a",{className:"nav-link dropdown-toggle d-none d-sm-inline-block",href:"#","data-toggle":"dropdown",children:["",Object(j.jsx)("img",{src:"img/photos/user-01.png",className:"avatar img-fluid rounded mr-1",alt:"user"})," ",Object(j.jsx)("span",{className:"text-dark",children:r.payload.nom+" "+r.payload.prenom})]}),Object(j.jsxs)("div",{className:"dropdown-menu dropdown-menu-right",children:[Object(j.jsxs)("a",{className:"dropdown-item",href:"/Profile",children:[Object(j.jsx)(v.a,{className:"align-middle mr-1",icon:"user"})," Profile"]}),Object(j.jsx)("div",{className:"dropdown-divider"}),Object(j.jsxs)("a",{className:"dropdown-item",href:"/settings",children:[Object(j.jsx)(v.a,{className:"align-middle mr-1",icon:"settings"})," Settings & Privacy"]}),Object(j.jsx)("div",{className:"dropdown-divider"}),Object(j.jsxs)("span",{className:"dropdown-item",style:{cursor:"pointer"},onClick:function(){s({type:"LOGOUT"}),window.location.href="/login"},children:[Object(j.jsx)(v.a,{className:"align-middle mr-1",icon:"log-out"})," Log out"]})]})]})]})})]})]}):Object(j.jsx)(c.a.Fragment,{})}function G(){return Object(j.jsx)("footer",{className:"footer",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row text-muted",children:Object(j.jsx)("div",{className:"text-center",children:Object(j.jsxs)("p",{className:"mb-0",children:["\xa9 ",(new Date).getFullYear()," L'ARRU -",Object(j.jsx)("a",{href:"https://www.linkedin.com/in/sarra-garbouj-9136101bb/",target:"_blank",className:"text-muted",children:Object(j.jsx)("strong",{children:" Sarra Garbouj "})}),"&",Object(j.jsx)("a",{href:"https://www.linkedin.com/in/ghaith-arfaoui-%F0%9F%9A%80-7501aa180/",target:"_blank",className:"text-muted",children:Object(j.jsx)("strong",{children:" Ghaith Arfaoui"})})]})})})})})}a(161);var Q=a(44),Y=a(59),K=Object(Y.a)();function X(e){var t=e.user,a=c.a.useState([]),r=Object(x.a)(a,2),s=r[0],n=r[1],l=c.a.useState([]),o=Object(x.a)(l,2),d=o[0],u=o[1],m=c.a.useState([]),b=Object(x.a)(m,2),h=b[0],p=b[1],f=c.a.useState([]),O=Object(x.a)(f,2),v=O[0],g=O[1],N=c.a.useState({}),y=Object(x.a)(N,2),w=y[0],k=y[1],S=c.a.useState(!1),q=Object(x.a)(S,2),C=q[0],_=q[1],A=c.a.useState([]),R=Object(x.a)(A,2),z=R[0],I=R[1],B=function(){var e=Object(U.a)(M.a.mark((function e(){var t,a,r,c,s,n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/roles/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/roles/"});case 4:if(t=e.sent,p(t.data.roles),200===t.status){a=[],r=Object(P.a)(t.data.roles);try{for(r.s();!(c=r.n()).done;)s=c.value,n={value:s.id,label:s.titre},a.push(n)}catch(i){r.e(i)}finally{r.f()}u(a)}console.log("roles_specifications",h),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();function E(e,a,r){for(var c=0;c<t.roles.length;c++)if(t.roles[c].specification===e){var s=h.filter((function(e){return e.titre===r}));console.log(s);for(var n=0;n<v.length;n++)v[n].role_id===s[0].id&&(v[n].specification_id=a);return!0}return!1}c.a.useEffect((function(){B()}),[]);var T=function(e){g(Array.isArray(e)?e.map((function(e){return{role_id:e.value,specification_id:null}})):[]),n(Array.isArray(e)?e.map((function(e){return{label:e.label,value:e.value}})):[])},F=function(e){g(e.map((function(e){return{role_id:e.value,specification_id:null}}))),n(e.map((function(e){return{label:e.label,value:e.value}})))},L=function(e,t){v[t].specification_id=e.target.value},H=function(){var e=Object(U.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log({utilisateur:w,relations:v}),e.prev=1,"http://priqh2server.herokuapp.com/api/v1/utilisateurs/",e.next=5,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"post",url:"http://priqh2server.herokuapp.com/api/v1/utilisateurs/",data:{utilisateur:w,relations:v}});case 5:e.sent,window.location.replace("/Utilisateurs"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.response.data.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(U.a)(M.a.mark((function e(){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log({utilisateur:w,relations:v}),e.prev=1,a="http://priqh2server.herokuapp.com/api/v1/utilisateurs/".concat(t.id),e.next=5,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"put",url:a,data:{utilisateur:w,relations:v}});case 5:e.sent,window.location.replace("/Utilisateurs"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.response.data.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(U.a)(M.a.mark((function e(){var a,r,c,s,n,i,l;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],r=Object(P.a)(d);try{for(r.s();!(c=r.n()).done;){s=c.value,n=Object(P.a)(t.roles);try{for(n.s();!(i=n.n()).done;)l=i.value,s.label===l.titre&&a.push(s)}catch(o){n.e(o)}finally{n.f()}}}catch(o){r.e(o)}finally{r.f()}I(a),F(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Cin :"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return k(Object(i.a)(Object(i.a)({},w),{},{cin:e.target.value}))},placeholder:t?t.cin:"CIN"})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Nom :"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return k(Object(i.a)(Object(i.a)({},w),{},{nom:e.target.value}))},placeholder:t?t.nom:"Nom"})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Pr\xe9nom :"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return k(Object(i.a)(Object(i.a)({},w),{},{prenom:e.target.value}))},placeholder:t?t.prenom:"Pr\xe9nom"})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Email :"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"email",className:"form-control",onChange:function(e){return k(Object(i.a)(Object(i.a)({},w),{},{email:e.target.value}))},placeholder:t?t.email:"Email"})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Password :"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"password",className:"form-control",placeholder:"Password",onChange:function(e){return k(Object(i.a)(Object(i.a)({},w),{},{password:e.target.value}))}})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Telephone :"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"tel",className:"form-control",onChange:function(e){return k(Object(i.a)(Object(i.a)({},w),{},{telephone:e.target.value}))},placeholder:t?t.telephone:"telephone"})})]}),Object(j.jsx)("hr",{}),t?Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"mb-3 row",children:Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("button",{className:"btn btn-danger",onClick:function(){_(!C),G()},children:C?"cancel":"R\xe9initialiser les roles"})})}),C?Object(j.jsxs)("div",{children:[Object(j.jsx)("hr",{}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Roles :"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("div",{className:"boxes",children:Object(j.jsx)(Q.a,{closeMenuOnSelect:!1,defaultValue:t?z:[],components:K,isMulti:!0,options:d,onChange:T})})})]}),Object(j.jsx)("div",{className:"mb-3 row",children:Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("div",{className:"boxes",id:"box",children:s&&Object(j.jsx)("div",{style:{marginTop:20,lineHeight:"25px"},children:Object(j.jsx)("div",{children:s.map((function(e,t){return Object(j.jsxs)("div",{className:"mb-3 row",children:["".concat(e.label," :"),Object(j.jsx)("div",{className:"row",children:h.filter((function(t){return t.titre===e.label}))[0].specification.map((function(a,r){return Object(j.jsxs)("span",{children:[Object(j.jsx)("input",{className:"col",defaultChecked:E(a.titre,a.id,e.label),type:"radio",onClick:function(e){return L(e,t)},name:e.label,value:a.id})," ",a.titre]},r)}))})]},t)}))})})})})})," "]}):""]}):Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"roles"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("div",{className:"boxes",children:Object(j.jsx)(Q.a,{closeMenuOnSelect:!1,defaultValue:t?z:[],components:K,isMulti:!0,options:d,onChange:T})})})]}),Object(j.jsx)("div",{className:"mb-3 row",children:Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("div",{className:"boxes",id:"box",children:s&&Object(j.jsx)("div",{style:{marginTop:20,lineHeight:"25px"},children:Object(j.jsx)("div",{children:s.map((function(e,t){return Object(j.jsxs)("div",{className:"mb-3 row",children:["".concat(e.label," :"),Object(j.jsx)("div",{className:"row",children:h.filter((function(t){return t.titre===e.label}))[0].specification.map((function(a,r){return Object(j.jsxs)("span",{children:[Object(j.jsx)("input",{className:"col",type:"radio",onClick:function(e){return L(e,t)},name:e.label,value:a.id})," ",a.titre]},r)}))})]},t)}))})})})})})," "]}),Object(j.jsx)("div",{className:"mb-3 row",children:Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("span",{onClick:function(){t?V():H()},className:"btn btn-primary",children:"Submit"})})})]})}var J,W=a(677),Z=Object(l.gql)(J||(J=Object(T.a)(["\nsubscription utilisateurs {\n  utilisateurs{\n    nom\n    prenom\n\temail\n    telephone\n    roles{role{titre}}\n  }\n}"])));function $(){var e=c.a.useState([]),t=Object(x.a)(e,2),a=t[0],r=t[1],s=c.a.useState({}),n=Object(x.a)(s,2),i=n[0],o=n[1],d=Object(l.useSubscription)(Z),u=d.data;d.error;c.a.useEffect((function(){m()}),[]),c.a.useEffect((function(){void 0!==u&&r(u.utilisateurs)}),[u]);var m=function(){var e=Object(U.a)(M.a.mark((function e(t){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/utilisateurs/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/utilisateurs/"});case 4:200===(a=e.sent).status&&(r(a.data.utilisateurs),console.log(a)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),console.log("Alert");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(U.a)(M.a.mark((function e(t){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to delete this user "+t.nom+" "+t.prenom+"?")){e.next=16;break}return e.prev=2,a="http://priqh2server.herokuapp.com/api/v1/utilisateurs/".concat(t.id),e.next=6,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"delete",url:a});case 6:e.sent,alert(t.nom+" "+t.prenom+" deleted."),window.location.replace("/Utilisateurs"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0);case 14:e.next=17;break;case 16:alert(t.nom+" "+t.prenom+" not deleted");case 17:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("main",{className:"content",children:Object(j.jsxs)("div",{className:"container-fluid p-0",children:[Object(j.jsx)("div",{className:"row mb-2 mb-xl-3",children:Object(j.jsx)("div",{className:"col-auto d-none d-sm-block",children:Object(j.jsx)("h1",{className:"h3 mb-3",children:"Gestion des utilisateurs "})})}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12 col-xl-12",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h5",{className:"card-title",children:"Liste des utilisateurs"})}),Object(j.jsxs)(W.a,{responsive:!0,children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{style:{width:"13%"},children:"Nom"}),Object(j.jsx)("th",{style:{width:"13%"},children:"Email"}),Object(j.jsx)("th",{style:{width:"13%"},children:"Telephone"}),Object(j.jsx)("th",{style:{width:"13%"},children:"Role"}),Object(j.jsx)("th",{style:{width:"10%"},children:Object(j.jsx)("span",{"data-toggle":"modal","data-target":"#defaultModalPrimary",style:{cursor:"pointer"},children:Object(j.jsx)(v.a,{icon:"user-plus"})})})]})}),Object(j.jsx)("tbody",{children:a.map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.nom+" "+e.prenom}),Object(j.jsx)("td",{children:e.email}),Object(j.jsx)("td",{children:e.telephone}),Object(j.jsxs)("td",{children:[Object(j.jsx)("ul",{className:"px-0",children:e.roles.map((function(e,t){return Object(j.jsx)("li",{style:{listStyleType:"none"},children:e.role.titre},t)}))})," "]}),Object(j.jsxs)("td",{className:"table-action",children:[Object(j.jsx)("span",{style:{cursor:"pointer"},"data-toggle":"modal","data-target":"#ModalMod",onClick:function(t){return o(e)},children:Object(j.jsx)(v.a,{icon:"edit-2"})}),Object(j.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return b(e)},children:Object(j.jsx)(v.a,{icon:"trash"})})]})]},t)}))})]}),Object(j.jsx)("div",{className:"modal fade",id:"defaultModalPrimary",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:Object(j.jsx)("div",{className:"modal-dialog",role:"document",children:Object(j.jsx)("div",{className:"modal-content",children:Object(j.jsx)("div",{className:"modal-header",children:Object(j.jsx)("div",{className:"col-12 col-xl-12",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("h5",{className:"modal-title",children:"Ajouter utilisateur"}),Object(j.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(X,{})})]})})})})})}),Object(j.jsx)("div",{className:"modal fade",id:"ModalMod",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:Object(j.jsx)("div",{className:"modal-dialog",role:"document",children:Object(j.jsx)("div",{className:"modal-content",children:Object(j.jsx)("div",{className:"modal-header",children:Object(j.jsx)("div",{className:"col-12 col-xl-12",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("h5",{className:"modal-title",children:"Modifier utilisateur"}),Object(j.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(X,{user:i})})]})})})})})})]})})})]})})}function ee(e){var t=e.role,a=Object(Y.a)(),r=c.a.useState([]),s=Object(x.a)(r,2),n=s[0],i=s[1],l=c.a.useState(""),o=Object(x.a)(l,2),d=o[0],u=o[1],m=c.a.useState([]),b=Object(x.a)(m,2),h=b[0],p=b[1],f=c.a.useState([]),O=Object(x.a)(f,2),v=(O[0],O[1],c.a.useState(!1)),g=Object(x.a)(v,2),N=g[0],y=g[1],w=c.a.useState([]),k=Object(x.a)(w,2),S=k[0],q=k[1],C=c.a.useState([]),_=Object(x.a)(C,2),A=_[0],R=_[1],z=function(){var e=Object(U.a)(M.a.mark((function e(){var t,a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==d){e.next=2;break}return e.abrupt("return",console.log("titre obligatoire !!"));case 2:if(0!==L.length){e.next=4;break}return e.abrupt("return",console.log("fonctionalite obligatoire !!"));case 4:if(0!==K.length){e.next=6;break}return e.abrupt("return",console.log("interface obligatoire !!"));case 6:return t={titre:d,relations:{fonctionalites:L,interfaces:K}},e.prev=7,"http://priqh2server.herokuapp.com/api/v1/roles/",e.next=11,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"post",url:"http://priqh2server.herokuapp.com/api/v1/roles/",data:t});case 11:a=e.sent,console.log(a),window.location.replace("/Roles"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(7),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(U.a)(M.a.mark((function e(){var a,r,c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={titre:d,relations:{fonctionalites:L,interfaces:K}},e.prev=1,r="http://priqh2server.herokuapp.com/api/v1/roles/".concat(t.id),e.next=5,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"put",url:r,data:a});case 5:c=e.sent,console.log(c),window.location.replace("/Roles"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(U.a)(M.a.mark((function e(){var t,a,r,c,s,n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/fonctionalites/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/fonctionalites/"});case 4:if(200===(t=e.sent).status){a=[],r=Object(P.a)(t.data.fonctionalites);try{for(r.s();!(c=r.n()).done;)s=c.value,n={value:s.id,label:s.titre},a.push(n)}catch(l){r.e(l)}finally{r.f()}i(a)}e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(U.a)(M.a.mark((function e(){var t,a,r,c,s,n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/interfaces/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/interfaces/"});case 4:if(200===(t=e.sent).status){a=[],r=Object(P.a)(t.data.interfaces);try{for(r.s();!(c=r.n()).done;)s=c.value,n={value:s.id,label:s.titre},a.push(n)}catch(i){r.e(i)}finally{r.f()}p(a)}e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();c.a.useEffect((function(){B(),E()}),[]);var T=c.a.useState([]),F=Object(x.a)(T,2),L=F[0],H=F[1],V=c.a.useState([]),G=Object(x.a)(V,2),K=G[0],X=G[1],J=function(e){H(Array.isArray(e)?e.map((function(e){return e.value})):[])},W=function(e){X(Array.isArray(e)?e.map((function(e){return e.value})):[])},Z=function(){var e=Object(U.a)(M.a.mark((function e(){var a,r,c,s,i,l,o,d,u,j,m,b,p,f;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),a=[],r=Object(P.a)(n);try{for(r.s();!(c=r.n()).done;){s=c.value,i=Object(P.a)(t.fonctionalites);try{for(i.s();!(l=i.n()).done;)o=l.value,s.label===o.titre&&a.push(s)}catch(x){i.e(x)}finally{i.f()}}}catch(x){r.e(x)}finally{r.f()}d=[],u=Object(P.a)(h);try{for(u.s();!(j=u.n()).done;){m=j.value,b=Object(P.a)(t.interfaces);try{for(b.s();!(p=b.n()).done;)f=p.value,m.label===f.titre&&d.push(m)}catch(x){b.e(x)}finally{b.f()}}}catch(x){u.e(x)}finally{u.f()}q(a),$(a),R(d),ee(d);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(e){H(e.map((function(e){return e.value})))},ee=function(e){X(e.map((function(e){return e.value})))};return Object(j.jsxs)(c.a.Fragment,{children:[Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Titre"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return u(e.target.value)},placeholder:t?t.titre:"Titre"})})]}),t?"":Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Fonctionalites"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("div",{className:"boxes",children:Object(j.jsx)(Q.a,{closeMenuOnSelect:!1,components:a,isMulti:!0,options:n,onChange:J})})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Interfaces"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("div",{className:"boxes",children:Object(j.jsx)(Q.a,{closeMenuOnSelect:!1,components:a,isMulti:!0,options:h,onChange:W})})})]})]}),Object(j.jsx)("hr",{}),t?Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"mb-3 row",children:Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("button",{className:"btn btn-danger",onClick:function(){y(!N),Z()},children:N?"cancel":"R\xe9initialiser les interfaces & fonctionalites"})})}),N?Object(j.jsxs)("div",{children:[Object(j.jsx)("hr",{}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"fonctionalites"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("div",{className:"boxes",children:Object(j.jsx)(Q.a,{closeMenuOnSelect:!1,components:a,defaultValue:S,isMulti:!0,options:n,onChange:J})})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Interfaces"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("div",{className:"boxes",children:Object(j.jsx)(Q.a,{closeMenuOnSelect:!1,components:a,defaultValue:A,isMulti:!0,options:h,onChange:W})})})]})]}):""," "]}):"",Object(j.jsx)("div",{className:"mb-3 row",children:Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("span",{onClick:function(){t?I():z()},className:"btn btn-primary",children:"Submit"})})})]})}function te(){var e=c.a.useState([]),t=Object(x.a)(e,2),a=t[0],r=t[1],s=c.a.useState({}),n=Object(x.a)(s,2),i=n[0],l=n[1],o=function(){var e=Object(U.a)(M.a.mark((function e(t){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/roles/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/roles/"});case 4:a=e.sent,r(a.data.roles),console.log(a),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),console.log("Alert");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(U.a)(M.a.mark((function e(t){var a,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to delete this role "+t.titre+" ?")){e.next=17;break}return e.prev=2,a="http://priqh2server.herokuapp.com/api/v1/roles/".concat(t.id),e.next=6,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"delete",url:a});case 6:r=e.sent,console.log(r),alert(t.titre+" deleted."),window.location.replace("/Roles"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:e.next=18;break;case 17:alert(t.titre+" not deleted");case 18:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();return c.a.useEffect((function(){o()}),[]),Object(j.jsx)("main",{className:"content",children:Object(j.jsxs)("div",{className:"container-fluid p-0",children:[Object(j.jsx)("div",{className:"row mb-2 mb-xl-3",children:Object(j.jsx)("div",{className:"col-auto d-none d-sm-block",children:Object(j.jsx)("h1",{className:"h3 mb-3",children:"Gestion des roles"})})}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12 col-xl-12",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h5",{className:"card-title",children:"Liste des roles"})}),Object(j.jsxs)(W.a,{responsive:!0,children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{style:{width:"20%"},children:"Titre"}),Object(j.jsx)("th",{style:{width:"35%"},children:"Fonctionalit\xe9s"}),Object(j.jsx)("th",{style:{width:"35%"},children:"Interfaces"}),Object(j.jsx)("th",{style:{width:"10%"},children:Object(j.jsx)("span",{"data-toggle":"modal","data-target":"#defaultModalPrimary",style:{cursor:"pointer"},children:Object(j.jsx)(v.a,{icon:"folder-plus"})})})]})}),Object(j.jsx)("tbody",{children:a.map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.titre}),Object(j.jsx)("td",{children:Object(j.jsx)("table",{className:"table",children:Object(j.jsx)("tbody",{children:e.fonctionalites.map((function(e,t){return Object(j.jsx)("tr",{children:Object(j.jsx)("td",{children:e.titre})},t)}))})})}),Object(j.jsx)("td",{children:Object(j.jsx)("table",{className:"table",children:Object(j.jsx)("tbody",{children:e.interfaces.map((function(e,t){return Object(j.jsx)("tr",{children:Object(j.jsx)("td",{children:e.titre})},t)}))})})}),Object(j.jsxs)("td",{className:"table-action",children:[Object(j.jsx)("span",{style:{cursor:"pointer"},"data-toggle":"modal","data-target":"#ModalMod",onClick:function(){return l(e)},children:Object(j.jsx)(v.a,{icon:"edit-2"})}),Object(j.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return d(e)},children:Object(j.jsx)(v.a,{icon:"trash"})})]})]},t)}))})]}),Object(j.jsx)("div",{className:"modal fade",id:"defaultModalPrimary",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:Object(j.jsx)("div",{className:"modal-dialog",role:"document",children:Object(j.jsx)("div",{className:"modal-content",children:Object(j.jsx)("div",{className:"modal-header",children:Object(j.jsx)("div",{className:"col-12 col-xl-12",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("h5",{className:"modal-title",children:"Ajouter role"}),Object(j.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(ee,{})})]})})})})})}),Object(j.jsx)("div",{className:"modal fade",id:"ModalMod",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:Object(j.jsx)("div",{className:"modal-dialog",role:"document",children:Object(j.jsx)("div",{className:"modal-content",children:Object(j.jsx)("div",{className:"modal-header",children:Object(j.jsx)("div",{className:"col-12 col-xl-12",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("h5",{className:"modal-title",children:"Modifier role"}),Object(j.jsx)("span",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(ee,{role:i})})]})})})})})})]})})})]})})}function ae(e){var t=e.role,a=Object(Y.a)(),r=c.a.useState([]),s=Object(x.a)(r,2),n=s[0],i=s[1],l=c.a.useState([]),o=Object(x.a)(l,2),d=o[0],u=o[1],m=c.a.useState([]),b=Object(x.a)(m,2),h=b[0],p=b[1],f=c.a.useState(!1),O=Object(x.a)(f,2),v=O[0],g=O[1],N=function(){var e=Object(U.a)(M.a.mark((function e(){var t,a,r,c,s,n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/specifications/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/specifications/"});case 4:if(200===(t=e.sent).status){a=[],r=Object(P.a)(t.data.specifications);try{for(r.s();!(c=r.n()).done;)s=c.value,n={value:s.id,label:s.titre},a.push(n)}catch(l){r.e(l)}finally{r.f()}i(a)}e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(U.a)(M.a.mark((function e(){var a,r,c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={relations:{specifications:h}},e.prev=1,r="http://priqh2server.herokuapp.com/api/v1/roles/".concat(t.id),e.next=5,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"put",url:r,data:a});case 5:c=e.sent,console.log(c),window.location.replace("/Groupes"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(U.a)(M.a.mark((function e(){var a,r,c,s,i,l,o;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],r=Object(P.a)(n);try{for(r.s();!(c=r.n()).done;){s=c.value,i=Object(P.a)(t.specification);try{for(i.s();!(l=i.n()).done;)o=l.value,s.label===o.titre&&a.push(s)}catch(d){i.e(d)}finally{i.f()}}}catch(d){r.e(d)}finally{r.f()}u(a),k(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(e){p(e.map((function(e){return e.value})))};return c.a.useEffect((function(){N()}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"mb-3 row",children:Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("button",{className:"btn btn-danger",onClick:function(){g(!v),w()},children:v?"cancel":"R\xe9initialiser les specifications"})})}),v?Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Specifications"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("div",{className:"boxes",children:Object(j.jsx)(Q.a,{closeMenuOnSelect:!1,components:a,defaultValue:d,isMulti:!0,options:n,onChange:function(e){p(Array.isArray(e)?e.map((function(e){return e.value})):[])}})})})]}),Object(j.jsx)("div",{className:"mb-3 row",children:Object(j.jsx)("div",{className:"col-sm-10",children:Object(j.jsx)("button",{type:"submit",onClick:y,className:"btn btn-primary",children:"Submit"})})})," "]}):""]})}function re(){var e=c.a.useState([]),t=Object(x.a)(e,2),a=t[0],r=t[1],s=c.a.useState({}),n=Object(x.a)(s,2),i=n[0],l=n[1];c.a.useEffect((function(){o()}),[]);var o=function(){var e=Object(U.a)(M.a.mark((function e(t){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/roles/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/roles/"});case 4:200===(a=e.sent).status&&(r(a.data.roles),console.log(a)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),console.log("Alert");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("main",{className:"content",children:Object(j.jsxs)("div",{className:"container-fluid p-0",children:[Object(j.jsx)("div",{className:"row mb-2 mb-xl-3",children:Object(j.jsx)("div",{className:"col-auto d-none d-sm-block",children:Object(j.jsx)("h1",{className:"h3 mb-3",children:"Gestion des groupes"})})}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12 col-xl-12",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h5",{className:"card-title",children:"Liste des groupes"})}),Object(j.jsxs)(W.a,{responsive:!0,children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{style:{width:"30%"},children:"Titre"}),Object(j.jsx)("th",{style:{width:"60%"},children:"Specifications"}),Object(j.jsx)("th",{style:{width:"10%"}})]})}),Object(j.jsx)("tbody",{children:a.map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.titre}),Object(j.jsx)("td",{children:Object(j.jsx)(W.a,{responsive:!0,children:Object(j.jsx)("tbody",{children:e.specification.map((function(e,t){return Object(j.jsx)("tr",{children:Object(j.jsx)("td",{children:e.titre},t)},t)}))})})}),Object(j.jsx)("td",{className:"table-action",children:Object(j.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return l(e)},"data-toggle":"modal","data-target":"#ModalMod",children:Object(j.jsx)(v.a,{icon:"edit-2"})})})]},t)}))})]}),Object(j.jsx)("div",{className:"modal fade",id:"ModalMod",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:Object(j.jsx)("div",{className:"modal-dialog",role:"document",children:Object(j.jsx)("div",{className:"modal-content",children:Object(j.jsx)("div",{className:"modal-header",children:Object(j.jsx)("div",{className:"col-12 col-xl-12",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("h5",{className:"modal-title",children:"Modifier role"}),Object(j.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(ae,{role:i})})]})})})})})})]})})})]})})}function ce(){var e=c.a.useState([]),t=Object(x.a)(e,2),a=t[0],r=t[1];c.a.useEffect((function(){s()}),[]);var s=function(){var e=Object(U.a)(M.a.mark((function e(t){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/fonctionalites/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/fonctionalites/"});case 4:200===(a=e.sent).status&&r(a.data.fonctionalites),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Alert",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("main",{className:"content",children:Object(j.jsxs)("div",{className:"container-fluid p-0",children:[Object(j.jsx)("div",{className:"row mb-2 mb-xl-3",children:Object(j.jsx)("div",{className:"col-auto d-none d-sm-block",children:Object(j.jsx)("h1",{className:"h3 mb-3",children:"Les Fonctionalites"})})}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12 col-xl-12",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h5",{className:"card-title",children:"Liste des Fonctionalites"})}),Object(j.jsxs)("table",{className:"table",children:[Object(j.jsx)("thead",{children:Object(j.jsx)("tr",{children:Object(j.jsx)("th",{style:{width:"100%"},children:"titre"})})}),Object(j.jsx)("tbody",{children:a.map((function(e,t){return Object(j.jsx)("tr",{children:Object(j.jsx)("td",{children:e.titre},t)},t)}))})]})]})})})]})})}function se(e){var t=e.specification,a=c.a.useState(""),r=Object(x.a)(a,2),s=r[0],n=r[1],i=function(){var e=Object(U.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/Specifications/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"post",url:"http://priqh2server.herokuapp.com/api/v1/Specifications/",data:{titre:s}});case 4:t=e.sent,console.log(t),window.location.replace("/Specifications"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(U.a)(M.a.mark((function e(){var a,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="http://priqh2server.herokuapp.com/api/v1/specifications/".concat(t.id),e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"put",url:a,data:{titre:s}});case 4:r=e.sent,console.log(r),window.location.replace("/Specifications"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Titre :"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return n(e.target.value)},placeholder:t?t.titre:""})})]}),Object(j.jsx)("div",{className:"mb-3 row",children:Object(j.jsx)("div",{className:"col-sm-10",children:Object(j.jsx)("button",{type:"submit",onClick:function(){t?l():i()},className:"btn btn-primary",children:"Submit"})})})]})}function ne(){var e=c.a.useState([]),t=Object(x.a)(e,2),a=t[0],r=t[1],s=c.a.useState({}),n=Object(x.a)(s,2),i=n[0],l=n[1];c.a.useEffect((function(){o()}),[]);var o=function(){var e=Object(U.a)(M.a.mark((function e(t){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/specifications/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/specifications/"});case 4:200===(a=e.sent).status&&(r(a.data.specifications),console.log(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(U.a)(M.a.mark((function e(t){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Are you sure you want to delete this specification "+t.titre+"?")){e.next=16;break}return e.prev=2,a="http://priqh2server.herokuapp.com/api/v1/specifications/".concat(t.id),e.next=6,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"delete",url:a});case 6:e.sent,alert(t.titre+" deleted."),window.location.replace("/Specifications"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0);case 14:e.next=17;break;case 16:alert(t.titre+" not deleted");case 17:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("main",{className:"content",children:Object(j.jsxs)("div",{className:"container-fluid p-0",children:[Object(j.jsx)("div",{className:"row mb-2 mb-xl-3",children:Object(j.jsx)("div",{className:"col-auto d-none d-sm-block",children:Object(j.jsx)("h1",{className:"h3 mb-3",children:"Gestion des specifications"})})}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12 col-xl-12",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h5",{className:"card-title",children:"Liste des groupes"})}),Object(j.jsxs)(W.a,{responsive:!0,children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{style:{width:"90%"},children:"Titre"}),Object(j.jsx)("th",{style:{width:"10%"},children:Object(j.jsx)("span",{"data-toggle":"modal","data-target":"#defaultModalPrimary",style:{cursor:"pointer"},children:Object(j.jsx)(v.a,{icon:"folder-plus"})})})]})}),Object(j.jsx)("tbody",{children:a.map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.titre}),Object(j.jsxs)("td",{className:"table-action",children:[Object(j.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return l(e)},"data-toggle":"modal","data-target":"#ModalMod",children:Object(j.jsx)(v.a,{icon:"edit-2"})}),Object(j.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return d(e)},children:Object(j.jsx)(v.a,{icon:"trash"})})]})]})}))})]}),Object(j.jsx)("div",{className:"modal fade",id:"defaultModalPrimary",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:Object(j.jsx)("div",{className:"modal-dialog",role:"document",children:Object(j.jsx)("div",{className:"modal-content",children:Object(j.jsx)("div",{className:"modal-header",children:Object(j.jsx)("div",{className:"col-12 col-xl-12",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("h5",{className:"modal-title",children:"Ajouter specification"}),Object(j.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(se,{})})]})})})})})}),Object(j.jsx)("div",{className:"modal fade",id:"ModalMod",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:Object(j.jsx)("div",{className:"modal-dialog",role:"document",children:Object(j.jsx)("div",{className:"modal-content",children:Object(j.jsx)("div",{className:"modal-header",children:Object(j.jsx)("div",{className:"col-12 col-xl-12",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("h5",{className:"modal-title",children:"Modifier specicifation"}),Object(j.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(se,{specification:i})})]})})})})})})]})})})]})})}function ie(){var e=R().user,t=c.a.useState({}),a=Object(x.a)(t,2),r=a[0],s=a[1],n=c.a.useState(""),l=Object(x.a)(n,2),o=l[0],d=l[1],u=c.a.useState(""),m=Object(x.a)(u,2),b=m[0],h=m[1],p=c.a.useState(""),f=Object(x.a)(p,2),O=f[0],v=f[1],g=c.a.useState(""),N=Object(x.a)(g,2),y=N[0],w=N[1],k=c.a.useState(""),S=Object(x.a)(k,2),q=S[0],C=S[1],_=function(){var e=Object(U.a)(M.a.mark((function e(t){var a,c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return""===r.nom&&delete r.nom,""===r.prenom&&delete r.prenom,console.log(r),a=new FormData,r.nom&&a.append("nom",r.nom),r.prenom&&a.append("nom",r.prenom),void 0!==document.getElementById("image").files[0]&&a.append("image",document.getElementById("image").files[0]),console.log(a.get("image")),e.prev=8,"http://priqh2server.herokuapp.com/api/v1/utilisateurs/modifierProfile",e.next=12,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"put",url:"http://priqh2server.herokuapp.com/api/v1/utilisateurs/modifierProfile",data:a});case 12:c=e.sent,console.log(c),200===c.status&&console.log(c),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(8),console.log("Alert",e.t0);case 20:case"end":return e.stop()}}),e,null,[[8,17]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(U.a)(M.a.mark((function e(t){var a,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},""!==o&&(a.email=o),""!==b&&(a.telephone=b),console.log(a),e.prev=4,"http://priqh2server.herokuapp.com/api/v1/utilisateurs/modifierProfile",e.next=8,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"put",url:"http://priqh2server.herokuapp.com/api/v1/utilisateurs/modifierProfile",data:a});case 8:r=e.sent,console.log(r),200===r.status&&console.log(r),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.log("Alert",e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(U.a)(M.a.mark((function e(t){var a,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==q){e.next=4;break}console.log("Please fill your current password!"),e.next=28;break;case 4:if(""!=O||""!=y){e.next=8;break}console.log("Please tell us your new password and confirm it!"),e.next=28;break;case 8:if(O===y){e.next=12;break}console.log("Your passwords didnt match up ! Please try again."),e.next=28;break;case 12:return a={},""!==q&&(a.currentPassword=q),""!==O&&(a.password=O),console.log(a),e.prev=16,"http://priqh2server.herokuapp.com/api/v1/utilisateurs/modifierMotDePasse",e.next=20,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"put",url:"http://priqh2server.herokuapp.com/api/v1/utilisateurs/modifierMotDePasse",data:a});case 20:r=e.sent,console.log(r),200===r.status&&console.log(r),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(16),console.log("Alert",e.t0);case 28:case"end":return e.stop()}}),e,null,[[16,25]])})));return function(t){return e.apply(this,arguments)}}(),I=c.a.useState("img/photos/user-01.png"),B=Object(x.a)(I,2),E=B[0],P=B[1];return Object(j.jsx)("main",{className:"content",children:Object(j.jsxs)("div",{className:"container-fluid p-0",children:[Object(j.jsx)("h1",{className:"h3 mb-3",children:"Modifier profile"}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-3 col-xl-2",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h5",{className:"card-title mb-0",children:"Profile "})}),Object(j.jsxs)("div",{className:"list-group list-group-flush",role:"tablist",children:[Object(j.jsx)("a",{className:"list-group-item list-group-item-action active","data-toggle":"list",href:"#account",role:"tab",children:"S'identifier"}),Object(j.jsx)("a",{className:"list-group-item list-group-item-action","data-toggle":"list",href:"#info",role:"tab",children:"Mes informations"}),Object(j.jsx)("a",{className:"list-group-item list-group-item-action","data-toggle":"list",href:"#password",role:"tab",children:"Mot de passe"})]})]})}),Object(j.jsx)("div",{className:"col-md-9 col-xl-10",children:Object(j.jsxs)("div",{className:"tab-content",children:[Object(j.jsx)("div",{className:"tab-pane fade show active",id:"account",role:"tabpanel",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h5",{className:"card-title mb-0",children:"S'identifier"})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-md-8",children:[Object(j.jsxs)("div",{className:"mb-3 col-md-6",children:[Object(j.jsx)("label",{className:"form-label",htmlFor:"inputFirstName",children:"Nom"}),Object(j.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{nom:e.target.value}))},id:"inputFirstName",placeholder:e.payload.nom})]}),Object(j.jsxs)("div",{className:"mb-3 col-md-6",children:[Object(j.jsx)("label",{className:"form-label",htmlFor:"inputLastName",children:"Prenom"}),Object(j.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{prenom:e.target.value}))},id:"inputLastName",placeholder:e.payload.prenom})]})]}),Object(j.jsx)("div",{className:"col-md-4",children:Object(j.jsxs)("div",{className:"text-center",children:[Object(j.jsx)("img",{src:E,className:"rounded-circle img-responsive mt-2",width:"128",height:"128",alt:"image"}),Object(j.jsx)("div",{className:"mt-2",children:Object(j.jsx)("input",{type:"file",id:"image",onChange:function(e){P(URL.createObjectURL(e.target.files[0]))}})}),Object(j.jsx)("small",{children:"Pour une meilleur resultat, utiliser une image d'au moins 128px  avec .jpg format"})]})})]}),Object(j.jsx)("span",{onClick:_,className:"btn btn-primary",children:"Enregistrer"})]})})]})}),Object(j.jsx)("div",{className:"tab-pane fade",id:"info",role:"tabpanel",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h5",{className:"card-title mb-0",children:"Mes informations"})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{className:"form-label",htmlFor:"inputEmail4",children:"Email"}),Object(j.jsx)("input",{type:"email",className:"form-control",onChange:function(e){return d(e.target.value)},id:"inputEmail4",placeholder:e.payload.email})]}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"mb-3 col-md-6",children:[Object(j.jsx)("label",{className:"form-label",htmlFor:"inputCity",children:"Telephone"}),Object(j.jsx)("input",{type:"phone",className:"form-control",placeholder:e.payload.telephone,onChange:function(e){return h(e.target.value)},id:"inputCity"})]}),Object(j.jsxs)("div",{className:"mb-3 col-md-4",children:[Object(j.jsx)("label",{className:"form-label",htmlFor:"inputState",children:"role"}),Object(j.jsxs)("select",{id:"inputState",className:"form-control",children:[Object(j.jsx)("option",{selected:!0,children:"Choose..."}),Object(j.jsx)("option",{children:"..."})]})]})]}),Object(j.jsx)("span",{onClick:A,className:"btn btn-primary",children:"Enregistrer"})]})})]})}),Object(j.jsx)("div",{className:"tab-pane fade",id:"password",role:"tabpanel",children:Object(j.jsx)("div",{className:"card",children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{className:"card-title",children:"Mot de passe "}),Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{className:"form-label",htmlFor:"inputPasswordCurrent",children:"Mot de passe actuel"}),Object(j.jsx)("input",{type:"password",onChange:function(e){return C(e.target.value)},className:"form-control",id:"inputPasswordCurrent"}),Object(j.jsx)("small",{children:Object(j.jsx)("a",{href:"#",children:"Oublier mot de passe?"})})]}),Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{className:"form-label",htmlFor:"inputPasswordNew",children:"Nouveau mot de passe"}),Object(j.jsx)("input",{type:"password",onChange:function(e){return v(e.target.value)},className:"form-control",id:"inputPasswordNew"})]}),Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{className:"form-label",htmlFor:"inputPasswordNew2",children:"Comfirmer mot de passe"}),Object(j.jsx)("input",{type:"password",onChange:function(e){return w(e.target.value)},className:"form-control",id:"inputPasswordNew2"})]}),Object(j.jsx)("span",{onClick:z,className:"btn btn-primary",children:"Enregistrer"})]})]})})})]})})]})]})})}function le(){var e=R().user;return Object(j.jsxs)("main",{className:"content",children:[Object(j.jsxs)("div",{className:"container-fluid p-0",children:[Object(j.jsx)("h1",{className:"h3 mb-3",children:"Profile"}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-4 col-xl-3",children:Object(j.jsxs)("div",{className:"card mb-3",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h5",{className:"card-title mb-0",children:"Mon Profile "})}),Object(j.jsxs)("div",{className:"card-body text-center",children:[Object(j.jsx)("img",{src:"img/photos/user-01.png",alt:"photo de profile",className:"img-fluid rounded-circle mb-2",width:"128",height:"128"}),Object(j.jsx)("h5",{className:"card-title mb-0",children:e.payload.nom+" "+e.payload.prenom}),Object(j.jsx)("div",{className:"text-muted mb-2",children:e.payload.email}),Object(j.jsx)("div",{children:Object(j.jsx)("a",{className:"btn btn-primary btn-sm",href:"/settings",children:"Modifier mon profile"})})]}),Object(j.jsx)("hr",{className:"my-0"}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{className:"h6 card-title",children:"Mes roles "}),e.payload.roles.map((function(e,t){return Object(j.jsx)("span",{st:!0,href:"#","data-toggle":"modal","data-target":"#ModalMod",className:"badge btn-primary mr-1 my-1",children:e.titre},t)}))]}),Object(j.jsx)("hr",{className:"my-0"}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{className:"h6 card-title",children:"plus d'iformations"}),Object(j.jsxs)("ul",{className:"list-unstyled mb-0",children:[Object(j.jsxs)("li",{className:"mb-1",children:[Object(j.jsx)(v.a,{icon:"user-check"})," CIN ",Object(j.jsx)("span",{style:{color:"#3B7DDD"},children:e.payload.cin})," "]}),Object(j.jsxs)("li",{className:"mb-1",children:[Object(j.jsx)(v.a,{icon:"phone"})," telephone ",Object(j.jsx)("span",{style:{color:"#3B7DDD"},children:e.payload.telephone})," "]})]})]})]})}),Object(j.jsx)("div",{className:"col-md-8 col-xl-9",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h5",{className:"card-title mb-0",children:"Activities"})}),Object(j.jsxs)("div",{className:"card-body h-100",children:[Object(j.jsxs)("div",{className:"d-flex align-items-start",children:[Object(j.jsx)("img",{src:"img/photos/user-01.png",width:"36",height:"36",className:"rounded-circle mr-2",alt:"Vanessa Tucker"}),Object(j.jsxs)("div",{className:"flex-grow-1",children:[Object(j.jsx)("small",{className:"float-right text-navy",children:"5m ago"}),"Activities ....",Object(j.jsx)("small",{className:"text-muted",children:"Today 7:51 pm"}),Object(j.jsx)("br",{})]})]}),Object(j.jsx)("hr",{}),Object(j.jsx)("a",{href:"#",className:"btn btn-primary btn-block",children:"Load more"})]})]})})]})]}),Object(j.jsx)("div",{className:"modal fade",id:"ModalMod",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:Object(j.jsx)("div",{className:"modal-dialog",role:"document",children:Object(j.jsx)("div",{className:"modal-content",children:Object(j.jsx)("div",{className:"modal-header",children:Object(j.jsx)("div",{className:"col-12 col-xl-12",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("h5",{className:"modal-title",children:"liste des fonctionalit\xe9s "}),Object(j.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)("table",{className:"table",children:Object(j.jsxs)("tbody",{children:[Object(j.jsx)("tr",{children:Object(j.jsx)("td",{children:"Gestion des projets"})}),Object(j.jsx)("tr",{children:Object(j.jsx)("td",{children:"Gestion des quartiers"})})]})})})]})})})})})})]})}var oe=a(719),de=a(678),ue=a(378);function je(){Object(ue.a)(["Enter"],(function(e){"Enter"===e.key&&p(e)}));var e=R().user,t=c.a.useState(!1),a=Object(x.a)(t,2),r=a[0],s=a[1],n=c.a.useState(""),i=Object(x.a)(n,2),l=i[0],o=i[1],d=c.a.useState(""),u=Object(x.a)(d,2),m=u[0],b=u[1],h=z(),p=function(){var e=Object(U.a)(M.a.mark((function e(t){var a,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),t.preventDefault(),a={email:l,password:m},e.prev=3,"http://priqh2server.herokuapp.com/api/v1/utilisateurs/login",e.next=7,D()({method:"post",url:"http://priqh2server.herokuapp.com/api/v1/utilisateurs/login",data:a});case 7:r=e.sent,F.b.success("Success",{position:"top-right",autoClose:5e3,draggable:!1}),h({type:"LOGIN",payload:r.data.token}),window.location.replace("/"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),s(!1),F.b.error(e.t0.response.data.message,{position:"top-right",autoClose:5e3,draggable:!0});case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();return e?Object(j.jsx)(c.a.Fragment,{}):Object(j.jsxs)("main",{className:"d-flex w-100",children:[Object(j.jsx)(F.a,{}),Object(j.jsx)("div",{className:"container d-flex flex-column",children:Object(j.jsx)("div",{className:"row vh-100",children:Object(j.jsx)("div",{className:"col-sm-10 col-md-8 col-lg-6 mx-auto d-table h-100",children:Object(j.jsxs)("div",{className:"d-table-cell align-middle",children:[Object(j.jsxs)("div",{className:"text-center mt-4",children:[Object(j.jsx)("h1",{className:"h2",children:"Bienvenue"}),Object(j.jsx)("p",{className:"lead",children:"connecter pour acceder \xe0 votre compte"})]}),Object(j.jsx)("div",{className:"card",children:Object(j.jsx)("div",{className:"card-body",children:Object(j.jsxs)("div",{className:"m-sm-4",children:[Object(j.jsx)("div",{className:"text-center",children:Object(j.jsx)("img",{src:"img/photos/priqh.png",alt:"ARRU",className:"img-fluid ",width:"132",height:"132"})}),Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{className:"form-label",children:"Email"}),Object(j.jsx)("input",{className:"form-control form-control-lg",type:"email",onChange:function(e){return o(e.target.value)},name:"email",placeholder:"Entrer votre email"})]}),Object(j.jsxs)("div",{className:"mb-3",children:[Object(j.jsx)("label",{className:"form-label",children:"Mot de passe "}),Object(j.jsx)("input",{className:"form-control form-control-lg",type:"password",onChange:function(e){return b(e.target.value)},name:"password",placeholder:"Entrer votre mot de passe"}),Object(j.jsx)("small",{children:Object(j.jsx)("a",{href:"#",children:"oublier mot de passe ?"})})]}),Object(j.jsx)("div",{className:"text-center mt-3",children:Object(j.jsx)(oe.a,{variant:"primary",block:!0,onClick:p,disabled:r,children:r?Object(j.jsx)(de.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Sign in"})})]})]})})})]})})})})]})}var me,be,he=a(66),pe=(a(109),a(116),a(679)),fe=Object(l.gql)(me||(me=Object(T.a)(["\nsubscription traces {\n\ttraces{\n    \tutilisateur{nom, prenom, cin}, action, createdAt\n  \t}\n}"]))),xe=c.a.forwardRef((function(e,t){var a=c.a.useState({}),r=Object(x.a)(a,2),s=r[0],n=r[1],i=c.a.useState(!0),o=Object(x.a)(i,2),d=o[0],u=o[1],m=c.a.useState([]),b=Object(x.a)(m,2),h=(b[0],b[1],Object(l.useSubscription)(fe)),p=h.data;h.error;c.a.useEffect((function(){if(p){var e,t=[],a=Object(P.a)(p.traces);try{for(a.s();!(e=a.n()).done;){var r=e.value;t.push({cin:r.utilisateur.cin,nom:r.utilisateur.nom,prenom:r.utilisateur.prenom,action:r.action,date:new Date(r.createdAt).toLocaleString()})}}catch(c){a.e(c)}finally{a.f()}n({columns:[{label:"Cin",field:"cin"},{label:"Nom",field:"nom"},{label:"Prenom",field:"prenom"},{label:"Action",field:"action"},{label:"Date",field:"date",sort:"desc"}],rows:t})}}),[p]);var f=function(){var e=Object(U.a)(M.a.mark((function e(){var t,a,r,c,s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/traces/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/traces/"});case 4:t=e.sent,a=[],r=Object(P.a)(t.data.traces);try{for(r.s();!(c=r.n()).done;)s=c.value,a.push({cin:s.utilisateur?s.utilisateur.cin:null,nom:s.utilisateur?s.utilisateur.nom:null,prenom:s.utilisateur?s.utilisateur.prenom:null,action:s.action,date:new Date(s.createdAt).toLocaleString()})}catch(i){r.e(i)}finally{r.f()}n({columns:[{label:"Cin",field:"cin"},{label:"Nom",field:"nom"},{label:"Prenom",field:"prenom"},{label:"Action",field:"action"},{label:"Date",field:"date",sort:"desc"}],rows:a}),u(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){f()}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(F.a,{}),Object(j.jsx)("div",{className:"p-3",children:d?Object(j.jsx)("div",{className:"d-flex justify-content-center",children:Object(j.jsxs)(pe.a,{md:"auto",children:[Object(j.jsx)(de.a,{as:"span",animation:"border",size:"lg",variant:"primary",role:"status","aria-hidden":"true"})," "]})}):Object(j.jsx)(he.c,{ref:t,style:{marginLeft:"1%"},responsive:!0,hover:!0,entriesOptions:[5,20,25],striped:!0,pagesAmount:5,data:s,paging:!0,searchBottom:!0,order:["date","desc"],barReverse:!0})})]})})),Oe=Object(l.gql)(be||(be=Object(T.a)(["\nsubscription traces {\n\ttraces{\n    \tutilisateur{nom, prenom, cin}, action, createdAt\n  \t}\n}"])));function ve(){var e=c.a.useState([]),t=Object(x.a)(e,2),a=(t[0],t[1]);c.a.useEffect((function(){n()}),[]);var r=Object(l.useSubscription)(Oe),s=r.data;r.error;c.a.useEffect((function(){s&&a(s.traces)}),[s]);var n=function(){var e=Object(U.a)(M.a.mark((function e(t){var r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/traces/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/traces/"});case 4:200===(r=e.sent).status&&(a(r.data.traces),console.log(r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("main",{className:"content",children:Object(j.jsxs)("div",{className:"container-fluid p-0",children:[Object(j.jsx)("div",{className:"row mb-2 mb-xl-3",children:Object(j.jsx)("div",{className:"col-auto d-none d-sm-block",children:Object(j.jsx)("h1",{className:"h3 mb-3",children:"Gestion des Traces"})})}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12 col-xl-12",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h5",{className:"card-title",children:"Liste des Traces"})}),Object(j.jsx)(xe,{})]})})})]})})}var ge=a(250),Ne=a(682),ye=a(683),we=a(720),ke=a(684),Se=a(685),qe=a(686),Ce=a(688),_e=a(689),Ae=a(680),Re=a(687),ze=a(706),Ie=(a(493),a(714)),Be=a(287);function Ee(e){var t=e.quartier;console.log(t);var a=c.a.useState({}),r=Object(x.a)(a,2),s=r[0],n=r[1],l=function(){var e=Object(U.a)(M.a.mark((function e(){var a,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log({quartier:s}),e.prev=1,a="http://priqh2server.herokuapp.com/api/v1/quartiers/".concat(t.id),e.next=5,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"put",url:a,data:{quartier:s}});case 5:r=e.sent,F.b.success("Success",{position:"top-right",autoClose:5e3,draggable:!1}),console.log(r.data),window.location.replace("/Quartiers"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),F.b.error(e.t0.response.data.message,{position:"top-right",autoClose:5e3,draggable:!0});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();return Object(j.jsx)(c.a.Fragment,{children:Object(j.jsxs)(Ae.a,{children:[Object(j.jsx)(F.a,{}),Object(j.jsxs)(Ie.a,{children:[Object(j.jsxs)(Ie.a.Header,{children:[Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Nom en francais"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Nom en francais",defaultValue:t.nom_fr,onChange:function(e){return n(Object(i.a)(Object(i.a)({},s),{},{nom_fr:e.target.value}))}})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Nom en arabe"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Nom en arabe",defaultValue:t.nom_ar,onChange:function(e){return n(Object(i.a)(Object(i.a)({},s),{},{nom_ar:e.target.value}))}})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Surface (Hectar)"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"Surface Totale (Hectar)",defaultValue:t.surface,onChange:function(e){return n(Object(i.a)(Object(i.a)({},s),{},{surface:1*e.target.value}))}})})]})]}),Object(j.jsx)(Ie.a.Body,{children:Object(j.jsx)(oe.a,{variant:"primary",onClick:l,children:"Enregistrer"})})]})]})})}var Me=a(383),Pe=a(681),Ue=a(384),Te=function(e){var t=Object(Pe.a)();return Object(r.useEffect)((function(){var a=new Ue.a(Object(i.a)({provider:e.provider},e));return t.addControl(a),function(){return t.removeControl(a)}}),[e]),null},Fe=Ne.a.BaseLayer;function Le(e){var t=e.quartiers,a=e.loading,r=(e.setLoading,Object(Me.OpenStreetMapProvider)()),s=c.a.useState(!1),n=Object(x.a)(s,2),i=n[0],l=n[1],o=c.a.useState(!1),d=Object(x.a)(o,2),u=d[0],m=d[1],b=c.a.useState({}),h=Object(x.a)(b,2),p=h[0],f=h[1],O=function(){var e=Object(U.a)(M.a.mark((function e(t){var a,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,a="http://priqh2server.herokuapp.com/api/v1/quartiers/".concat(t),e.next=5,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"delete",url:a});case 5:r=e.sent,console.log(r.data),203===r.status&&window.location.replace("/Quartiers"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),g=function(e){var t,a=[],r=Object(P.a)(e);try{for(r.s();!(t=r.n()).done;){var c=t.value;a.push([c.lat,c.lng])}}catch(s){r.e(s)}finally{r.f()}return a};return Object(j.jsxs)(Ae.a,{children:[a?Object(j.jsx)("div",{className:"d-flex justify-content-center",children:Object(j.jsxs)(pe.a,{md:"auto",children:[Object(j.jsx)(de.a,{as:"span",animation:"border",size:"lg",variant:"primary",role:"status","aria-hidden":"true"})," "]})}):Object(j.jsxs)(ye.a,{center:[34.886917,9.537499],zoom:7,zoomControl:!1,children:[Object(j.jsxs)(Ne.a,{position:"bottomright",children:[Object(j.jsx)(Fe,{checked:!0,name:"osm",children:Object(j.jsx)(we.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})}),Object(j.jsx)(Fe,{name:"satellite",children:Object(j.jsx)(we.a,{attribution:'\xa9 <a href="server.arcgisonline.com">arcgisonline Maps</a> contributors',url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"})})]}),Object(j.jsx)(ke.a,{position:"bottomleft",zoomInText:"+",zoomOutText:"-"}),Object(j.jsx)(Te,{provider:r,showMarker:!1,showPopup:!1,popupFormat:function(e){e.query;return e.result.label},maxMarkers:3,retainZoomLevel:!1,animateZoom:!0,autoClose:!1,searchLabel:"Enter address, please",keepResult:!0}),t.map((function(e,t){return Object(j.jsx)(Se.a,{position:[e.center.lat,e.center.lng],children:Object(j.jsxs)(qe.a,{children:["Nom: ",e.nom_fr," ",Object(j.jsx)("br",{}),Object(j.jsx)(Re.a,{className:"justify-content-md-center",children:Object(j.jsxs)(pe.a,{md:"auto",children:[Object(j.jsx)(oe.a,{variant:"danger",onClick:function(){f(e),l(!0)},children:Object(j.jsx)(v.a,{icon:"trash"})}),Object(j.jsx)(oe.a,{variant:"success",onClick:function(){f(e),m(!0)},children:Object(j.jsx)(v.a,{icon:"edit"})})]})})]})},t)})),t.map((function(e,t){return Object(j.jsx)(Ce.a,{pathOptions:{color:"blue"},positions:g(e.latlngs),children:Object(j.jsx)(_e.a,{sticky:!0,children:e.nom_fr})},t)}))]}),Object(j.jsxs)(ze.a,{show:i,onHide:function(){return l(!1)},children:[Object(j.jsx)(ze.a.Header,{children:Object(j.jsx)(ze.a.Title,{children:"Confirmation"})}),Object(j.jsxs)(ze.a.Body,{children:["Are you sure you want delete ",p.nom_fr,"!"]}),Object(j.jsxs)(ze.a.Footer,{children:[Object(j.jsx)(oe.a,{variant:"danger",onClick:function(){return l(!1)},children:"Close"}),Object(j.jsx)(oe.a,{variant:"primary",onClick:function(){O(p.id)},children:"Save Changes"})]})]}),Object(j.jsxs)(ze.a,{show:u,size:"lg",onHide:function(){return m(!1)},dialogClassName:"modal-100w","aria-labelledby":"example-custom-modal-styling-title",children:[Object(j.jsx)(ze.a.Header,{children:Object(j.jsx)(ze.a.Title,{id:"example-custom-modal-styling-title",children:"Modifier Quartier"})}),Object(j.jsx)(ze.a.Body,{className:"show-grid",children:Object(j.jsx)(Ee,{quartier:p})})]})]})}var De=a(690),He=a(716),Ve=a(721),Ge=a(691),Qe=a(717),Ye=a(386),Ke=De.a.BaseLayer;function Xe(){var e=Object(Y.a)(),t=c.a.useState(!1),a=Object(x.a)(t,2),r=a[0],s=a[1],n=c.a.useState(null),i=Object(x.a)(n,2),l=i[0],o=i[1],d=c.a.useState(""),u=Object(x.a)(d,2),m=u[0],b=u[1],h=c.a.useState(""),p=Object(x.a)(h,2),f=p[0],O=p[1],v=c.a.useState([]),g=Object(x.a)(v,2),N=g[0],y=g[1],w=c.a.useState(null),k=Object(x.a)(w,2),S=k[0],q=k[1],C=c.a.useState([]),_=Object(x.a)(C,2),A=_[0],R=_[1],z=c.a.useState([]),I=Object(x.a)(z,2),B=I[0],E=(I[1],function(){var e=Object(U.a)(M.a.mark((function e(){var t,a,r,c,s,n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/gouvernorats/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/gouvernorats/"});case 4:if(t=e.sent,console.log(t.data.gouvernorats),200===t.status){a=[],r=Object(P.a)(t.data.gouvernorats);try{for(r.s();!(c=r.n()).done;)s=c.value,n={value:s,label:s.nom_fr+" - "+s.nom_ar},a.push(n)}catch(i){r.e(i)}finally{r.f()}y(a)}e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()),T=function(){var e=Object(U.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(B),e.prev=1,"http://priqh2server.herokuapp.com/api/v1/quartiers/",e.next=5,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"post",url:"http://priqh2server.herokuapp.com/api/v1/quartiers/",data:{quartiers:B}});case 5:201===(t=e.sent).status&&(console.log(t.data),window.location.replace("/Quartiers")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();c.a.useEffect((function(){E()}),[]);return Object(j.jsxs)(c.a.Fragment,{children:[Object(j.jsxs)(Ae.a,{children:[l?Object(j.jsx)(Ie.a,{children:Object(j.jsx)(Ie.a.Body,{children:Object(j.jsxs)(He.a,{center:[34.886917,9.537499],zoom:7,zoomControl:!1,children:[Object(j.jsxs)(De.a,{position:"bottomright",children:[Object(j.jsx)(Ke,{checked:!0,name:"osm",children:Object(j.jsx)(Ve.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})}),Object(j.jsx)(Ke,{name:"satellite",children:Object(j.jsx)(Ve.a,{attribution:'\xa9 <a href="server.arcgisonline.com">arcgisonline Maps</a> contributors',url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"})})]}),Object(j.jsx)(Ge.a,{position:"bottomleft",zoomInText:"+",zoomOutText:"-"}),Object(j.jsx)(Qe.a,{children:Object(j.jsx)(Be.a,{position:"topright",onCreated:function(e){console.log(e);var t=e.layerType,a=e.layer;if("polygon"===t){var r=a._leaflet_id;B.push({id:r,commune_id:l.id,commune_code:l.code,quartier:{nom_fr:"",nom_ar:"",surface:Ye.area(a.toGeoJSON())},center:a.getCenter(),latlngs:a.getLatLngs()[0]})}s(!0),console.log(B)},onEdited:function(e){for(var t=e.layers._layers,a=0;a<B.length;a++)for(var r=0,c=Object.values(t);r<c.length;r++){var s=c[r];B[a].id===s._leaflet_id&&B.splice(a,1,{id:s._leaflet_id,commune_id:l.id,quartier:{nom_fr:B[a].quartier.nom,nom_ar:B[a].quartier.nom_ar},center:s.getCenter(),latlngs:s.getLatLngs()[0]})}console.log(B)},onDeleted:function(e){var t=e.layers._layers;console.log(Object.values(t));for(var a=0;a<B.length;a++)for(var r=0,c=Object.values(t);r<c.length;r++){var s=c[r];B[a].id===s._leaflet_id&&B.splice(a,1)}console.log("delete",B)},click:function(e){return console.log(e)},draw:{rectangle:!1,circle:!1,circlemarker:!1,marker:!1,polyline:!1}})})]})})}):"",Object(j.jsxs)(Ie.a,{children:[Object(j.jsxs)(Ie.a.Header,{children:[Object(j.jsx)(Q.a,{className:"py-2",placeholder:"Select Gouvernorat ...",closeMenuOnSelect:!1,components:e,options:N,onChange:function(e){console.log(e);var t,a=[],r=Object(P.a)(e.value.communes);try{for(r.s();!(t=r.n()).done;){var c=t.value,s={value:c,label:c.nom_fr+" - "+c.nom_ar};a.push(s)}}catch(n){r.e(n)}finally{r.f()}R(a),q(e.value),console.log(a,S)},defaultValue:N[0]}),S?Object(j.jsx)(Q.a,{className:"py-2",placeholder:"Select Commune ...",closeMenuOnSelect:!1,components:e,options:A,onChange:function(e){o(e.value)}}):""]}),Object(j.jsx)(Ie.a.Body,{children:Object(j.jsx)(oe.a,{variant:"primary",onClick:T,children:"Enregistrer"})})]})]}),Object(j.jsxs)(ze.a,{show:r,onHide:function(){return s(!1)},children:[Object(j.jsx)(ze.a.Header,{children:Object(j.jsx)(ze.a.Title,{children:"Nom quartier"})}),Object(j.jsxs)(ze.a.Body,{children:[Object(j.jsxs)("div",{className:"row mb-3",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"nom en francais"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return b(e.target.value)}})})]}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"nom en arabe"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return O(e.target.value)}})})]})]}),Object(j.jsxs)(ze.a.Footer,{children:[Object(j.jsx)(oe.a,{variant:"primary",onClick:function(){B[B.length-1].quartier.nom_fr=m,B[B.length-1].quartier.nom_ar=f,b(""),O(""),s(!1)},children:"Enregistrer"}),Object(j.jsx)(oe.a,{variant:"danger",onClick:function(){return s(!1)},children:"Fermer"})]})]})]})}var Je,We,Ze=a(68),$e=Object(l.gql)(Je||(Je=Object(T.a)(["\nsubscription quartiers {\n  quartiers{\n    id\n    code\n    nom_fr\n    nom_ar\n    center{lat lng}\n    latlngs{lat lng}\n    surface\n  }\n}"]))),et=Object(l.gql)(We||(We=Object(T.a)(["\nsubscription gouvernorats {\n    gouvernorats{\n    id\n    code\n    nom_fr\n    nom_ar\n    communes{\n      id\n      code\n      nom_fr\n      nom_ar\n      quartiers{\n        id\n        code\n        nom_fr\n        nom_ar\n        center{lat lng}\n        latlngs{lat lng}\n        surface\n      }\n    }\n  }\n}"])));function tt(){var e=Object(Y.a)(),t=c.a.useState(!1),a=Object(x.a)(t,2),r=a[0],s=a[1],n=c.a.useState(!1),i=Object(x.a)(n,2),o=i[0],d=i[1],u=c.a.useState(""),m=Object(x.a)(u,2),b=(m[0],m[1]),h=c.a.useState([]),p=Object(x.a)(h,2),f=p[0],O=p[1],g=c.a.useState([]),N=Object(x.a)(g,2),y=N[0],w=N[1],k=c.a.useState([]),S=Object(x.a)(k,2),q=S[0],C=S[1],_=c.a.useState(0),A=Object(x.a)(_,2),R=A[0],z=A[1],I=c.a.useState(!0),B=Object(x.a)(I,2),E=B[0],T=B[1],F=Object(l.useSubscription)($e),L=F.data,H=(F.error,Object(l.useSubscription)(et)),V=H.data;H.error;console.log("gouvernoratsINFO",V);var G=function(){var e=Object(U.a)(M.a.mark((function e(){var t,a,r,c,s,n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/gouvernorats/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/gouvernorats/"});case 4:if(t=e.sent,console.log(t.data.gouvernorats),200===t.status){a=[],r=Object(P.a)(t.data.gouvernorats);try{for(r.s();!(c=r.n()).done;)s=c.value,n={value:s,label:s.nom_fr+" - "+s.nom_ar},a.push(n)}catch(i){r.e(i)}finally{r.f()}O(a)}e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(U.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/quartiers/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/quartiers/"});case 4:t=e.sent,console.log("fetchQuartiers",t.data.quartiers),C(t.data.quartiers),console.log(q),T(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){L&&(console.log(L),C(L.quartiers))}),[L]),c.a.useEffect((function(){if(V){var e,t=[],a=Object(P.a)(V.gouvernorats);try{for(a.s();!(e=a.n()).done;){var r=e.value,c={value:r,label:r.nom_fr+" - "+r.nom_ar};t.push(c)}}catch(s){a.e(s)}finally{a.f()}O(t)}}),[V]),c.a.useEffect((function(){return z(20),K(),z(50),G(),z(100),function(){return z(0)}}),[]),Object(j.jsxs)("main",{className:"content",children:[Object(j.jsx)(Ze.a,{color:"#1a2e8a",height:"4px",progress:R}),Object(j.jsxs)("div",{className:"container-fluid p-0",children:[Object(j.jsx)("h1",{className:"h3 mb-3",children:"Gestion des quartiers"}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12 col-lg-12",children:Object(j.jsx)(Ae.a,{children:Object(j.jsxs)(Re.a,{children:[Object(j.jsx)(pe.a,{xs:12,md:9,children:Object(j.jsx)(Ie.a,{children:Object(j.jsx)(Ie.a.Body,{children:Object(j.jsx)(Le,{quartiers:q,loading:E})})})}),Object(j.jsx)(pe.a,{xs:12,md:3,children:Object(j.jsxs)(Ie.a,{children:[Object(j.jsx)(Ie.a.Header,{children:Object(j.jsxs)(oe.a,{variant:"primary",size:"primary",block:!0,onClick:function(){return s(!0)},children:[Object(j.jsx)(v.a,{icon:"map"}),Object(j.jsx)(v.a,{icon:"plus"})]})}),Object(j.jsxs)(Ie.a.Body,{children:[Object(j.jsx)("div",{className:"mb-3 row",children:Object(j.jsx)("div",{className:"col-sm-12",children:Object(j.jsx)("div",{className:"boxes",children:Object(j.jsx)(Q.a,{className:"py-2",placeholder:"Select Gouvernorat ...",closeMenuOnSelect:!1,components:e,options:f,onChange:function(e){console.log("fgdfgdfg",document.getElementsByClassName("geosearch leaflet-bar leaflet-control leaflet-control-geosearch leaflet-geosearch-button")[0].onclick=!0),T(!0),console.log(e);var t,a=[],r=[],c=Object(P.a)(e.value.communes);try{for(c.s();!(t=c.n()).done;){var s=t.value,n={value:s,label:s.nom_fr+" - "+s.nom_ar};a.push(n),r.push.apply(r,Object(ge.a)(s.quartiers))}}catch(i){c.e(i)}finally{c.f()}console.log(r),w(a),d(e.value),C(r),T(!1)},defaultValue:f[0]})})})}),o?Object(j.jsx)("div",{className:"mb-3 row",children:Object(j.jsx)("div",{className:"col-sm-12",children:Object(j.jsx)("div",{className:"boxes",children:Object(j.jsx)(Q.a,{className:"py-2",placeholder:"Select Commune ...",closeMenuOnSelect:!1,components:e,options:y,onChange:function(e){T(!0),b(e.value),C(e.value.quartiers),T(!1)}})})})}):""]})]})})]})})})}),Object(j.jsx)("div",{className:"modal fade",id:"ModalMod",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:Object(j.jsx)("div",{className:"modal-dialog",role:"document",children:Object(j.jsx)("div",{className:"modal-content",children:Object(j.jsx)("div",{className:"modal-header",children:Object(j.jsx)("div",{className:"col-12 col-xl-12",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("h5",{className:"modal-title",children:"Ajouter Quartier"}),Object(j.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{className:"card-body"})]})})})})})})]}),Object(j.jsxs)(ze.a,{show:r,size:"lg",onHide:function(){return s(!1)},dialogClassName:"modal-100w","aria-labelledby":"example-custom-modal-styling-title",children:[Object(j.jsx)(ze.a.Header,{children:Object(j.jsx)(ze.a.Title,{id:"example-custom-modal-styling-title",children:"Ajouter Quartier"})}),Object(j.jsx)(ze.a.Body,{className:"show-grid",children:Object(j.jsx)(Xe,{})})]})]})}a(511);var at=a(388),rt=c.a.createContext(),ct=c.a.createContext(),st=localStorage.getItem("gouvernoratPriqh2");st||(st="Bizerte");var nt=function(e,t){switch(t.type){case"decompteEdit":return Object(i.a)(Object(i.a)({},e),{},{decompte:t.payload});case"financementEdit":return Object(i.a)(Object(i.a)({},e),{},{financements:t.payload});case"memoireEdit":return Object(i.a)(Object(i.a)({},e),{},{memoire:t.payload});case"prestataireEdit":return Object(i.a)(Object(i.a)({},e),{},{prestataire:t.payload});case"newProjet":return Object(i.a)(Object(i.a)({},e),{},{newProjet:t.payload});case"projetEdit":return Object(i.a)(Object(i.a)({},e),{},{projet:t.payload});case"communeEdit":return Object(i.a)(Object(i.a)({},e),{},{commune:t.payload});case"gouvernoratEdit":return localStorage.setItem("gouvernoratPriqh2",t.payload),Object(i.a)(Object(i.a)({},e),{},{gouvernorat:t.payload});default:throw new Error("Unkonwn action type: ".concat(t.type))}},it=function(e){var t=e.children,a=c.a.useReducer(nt,{projet:null,commune:null,gouvernorat:st,newProjet:null,prestataire:null,memoire:null,financements:null,decompte:null}),r=Object(x.a)(a,2),s=r[0],n=r[1];return Object(j.jsx)(ct.Provider,{value:n,children:Object(j.jsx)(rt.Provider,{value:s,children:t})})},lt=function(){return c.a.useContext(rt)},ot=function(){return c.a.useContext(ct)},dt=a(389);function ut(){var e=ot();return Object(j.jsx)("article",{className:"examples__block",children:Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"examples__block__map",children:Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)("div",{id:"world_map",style:{height:"350px"},className:"jvm-container",children:Object(j.jsx)(dt.SVGMap,{"data-for":"test",map:at.a,onLocationFocus:function(t){return e({type:"gouvernoratEdit",payload:t.target.ariaLabel})}})})})})})})}function jt(){var e=ot(),t=lt().newProjet;console.log(t);var a=Object(Y.a)(),r=c.a.useState(null),s=Object(x.a)(r,2),n=s[0],l=s[1],o=c.a.useState(null),d=Object(x.a)(o,2),u=d[0],m=d[1],b=c.a.useState(null),h=Object(x.a)(b,2),p=h[0],f=h[1],O=c.a.useState(null),v=Object(x.a)(O,2),g=v[0],N=v[1],y=c.a.useState([]),w=Object(x.a)(y,2),k=w[0],S=w[1],q=c.a.useState([]),C=Object(x.a)(q,2),_=(C[0],C[1],c.a.useState("")),A=Object(x.a)(_,2),R=(A[0],A[1],c.a.useState(!1)),z=Object(x.a)(R,2),I=z[0],B=(z[1],function(){var e=Object(U.a)(M.a.mark((function e(){var t,a,r,c,s,n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/quartiers/sans_projet",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/quartiers/sans_projet"});case 4:t=e.sent,a=[],r=Object(P.a)(t.data.gouvernorats);try{for(r.s();!(c=r.n()).done;)s=c.value,n={value:s,label:s.nom_fr+" "+s.nom_ar},a.push(n)}catch(i){r.e(i)}finally{r.f()}l(a),console.log(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}());return c.a.useEffect((function(){I||B()}),[I]),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Gouvernorat"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("div",{className:"boxes",children:Object(j.jsx)(Q.a,{placeholder:"Select Gouvernorat ...",components:a,options:n,onChange:function(e){var t=[];console.log(e);var a,r=Object(P.a)(e.value.communes);try{for(r.s();!(a=r.n()).done;){var c=a.value,s={value:c,label:c.nom_fr+" - "+c.nom_ar};t.push(s)}}catch(n){r.e(n)}finally{r.f()}f(t),m(e.value),console.log(t,u)}})})})]}),u?Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Commune"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("div",{className:"boxes",children:Object(j.jsx)(Q.a,{placeholder:"Select Commune ...",defaultValue:p[0],components:a,options:p,onChange:function(a){e({type:"newProjet",payload:Object(i.a)(Object(i.a)({},t),{},{commune_code:a.value.code})}),N(a.value);var r,c=[],s=Object(P.a)(a.value.quartiers);try{for(s.s();!(r=s.n()).done;){var n=r.value,l={value:n,label:n.nom_fr+" - "+n.nom_ar};c.push(l)}}catch(o){s.e(o)}finally{s.f()}S(c),console.log(c)}})})})]}):"",g?Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Quartiers"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("div",{className:"boxes",children:Object(j.jsx)(Q.a,{placeholder:"Select Quartiers ...",components:a,isMulti:!0,options:k,onChange:function(a){var r,c="",s=Object(P.a)(a);try{for(s.s();!(r=s.n()).done;){c=c+r.value.label.split("-")[0]+" "}}catch(d){s.e(d)}finally{s.f()}var n,l=0,o=Object(P.a)(a);try{for(o.s();!(n=o.n()).done;){l+=n.value.value.surface}}catch(d){o.e(d)}finally{o.f()}console.log(c),e({type:"newProjet",payload:Object(i.a)(Object(i.a)({},t),{},{projet:Object(i.a)(Object(i.a)({},t.projet),{},{nom:c.trim(),surface_totale:l}),quartiers:a.map((function(e){return e.value.id}))})})}})})})]}):""]})}function mt(){var e=c.a.useState({}),t=Object(x.a)(e,2),a=t[0],r=(t[1],ot()),s=lt().newProjet,n=function(){r({type:"newProjet",payload:Object(i.a)(Object(i.a)({},s),{},{projet:a})})};return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Nombre quartiers"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"Nombre quartiers",onChange:function(e){a.nbr_quartiers=1*e.target.value,n()}})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Surface Urbanis\xe9e (Hectar)"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"Surface Urbanis\xe9e (Hectar)",onChange:function(e){a.surface_urbanisee_totale=1*e.target.value,n()}})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Nombre de logements"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"Nombre de logements",onChange:function(e){a.nombre_logements_totale=1*e.target.value,n()}})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Nombre habitants"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"Nombre habitants",onChange:function(e){a.nombre_habitants_totale=1*e.target.value,n()}})})]})]})}function bt(){var e=lt().newProjet;console.log(e);var t=c.a.useState([]),a=Object(x.a)(t,2),r=(a[0],a[1],c.a.useState({type:"drainage des eaux pluviales",quantite:0,cout:0})),s=Object(x.a)(r,2),n=s[0],l=(s[1],c.a.useState({type:"voirie",quantite:0,cout:0})),o=Object(x.a)(l,2),d=o[0],u=(o[1],c.a.useState({type:"assainissement",quantite:0,cout:0})),m=Object(x.a)(u,2),b=m[0],h=(m[1],c.a.useState({type:"eclairage public",quantite:0,cout:0})),p=Object(x.a)(h,2),f=p[0],O=(p[1],c.a.useState({type:"eau potable",quantite:0,cout:0})),v=Object(x.a)(O,2),g=v[0],N=(v[1],ot()),y=function(){N({type:"newProjet",payload:Object(i.a)(Object(i.a)({},e),{},{infrastructures:[n,d,b,f,g]})})};return c.a.useEffect((function(){y()}),[]),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Drainage"}),Object(j.jsx)("div",{className:"col-sm-4",children:Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"quantite (km)",onChange:function(e){n.quantite=1*e.target.value,y()}})}),Object(j.jsx)("div",{className:"col-sm-5",children:Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"cout (mdt)",onChange:function(e){n.cout=1*e.target.value,y()}})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Voirie"}),Object(j.jsx)("div",{className:"col-sm-4",children:Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"quantite (km)",onChange:function(e){d.quantite=1*e.target.value,y()}})}),Object(j.jsx)("div",{className:"col-sm-5",children:Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"cout (mdt)",onChange:function(e){d.cout=1*e.target.value,y()}})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Assainissement"}),Object(j.jsx)("div",{className:"col-sm-4",children:Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"quantite (km)",onChange:function(e){b.quantite=1*e.target.value,y()}})}),Object(j.jsx)("div",{className:"col-sm-5",children:Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"cout (mdt)",onChange:function(e){b.cout=1*e.target.value,y()}})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Eclairage Public"}),Object(j.jsx)("div",{className:"col-sm-4",children:Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"p.lumineux",onChange:function(e){f.quantite=1*e.target.value,y()}})}),Object(j.jsx)("div",{className:"col-sm-5",children:Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"cout (mdt)",onChange:function(e){f.cout=1*e.target.value,y()}})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Eau potable"}),Object(j.jsx)("div",{className:"col-sm-4",children:Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"quantite (km)",onChange:function(e){g.quantite=1*e.target.value,y()}})}),Object(j.jsx)("div",{className:"col-sm-5",children:Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"cout (mdt)",onChange:function(e){g.cout=1*e.target.value,y()}})})]})]})}function ht(){var e=lt().newProjet;console.log(e);var t=c.a.useState({bureau_etude:"",cout_etude:0}),a=Object(x.a)(t,2),r=a[0];a[1],ot();console.log(e);var s=function(){var t=Object(U.a)(M.a.mark((function t(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,"http://priqh2server.herokuapp.com/api/v1/projets/",t.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"post",url:"http://priqh2server.herokuapp.com/api/v1/projets/",data:Object(i.a)(Object(i.a)({},e),{},{projet:Object(i.a)(Object(i.a)({},e.projet),r)})});case 4:t.sent,F.b.success("Success",{position:"top-right",autoClose:3e3,draggable:!1}),window.location.replace("/Projets"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0.message),F.b.error(t.t0.message,{position:"top-right",autoClose:5e3,draggable:!0});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return Object(j.jsxs)("div",{children:[Object(j.jsx)(F.a,{}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Etude"}),Object(j.jsx)("div",{className:"col-sm-4",children:Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Bureau",onChange:function(e){r.bureau_etude=e.target.value}})}),Object(j.jsx)("div",{className:"col-sm-5",children:Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"cout (mdt)",onChange:function(e){r.cout_etude=1*e.target.value}})})]}),Object(j.jsx)("div",{className:"mb-3 row",children:Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("span",{className:"btn btn-primary",onClick:function(){return s()},children:"Submit"})})})]})}var pt=a(390),ft=a.n(pt);a(520);function xt(){var e=[{name:"Projet",component:Object(j.jsx)(mt,{})},{name:"Quartiers",component:Object(j.jsx)(jt,{})},{name:"Infrastructure",component:Object(j.jsx)(bt,{})},{name:"Etude",component:Object(j.jsx)(ht,{})}];return Object(j.jsx)("div",{className:"step-progress",children:Object(j.jsx)(ft.a,{steps:e,nextButtonCls:"btn btn-primary pull-right",backButtonCls:"btn btn-primary pull-left",stepsNavigation:!1})})}function Ot(){var e=lt().projet,t=function(){return{drainage:{type:"drainage des eaux pluviales",quantite:e?e.infrastructures.filter((function(e){return"drainage des eaux pluviales"===e.type}))[0].quantite:"",cout:e?e.infrastructures.filter((function(e){return"drainage des eaux pluviales"===e.type}))[0].cout:""},eau:{type:"eau potable",quantite:e?e.infrastructures.filter((function(e){return"eau potable"===e.type}))[0].quantite:"",cout:e?e.infrastructures.filter((function(e){return"eau potable"===e.type}))[0].cout:""},assainissement:{type:"assainissement",quantite:e?e.infrastructures.filter((function(e){return"assainissement"===e.type}))[0].quantite:"",cout:e?e.infrastructures.filter((function(e){return"assainissement"===e.type}))[0].cout:""},eclairage:{type:"eclairage public",quantite:e?e.infrastructures.filter((function(e){return"eclairage public"===e.type}))[0].quantite:"",cout:e?e.infrastructures.filter((function(e){return"eclairage public"===e.type}))[0].cout:""},voirie:{type:"voirie",quantite:e?e.infrastructures.filter((function(e){return"voirie"===e.type}))[0].quantite:"",cout:e?e.infrastructures.filter((function(e){return"voirie"===e.type}))[0].cout:""},etude:{bureau_etude:e&&e.bureau_etude?e.bureau_etude:"",cout_etude:e&&e.cout_etude?e.cout_etude:0}}},a=c.a.useState(t().drainage),r=Object(x.a)(a,2),s=r[0],n=r[1],l=c.a.useState(t().eau),o=Object(x.a)(l,2),d=o[0],u=o[1],m=c.a.useState(t().assainissement),b=Object(x.a)(m,2),h=b[0],p=b[1],f=c.a.useState(t().eclairage),O=Object(x.a)(f,2),v=O[0],g=O[1],N=c.a.useState(t().voirie),y=Object(x.a)(N,2),w=y[0],k=y[1],S=c.a.useState(t().etude),q=Object(x.a)(S,2),C=q[0],_=q[1],A=function(){var t=Object(U.a)(M.a.mark((function t(){var a;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log({projet:Object(i.a)({},C),infrastructures:[s,d,h,v,w]}),t.prev=1,a="http://priqh2server.herokuapp.com/api/v1/projets/".concat(e.id),t.next=5,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"put",url:a,data:{projet:Object(i.a)({},C),infrastructures:[s,d,h,v,w]}});case 5:t.sent,F.b.success("Success",{position:"top-right",autoClose:3e3,draggable:!1}),window.location.replace("/Projets"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0.response.data.message),F.b.error(t.t0.response.data.message,{position:"top-right",autoClose:5e3,draggable:!0});case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}();return c.a.useEffect((function(){if(null!==e){var a=t();n(a.drainage),u(a.eau),g(a.eclairage),k(a.voirie),p(a.assainissement),_(a.etude)}}),[e]),Object(j.jsxs)("div",{children:[Object(j.jsx)(F.a,{}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Drainage"}),Object(j.jsx)("div",{className:"col-sm-4",children:Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"quantite (km)",onChange:function(e){return s.quantite=1*e.target.value},defaultValue:s.quantite})}),Object(j.jsx)("div",{className:"col-sm-5",children:Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"cout (mdt)",onChange:function(e){return s.cout=1*e.target.value},defaultValue:s.cout})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Voirie"}),Object(j.jsx)("div",{className:"col-sm-4",children:Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"quantite (km)",onChange:function(e){return w.quantite=1*e.target.value},defaultValue:w.quantite})}),Object(j.jsx)("div",{className:"col-sm-5",children:Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"cout (mdt)",onChange:function(e){return w.cout=1*e.target.value},defaultValue:w.cout})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Assainissement"}),Object(j.jsx)("div",{className:"col-sm-4",children:Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"quantite (km)",onChange:function(e){return h.quantite=1*e.target.value},defaultValue:h.quantite})}),Object(j.jsx)("div",{className:"col-sm-5",children:Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"cout (mdt)",onChange:function(e){return h.cout=1*e.target.value},defaultValue:h.cout})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Eclairage Public"}),Object(j.jsx)("div",{className:"col-sm-4",children:Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"p.lumineux (km)",onChange:function(e){return v.quantite=1*e.target.value},defaultValue:v.quantite})}),Object(j.jsx)("div",{className:"col-sm-5",children:Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"cout (mdt)",onChange:function(e){return v.cout=1*e.target.value},defaultValue:v.cout})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Eau potable"}),Object(j.jsx)("div",{className:"col-sm-4",children:Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"quantite (km)",onChange:function(e){return d.quantite=1*e.target.value},defaultValue:d.quantite})}),Object(j.jsx)("div",{className:"col-sm-5",children:Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"cout (mdt)",onChange:function(e){return d.bureaucout=1*e.target.value},defaultValue:d.cout})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Etude"}),Object(j.jsx)("div",{className:"col-sm-4",children:Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Bureau",onChange:function(e){return C.bureau_etude=e.target.value},defaultValue:C.bureau_etude})}),Object(j.jsx)("div",{className:"col-sm-5",children:Object(j.jsx)("input",{type:"number",className:"form-control",placeholder:"cout (mdt)",onChange:function(e){return C.cout_etude=1*e.target.value},defaultValue:C.cout_etude})})]}),Object(j.jsx)("div",{className:"mb-3 row",children:Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("span",{onClick:function(e){return A()},className:"btn btn-primary",children:"Submit"})})})]})}a(341);var vt,gt=a(69),Nt=a.n(gt),yt=Object(l.gql)(vt||(vt=Object(T.a)(["\nsubscription projets {\n  projets{\n    id \n    code \n    eligible \n    nbr_quartiers \n    surface_totale\n    surface_urbanisee_totale\n    nombre_logements_totale\n    nombre_habitants_totale\n    bureau_etude\n    cout_etude\n    tranche\n    quartiers{\n      id\n      code\n      nom_fr\n      nom_ar\n      surface\n    }\n    infrastructures{\n      id\n      code\n      type\n      quantite\n      cout\n    }\n  }\n}"]))),wt=c.a.forwardRef((function(e,t){var a=c.a.useState({}),r=Object(x.a)(a,2),s=r[0],n=r[1],i=c.a.useState({}),o=Object(x.a)(i,2),d=o[0],u=o[1],m=c.a.useState(!1),b=Object(x.a)(m,2),h=b[0],p=b[1],f=ot(),O=Object(l.useSubscription)(yt),g=O.data,N=(O.error,function(){var e=Object(U.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="http://priqh2server.herokuapp.com/api/v1/projets/".concat(d.id),e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"delete",url:t});case 4:203===e.sent.status&&(F.b.success("Success",{position:"top-right",autoClose:3e3,draggable:!1}),window.location.replace("/Projets")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),F.b.error(e.t0.response.data.message,{position:"top-right",autoClose:5e3,draggable:!0}),p(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()),y=function(){var t=Object(U.a)(M.a.mark((function t(){var a,r,c,s,i;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,"http://priqh2server.herokuapp.com/api/v1/projets/",t.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/projets/"});case 4:a=t.sent,console.log("fdgdfgdfg",a),r=[],c=Object(P.a)(a.data.projets);try{for(i=function(){var e,t=s.value,a="",c=Object(P.a)(t.quartiers);try{for(c.s();!(e=c.n()).done;){a=a+e.value.nom_fr+" "}}catch(n){c.e(n)}finally{c.f()}r.push({nom:a.trim(),quartier:Object(j.jsx)("ul",{className:"ml-n4",style:{listStyleType:"none"},children:t.quartiers.map((function(e,a){return Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{children:[" ",e.nom_fr," "]}),t.quartiers.length-1>a?Object(j.jsx)("hr",{}):""]},a)}))},t.id),Nombre:t.nbr_quartiers,Surfaces:t.surface_totale,Surface:t.surface_urbanisee_totale,logement:t.nombre_logements_totale,habitant:t.nombre_habitants_totale,qd:t.infrastructures.filter((function(e){return"drainage des eaux pluviales"===e.type}))[0].quantite,cd:t.infrastructures.filter((function(e){return"drainage des eaux pluviales"===e.type}))[0].cout,qv:t.infrastructures.filter((function(e){return"voirie"===e.type}))[0].quantite,cv:t.infrastructures.filter((function(e){return"voirie"===e.type}))[0].cout,qep:t.infrastructures.filter((function(e){return"eau potable"===e.type}))[0].quantite,cep:t.infrastructures.filter((function(e){return"eau potable"===e.type}))[0].cout,npl:t.infrastructures.filter((function(e){return"eclairage public"===e.type}))[0].quantite,cpl:t.infrastructures.filter((function(e){return"eclairage public"===e.type}))[0].cout,qa:t.infrastructures.filter((function(e){return"assainissement"===e.type}))[0].quantite,ca:t.infrastructures.filter((function(e){return"assainissement"===e.type}))[0].cout,be:t.bureau_etude,ce:t.cout_etude,modifier:Object(j.jsx)("span",{onClick:function(){return f({type:"projetEdit",payload:t})},"data-toggle":"modal","data-target":"#modif",children:Object(j.jsx)(v.a,{icon:"edit-2"})}),supprimer:Object(j.jsx)("span",{onClick:function(){u(t),p(!0)},children:Object(j.jsx)(v.a,{icon:"trash-2"})})})},c.s();!(s=c.n()).done;)i()}catch(l){c.e(l)}finally{c.f()}n({columns:[{label:"Nom",field:"nom",width:200},{label:"Quartier",field:"quartier"},{label:"Nombre de quartier",field:"Nombre",width:200},{label:"Surface Totale (Hectar)",field:"Surfaces",width:200},{label:"Surface Urbanis\xe9e (Hectar)",field:"Surface",width:200},{label:"Nombre de logements",field:"logement",width:200},{label:"Nombre des habitants",field:"habitant",width:200},{label:"quantite drainage",field:"qd"},{label:"co\xfbt drainage",field:"cd"},{label:"quantite voirie",field:"qv"},{label:"co\xfbt voirie",field:"cv"},{label:"quantite eau potable",field:"qep"},{label:"co\xfbt eau potable",field:"cep"},{label:"Nombre de poteaux lumineux",field:"npl"},{label:"co\xfbt \xe9clairage public",field:"cpl"},{label:"quantite assainissement",field:"qa"},{label:"co\xfbt assainissement",field:"ca"},{label:"bureau d'\xe9tude",field:"be"},{label:"co\xfbt d'\xe9tude",field:"ce"},{label:"Modifier",field:"modifier",sort:"disabled",width:50},{label:"Supprimer",field:"supprimer",sort:"disabled",width:50}],rows:r}),e.setLoading(!1),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(){return t.apply(this,arguments)}}();return c.a.useEffect((function(){if(console.log(g),g){var e,t=[],a=Object(P.a)(g.projets);try{var r=function(){var a,r=e.value,c="",s=Object(P.a)(r.quartiers);try{for(s.s();!(a=s.n()).done;){c=c+a.value.nom_fr+" "}}catch(n){s.e(n)}finally{s.f()}t.push({nom:c.trim(),quartier:Object(j.jsx)("ul",{className:"ml-n4",style:{listStyleType:"none"},children:r.quartiers.map((function(e,t){return Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{children:[" ",e.nom_fr," "]}),r.quartiers.length-1>t?Object(j.jsx)("hr",{}):""]},t)}))},r.id),Nombre:r.nbr_quartiers,Surfaces:r.surface_totale,Surface:r.surface_urbanisee_totale,logement:r.nombre_logements_totale,habitant:r.nombre_habitants_totale,qd:r.infrastructures.filter((function(e){return"drainage des eaux pluviales"===e.type}))[0].quantite,cd:r.infrastructures.filter((function(e){return"drainage des eaux pluviales"===e.type}))[0].cout,qv:r.infrastructures.filter((function(e){return"voirie"===e.type}))[0].quantite,cv:r.infrastructures.filter((function(e){return"voirie"===e.type}))[0].cout,qep:r.infrastructures.filter((function(e){return"eau potable"===e.type}))[0].quantite,cep:r.infrastructures.filter((function(e){return"eau potable"===e.type}))[0].cout,npl:r.infrastructures.filter((function(e){return"eclairage public"===e.type}))[0].quantite,cpl:r.infrastructures.filter((function(e){return"eclairage public"===e.type}))[0].cout,qa:r.infrastructures.filter((function(e){return"assainissement"===e.type}))[0].quantite,ca:r.infrastructures.filter((function(e){return"assainissement"===e.type}))[0].cout,be:r.bureau_etude,ce:r.cout_etude,modifier:Object(j.jsx)("span",{onClick:function(){return f({type:"projetEdit",payload:r})},"data-toggle":"modal","data-target":"#modif",children:Object(j.jsx)(v.a,{icon:"edit-2"})}),supprimer:Object(j.jsx)("span",{onClick:function(){u(r),p(!0)},children:Object(j.jsx)(v.a,{icon:"trash-2"})})})};for(a.s();!(e=a.n()).done;)r()}catch(c){a.e(c)}finally{a.f()}n({columns:[{label:"Nom",field:"nom",width:200},{label:"Quartier",field:"quartier"},{label:"Nombre de quartier",field:"Nombre",width:200},{label:"Surface Totale (Hectar)",field:"Surfaces",width:200},{label:"Surface Urbanis\xe9e (Hectar)",field:"Surface",width:200},{label:"Nombre de logements",field:"logement",width:200},{label:"Nombre des habitants",field:"habitant",width:200},{label:"quantite drainage",field:"qd"},{label:"co\xfbt drainage",field:"cd"},{label:"quantite voirie",field:"qv"},{label:"co\xfbt voirie",field:"cv"},{label:"quantite eau potable",field:"qep"},{label:"co\xfbt eau potable",field:"cep"},{label:"Nombre de poteaux lumineux",field:"npl"},{label:"co\xfbt \xe9clairage public",field:"cpl"},{label:"quantite assainissement",field:"qa"},{label:"co\xfbt assainissement",field:"ca"},{label:"bureau d'\xe9tude",field:"be"},{label:"co\xfbt d'\xe9tude",field:"ce"},{label:"Modifier",field:"modifier",sort:"disabled",width:50},{label:"Supprimer",field:"supprimer",sort:"disabled",width:50}],rows:t})}}),[g]),c.a.useEffect((function(){y()}),[]),Object(j.jsxs)("div",{className:"p-3",children:[Object(j.jsx)(F.a,{}),e.loading?"":Object(j.jsx)(he.c,{ref:t,style:{marginLeft:"1%"},responsive:!0,hover:!0,entriesOptions:[5,20,25],striped:!0,pagesAmount:5,data:s,paging:!0,searchBottom:!0,barReverse:!0}),Object(j.jsxs)(ze.a,{show:h,onHide:function(){return p(!1)},children:[Object(j.jsx)(ze.a.Header,{children:Object(j.jsx)(ze.a.Title,{children:"Confirmation"})}),Object(j.jsxs)(ze.a.Body,{children:["Are you sure you want delete ",d.nom,"!"]}),Object(j.jsxs)(ze.a.Footer,{children:[Object(j.jsx)(oe.a,{variant:"primary",onClick:function(){return p(!1)},children:"Close"}),Object(j.jsx)(oe.a,{variant:"danger",onClick:function(){N()},children:"Delete"})]})]})]})}));a(153),a(693),a(694),a(87),a(695),a(713),a(707),a(708),a(705),a(696),a(711);function kt(e){c.a.useRef();var t=c.a.useState(!0),a=Object(x.a)(t,2),r=a[0],s=a[1],n=function(){var e=Object(U.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/criteres/test_eligible",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/criteres/test_eligible"});case 4:e.sent,F.b.success("Success",{position:"top-right",autoClose:5e3,draggable:!1}),window.location.replace("/Eligible"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response.data.message),F.b.error(e.t0.response.data.message,{position:"top-right",autoClose:5e3,draggable:!0});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{children:[Object(j.jsx)(F.a,{}),Object(j.jsxs)(Re.a,{className:"mt-2",children:[Object(j.jsx)(pe.a,{}),Object(j.jsx)(pe.a,{md:"auto",children:Object(j.jsx)(oe.a,{className:"btn btn-primary",size:"primary",onClick:function(){return n()},children:Object(j.jsx)(v.a,{icon:"filter"})})})]}),r?Object(j.jsx)("div",{className:"d-flex justify-content-center",children:Object(j.jsxs)(pe.a,{md:"auto",children:[Object(j.jsx)(de.a,{as:"span",animation:"border",size:"lg",variant:"primary",role:"status","aria-hidden":"true"})," "]})}):"",Object(j.jsx)(wt,{loading:r,setLoading:s,setShow:e.setShow})]})}function St(){var e=c.a.useState([]),t=Object(x.a)(e,2),a=(t[0],t[1]),r=c.a.useState(!1),s=Object(x.a)(r,2),n=s[0],i=s[1],l=c.a.useState({}),o=Object(x.a)(l,2),d=o[0],u=(o[1],c.a.useState(0)),m=Object(x.a)(u,2),b=m[0],h=m[1],p=function(){var e=Object(U.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/projets/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/projets/"});case 4:200===(t=e.sent).status&&a(t.data.projets),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(U.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="http://priqh2server.herokuapp.com/api/v1/projets/".concat(d.id),e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"delete",url:t});case 4:203===e.sent.status&&(F.b.success("Success",{position:"top-right",autoClose:5e3,draggable:!1}),window.location.replace("/Projets")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),F.b.error(e.t0.response.data.message,{position:"top-right",autoClose:5e3,draggable:!0}),i(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();c.a.useEffect((function(){return h(100),p(),function(){return h(0)}}),[]);return Object(j.jsxs)("main",{className:"content",children:[Object(j.jsx)(Ze.a,{color:"#1a2e8a",height:"4px",progress:b}),Object(j.jsxs)("div",{className:"container-fluid p-0",children:[Object(j.jsxs)(Re.a,{children:[Object(j.jsx)(pe.a,{children:Object(j.jsx)("h1",{className:"h3 mb-3",children:"Gestion des projets"})}),Object(j.jsx)(pe.a,{children:Object(j.jsx)("button",{className:"btn btn-primary float-right","data-toggle":"modal","data-target":"#ajout",size:"primary",children:Object(j.jsx)(v.a,{icon:"plus"})})})]}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12",children:Object(j.jsx)("div",{className:"card",children:Object(j.jsx)(kt,{show:n,setShow:i})})})}),Object(j.jsx)("div",{className:"modal fade",id:"ajout",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:Object(j.jsx)("div",{className:"modal-dialog",role:"document",children:Object(j.jsx)("div",{className:"modal-content",children:Object(j.jsx)("div",{className:"modal-header",children:Object(j.jsx)("div",{className:"col-12 col-xl-12",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("h5",{className:"modal-title",children:"Ajouter projet"}),Object(j.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(xt,{})})]})})})})})}),Object(j.jsx)("div",{className:"modal fade",id:"modif",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:Object(j.jsx)("div",{className:"modal-dialog",role:"document",children:Object(j.jsx)("div",{className:"modal-content",children:Object(j.jsx)("div",{className:"modal-header",children:Object(j.jsx)("div",{className:"col-12 col-xl-12",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("h5",{className:"modal-title",children:"Modifier projet"}),Object(j.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(Ot,{})})]})})})})})})]}),Object(j.jsxs)(ze.a,{show:n,onHide:function(){return i(!1)},children:[Object(j.jsx)(ze.a.Header,{closeButton:!0,children:Object(j.jsx)(ze.a.Title,{children:"Confirmation"})}),Object(j.jsxs)(ze.a.Body,{children:["Are you sure you want delete ",d.nom,"!"]}),Object(j.jsxs)(ze.a.Footer,{children:[Object(j.jsx)(oe.a,{variant:"secondary",onClick:function(){return i(!1)},children:"Close"}),Object(j.jsx)(oe.a,{variant:"primary",onClick:function(){f()},children:"Save Changes"})]})]})]})}a(521);function qt(){return Object(j.jsx)("main",{className:"d-flex w-100 h-100",children:Object(j.jsx)("div",{className:"container d-flex flex-column",children:Object(j.jsx)("div",{className:"row vh-100",children:Object(j.jsx)("div",{className:"col-sm-10 col-md-8 col-lg-6 mx-auto d-table h-100",children:Object(j.jsx)("div",{className:"d-table-cell align-middle",children:Object(j.jsxs)("div",{className:"text-center",children:[Object(j.jsx)("h1",{className:"display-1 font-weight-bold",children:"404"}),Object(j.jsx)("p",{className:"h1",children:"Page n'est pas trouv\xe9e."}),Object(j.jsx)("p",{className:"h2 font-weight-normal mt-3 mb-4",children:"La page que vous recherchez a peut-\xeatre \xe9t\xe9 supprim\xe9e."})]})})})})})})}var Ct=a(697),_t=a(715);function At(e){var t=e.title,a=e.critere,r=e.id,s=c.a.useState(!1),n=Object(x.a)(s,2),i=n[0],l=n[1],o=c.a.useState(),d=Object(x.a)(o,2),u=d[0],m=d[1],b=function(){var e=Object(U.a)(M.a.mark((function e(){var a,c,s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Nombre de quartiers"===t&&(a={nbr_quartier:u}),"Nombre de logements"===t&&(a={nombre_logements_totale:u}),"Nombre d'habitant"===t&&(a={nombre_habitants_totale:u}),"Surface totale (hectares)"===t&&(a={surface_totale:u}),"Surface urbanis\xe9e totale (hectares)"===t&&(a={surface_urbanisee_totale:u}),e.prev=5,c="http://priqh2server.herokuapp.com/api/v1/criteres/".concat(r),e.next=9,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"put",url:c,data:a});case 9:s=e.sent,console.log(s,a),F.b.success("Success",{position:"top-right",autoClose:5e3,draggable:!1}),window.location.replace("/Crit\xe9res d'\xe9ligibilit\xe9"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),console.log(e.t0.response.data.message),F.b.error(e.t0.response.data.message,{position:"top-right",autoClose:5e3,draggable:!0});case 19:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"col-12 col-md-6 col-lg-3",children:[Object(j.jsx)(F.a,{}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col mt-0",children:Object(j.jsx)("h5",{className:"card-title",children:t})}),Object(j.jsx)("div",{className:"col-auto",children:Object(j.jsx)("div",{className:"avatar",children:Object(j.jsx)("span",{style:{cursor:"pointer"},className:"avatar-title",onClick:function(){return l(!0)},children:Object(j.jsx)("div",{className:"avatar-title rounded-circle bg-primary-light",children:Object(j.jsx)(v.a,{icon:"edit"})})})})})]}),Object(j.jsx)("h1",{className:"mt-1 mb-3",children:a})]})]}),Object(j.jsxs)(ze.a,{show:i,children:[Object(j.jsx)(ze.a.Header,{children:Object(j.jsxs)(ze.a.Title,{children:["Modifier le crit\xe9re ",t]})}),Object(j.jsx)(ze.a.Body,{children:Object(j.jsxs)(Ct.a,{children:[Object(j.jsx)(Ct.a.Prepend,{children:Object(j.jsx)(Ct.a.Text,{style:{backgroundColor:"#e9ecef",borderColor:"#ced4da"},children:"minimum"})}),Object(j.jsx)(_t.a,{id:"inlineFormInputGroupUsername",defaultValue:a,onChange:function(e){return m(1*e.target.value)}})]})}),Object(j.jsxs)(ze.a.Footer,{children:[Object(j.jsx)(oe.a,{variant:"danger",onClick:function(){return l(!1)},children:"Close"}),Object(j.jsx)(oe.a,{variant:"primary",onClick:function(){b()},children:"Save"})]})]})]})}a(524);var Rt,zt,It=Object(l.gql)(Rt||(Rt=Object(T.a)(["\nsubscription criteres {\n    criteres{\n        id\n        surface_totale\n        surface_urbanisee_totale\n        nombre_logements_totale\n        nombre_habitants_totale\n        gouvernorat{code}\n  }\n}"])));function Bt(){var e=lt().gouvernorat,t=c.a.useState({}),a=Object(x.a)(t,2),r=a[0],s=a[1],n=c.a.useState(0),i=Object(x.a)(n,2),o=i[0],d=i[1],u=Object(l.useSubscription)(It),m=u.data;u.error;console.log(m);var b=function(){var e=Object(U.a)(M.a.mark((function e(t){var a,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="http://priqh2server.herokuapp.com/api/v1/criteres/".concat(t.slice(0,3).toUpperCase()),e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:a});case 4:r=e.sent,console.log(r),s(r.data.critere.fiche_criteres),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0.response.data.message),e.abrupt("return",{});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return c.a.useEffect((function(){m&&m.criteres.map((function(t){t.gouvernorat.code===e.slice(0,3).toUpperCase()&&s(t)}))}),[m]),c.a.useEffect((function(){return d(100),b(e),function(){return d(0)}}),[e]),Object(j.jsxs)("main",{className:"content",children:[Object(j.jsx)(Ze.a,{color:"#1a2e8a",height:"4px",progress:o}),Object(j.jsxs)("div",{className:"container-fluid p-0",children:[Object(j.jsx)("div",{className:"mb-3",children:Object(j.jsxs)("h1",{className:"h3 d-inline align-middle",children:["Crit\xe9res d'\xe9ligibilit\xe9 ",e]})}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-3",children:Object(j.jsx)(ut,{})}),Object(j.jsx)("div",{className:"col-9",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)(At,{title:"Nombre de logements",id:r.id,critere:r.nombre_logements_totale}),Object(j.jsx)(At,{title:"Nombre d'habitant",id:r.id,critere:r.nombre_habitants_totale}),Object(j.jsx)(At,{title:"Surface totale (hectares)",id:r.id,critere:r.surface_totale}),Object(j.jsx)(At,{title:"Surface urbanis\xe9e totale (hectares)",id:r.id,critere:r.surface_urbanisee_totale})]})})]}),"  "]})]})}function Et(){var e=Object(Y.a)(),t=c.a.useState({}),a=Object(x.a)(t,2),r=a[0],s=a[1],n=c.a.useState([]),l=Object(x.a)(n,2),o=l[0],d=l[1],u=function(){var e=Object(U.a)(M.a.mark((function e(){var t,a,r,c,s,n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/gouvernorats/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/gouvernorats/"});case 4:t=e.sent,a=[],r=Object(P.a)(t.data.gouvernorats);try{for(r.s();!(c=r.n()).done;)s=c.value,n={value:[s.id,s.code],label:s.nom_fr+" "+s.nom_ar},a.push(n)}catch(i){r.e(i)}finally{r.f()}d(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.response.data.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(U.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/communes/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"post",url:"http://priqh2server.herokuapp.com/api/v1/communes/",data:r});case 4:e.sent,F.b.success("Success",{position:"top-right",autoClose:5e3,draggable:!1}),window.location.replace("/Communes"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response.data.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){u()})),Object(j.jsxs)("div",{children:[Object(j.jsx)(F.a,{}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Gouvernorat"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("div",{className:"boxes",children:Object(j.jsx)(Q.a,{defaultValue:"options",components:e,options:o,onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{gouvernorat_id:e.value[0],gouvernorat_code:e.value[1]}))}})})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Nom en francais"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Nom en francais",onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{nom_fr:e.target.value}))}})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Nom en arabe"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Nom en arabe",onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{nom_ar:e.target.value}))}})})]}),Object(j.jsx)("div",{className:"mb-3 row",children:Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("span",{className:"btn btn-primary",onClick:function(){return m()},children:"Submit"})})})]})}function Mt(){var e=c.a.useState({}),t=Object(x.a)(e,2),a=t[0],r=t[1],s=lt().commune,n=function(){var e=Object(U.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="http://priqh2server.herokuapp.com/api/v1/communes/".concat(s.id),e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"put",url:t,data:a});case 4:e.sent,F.b.success("Success",{position:"top-right",autoClose:5e3,draggable:!1}),window.location.replace("/communes"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response.data.message),F.b.error(e.t0.response.data.message,{position:"top-right",autoClose:5e3,draggable:!0});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{children:[Object(j.jsx)(F.a,{}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Nom en francais"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Nom en francais",defaultValue:s?s.nom_fr:"",onChange:function(e){return r(Object(i.a)(Object(i.a)({},s),{},{nom_fr:e.target.value}))}})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Nom en arabe"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Nom en arabe",defaultValue:s?s.nom_ar:"",onChange:function(e){return r(Object(i.a)(Object(i.a)({},s),{},{nom_ar:e.target.value}))}})})]}),Object(j.jsx)("div",{className:"mb-3 row",children:Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("span",{className:"btn btn-primary",onClick:function(){return n()},children:"Submit"})})})]})}var Pt=Object(l.gql)(zt||(zt=Object(T.a)(["\nsubscription communes {\n  communes {\n    id\n    nom_fr\n    nom_ar\n    code\n    gouvernorat{id nom_fr nom_ar}\n  }\n}"]))),Ut=c.a.forwardRef((function(e,t){var a=c.a.useState({}),r=Object(x.a)(a,2),s=r[0],n=r[1],i=c.a.useState(!1),o=Object(x.a)(i,2),d=o[0],u=o[1],m=ot(),b=c.a.useState({}),h=Object(x.a)(b,2),p=h[0],f=h[1],O=c.a.useState(!0),g=Object(x.a)(O,2),N=g[0],y=g[1],w=Object(l.useSubscription)(Pt),k=w.data,S=(w.error,function(){var e=Object(U.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="http://priqh2server.herokuapp.com/api/v1/communes/".concat(p.id),e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"delete",url:t});case 4:203===e.sent.status&&(F.b.success("Success",{position:"top-right",autoClose:5e3,draggable:!1}),window.location.replace("/communes")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),F.b.error(e.t0.response.data.message,{position:"top-right",autoClose:5e3,draggable:!0}),u(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()),q=function(){var e=Object(U.a)(M.a.mark((function e(){var t,a,r,c,s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/communes/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/communes/"});case 4:if(200===(t=e.sent).status){console.log(t.data.communes),a=[],r=Object(P.a)(t.data.communes);try{for(s=function(){var e=c.value;a.push({code:e.code,gouvernorat:e.gouvernorat.nom_fr,nom_fr:e.nom_fr,nom_ar:e.nom_ar,modifier:Object(j.jsx)("span",{onClick:function(){return m({type:"communeEdit",payload:e})},"data-toggle":"modal","data-target":"#modif",children:Object(j.jsx)(v.a,{icon:"edit-2"})}),supprimer:Object(j.jsx)("span",{onClick:function(){f(e),u(!0)},children:Object(j.jsx)(v.a,{icon:"trash-2"})})})},r.s();!(c=r.n()).done;)s()}catch(i){r.e(i)}finally{r.f()}n({columns:[{label:"Code",field:"code",attributes:{"aria-controls":"DataTable","aria-label":"code"}},{label:"Gouvernorat",field:"gouvernorat"},{label:"Nom en francais",field:"nom_fr"},{label:"Nom en arabe",field:"nom_ar"},{label:"Modifier",field:"modifier",sort:"disabled",width:100},{label:"Supprimer",field:"supprimer",sort:"disabled",width:100}],rows:a})}y(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response.data.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){if(k){var e,t=[],a=Object(P.a)(k.communes);try{var r=function(){var a=e.value;t.push({code:a.code,gouvernorat:a.gouvernorat.nom_fr,nom_fr:a.nom_fr,nom_ar:a.nom_ar,modifier:Object(j.jsx)("span",{onClick:function(){return m({type:"communeEdit",payload:a})},"data-toggle":"modal","data-target":"#modif",children:Object(j.jsx)(v.a,{icon:"edit-2"})}),supprimer:Object(j.jsx)("span",{onClick:function(){f(a),u(!0)},children:Object(j.jsx)(v.a,{icon:"trash-2"})})})};for(a.s();!(e=a.n()).done;)r()}catch(c){a.e(c)}finally{a.f()}n({columns:[{label:"Code",field:"code",attributes:{"aria-controls":"DataTable","aria-label":"code"}},{label:"Gouvernorat",field:"gouvernorat"},{label:"Nom en francais",field:"nom_fr"},{label:"Nom en arabe",field:"nom_ar"},{label:"Modifier",field:"modifier",sort:"disabled",width:100},{label:"Supprimer",field:"supprimer",sort:"disabled",width:100}],rows:t})}}),[k]),c.a.useEffect((function(){q()}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(F.a,{}),Object(j.jsx)("div",{className:"p-3",children:N?Object(j.jsx)("div",{className:"d-flex justify-content-center",children:Object(j.jsxs)(pe.a,{md:"auto",children:[Object(j.jsx)(de.a,{as:"span",animation:"border",size:"lg",variant:"primary",role:"status","aria-hidden":"true"})," "]})}):Object(j.jsx)(he.c,{ref:t,style:{marginLeft:"1%"},responsive:!0,hover:!0,entriesOptions:[5,20,25],striped:!0,pagesAmount:5,data:s,paging:!0,searchBottom:!0,barReverse:!0})}),Object(j.jsxs)(ze.a,{show:d,onHide:function(){return u(!1)},children:[Object(j.jsx)(ze.a.Header,{children:Object(j.jsx)(ze.a.Title,{children:"Confirmation"})}),Object(j.jsxs)(ze.a.Body,{children:["Are you sure you want delete ",p.nom_fr,"!"]}),Object(j.jsxs)(ze.a.Footer,{children:[Object(j.jsx)(oe.a,{variant:"danger",onClick:function(){return u(!1)},children:"Close"}),Object(j.jsx)(oe.a,{variant:"primary",onClick:function(){S()},children:"Save Changes"})]})]})]})}));var Tt=function(){var e=c.a.useRef();return Object(j.jsxs)("div",{children:[Object(j.jsxs)(Re.a,{className:"mt-2",children:[Object(j.jsx)(pe.a,{}),Object(j.jsx)(pe.a,{md:"auto",children:Object(j.jsx)(oe.a,{className:"btn btn-primary",size:"primary","data-toggle":"modal","data-target":"#defaultModalPrimary",children:Object(j.jsx)("i",{className:"fas fa-plus"})})}),Object(j.jsx)(pe.a,{xs:!0,lg:"1",children:Object(j.jsx)(Nt.a,{trigger:function(){return Object(j.jsx)("button",{className:"btn btn-primary mr-5",size:"primary",children:Object(j.jsx)(v.a,{icon:"printer"})})},content:function(){return e.current},style:"\n  @page {\n    size: 80mm 50mm;\n  }\n\n  @media all {\n    .pagebreak {\n      display: none;\n    }\n  }\n\n  @media print {\n    .pagebreak {\n      page-break-before: always;\n    }\n  }\n"})})]}),Object(j.jsx)(Ut,{ref:e})]})};function Ft(){var e=c.a.useState(0),t=Object(x.a)(e,2),a=t[0],r=t[1];return c.a.useEffect((function(){return r(100),function(){return r(0)}}),[]),Object(j.jsxs)("main",{className:"content",children:[Object(j.jsx)(Ze.a,{color:"#1a2e8a",height:"4px",progress:a}),Object(j.jsxs)("div",{className:"container-fluid p-0",children:[Object(j.jsx)("h1",{className:"h3 mb-3",children:"Gestion des Communes"}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12",children:Object(j.jsx)("div",{className:"card",children:Object(j.jsx)(Tt,{})})})}),Object(j.jsx)("div",{className:"modal fade",id:"defaultModalPrimary",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:Object(j.jsx)("div",{className:"modal-dialog",role:"document",children:Object(j.jsx)("div",{className:"modal-content",children:Object(j.jsx)("div",{className:"modal-header",children:Object(j.jsx)("div",{className:"col-12 col-xl-12",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("h5",{className:"modal-title",children:"Ajouter une Commune"}),Object(j.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(Et,{})})]})})})})})}),Object(j.jsx)("div",{className:"modal fade",id:"modif",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:Object(j.jsx)("div",{className:"modal-dialog",role:"document",children:Object(j.jsx)("div",{className:"modal-content",children:Object(j.jsx)("div",{className:"modal-header",children:Object(j.jsx)("div",{className:"col-12 col-xl-12",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("h5",{className:"modal-title",children:"Modifier la Commune"}),Object(j.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(Mt,{})})]})})})})})})]})]})}var Lt=c.a.forwardRef((function(e,t){var a=c.a.useState({}),r=Object(x.a)(a,2),s=r[0],n=r[1],i=c.a.useState(!0),l=Object(x.a)(i,2),o=l[0],d=l[1],u=c.a.useState({}),m=Object(x.a)(u,2),b=m[0],h=m[1],p=c.a.useState(!1),f=Object(x.a)(p,2),O=f[0],g=f[1],N=function(){var e=Object(U.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="http://priqh2server.herokuapp.com/api/v1/projets/".concat(b.id),e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"put",url:t,data:{eligible:{eligible:!1}}});case 4:e.sent,F.b.success("Success",{position:"top-right",autoClose:5e3,draggable:!1}),window.location.replace("/Eligible"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),F.b.error(e.t0.response.data.message,{position:"top-right",autoClose:5e3,draggable:!0});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(U.a)(M.a.mark((function e(){var t,a,r,c,i;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/projets/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/projets/"});case 4:t=e.sent,a=[],r=Object(P.a)(t.data.projets);try{for(i=function(){var e=c.value;if(!0===e.eligible){var t,r="",s=Object(P.a)(e.quartiers);try{for(s.s();!(t=s.n()).done;){r=r+t.value.nom_fr+" "}}catch(n){s.e(n)}finally{s.f()}a.push({nom:r.trim(),quartier:Object(j.jsx)("ul",{className:"ml-n4",style:{listStyleType:"none"},children:e.quartiers.map((function(t,a){return Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{children:[" ",t.nom_fr," "]}),e.quartiers.length-1>a?Object(j.jsx)("hr",{}):""]},a)}))},e.id),Nombre:e.nbr_quartiers,Surfaces:e.surface_totale,Surface:e.surface_urbanisee_totale,logement:e.nombre_logements_totale,habitant:e.nombre_habitants_totale,qd:e.infrastructures.filter((function(e){return"drainage des eaux pluviales"===e.type}))[0].quantite,cd:e.infrastructures.filter((function(e){return"drainage des eaux pluviales"===e.type}))[0].cout,qv:e.infrastructures.filter((function(e){return"voirie"===e.type}))[0].quantite,cv:e.infrastructures.filter((function(e){return"voirie"===e.type}))[0].cout,qep:e.infrastructures.filter((function(e){return"eau potable"===e.type}))[0].quantite,cep:e.infrastructures.filter((function(e){return"eau potable"===e.type}))[0].cout,npl:e.infrastructures.filter((function(e){return"eclairage public"===e.type}))[0].quantite,cpl:e.infrastructures.filter((function(e){return"eclairage public"===e.type}))[0].cout,qa:e.infrastructures.filter((function(e){return"assainissement"===e.type}))[0].quantite,ca:e.infrastructures.filter((function(e){return"assainissement"===e.type}))[0].cout,be:e.bureau_etude,ce:e.cout_etude,action:Object(j.jsx)("span",{onClick:function(){h(e),g(!0)},children:Object(j.jsx)(v.a,{icon:"tool"})})})}console.log()},r.s();!(c=r.n()).done;)i()}catch(l){r.e(l)}finally{r.f()}n({columns:[{label:"Nom",field:"nom",width:200},{label:"Quartier",field:"quartier"},{label:"Nombre de quartier",field:"Nombre",width:200},{label:"Surface Totale (Hectar)",field:"Surfaces",width:200},{label:"Surface Urbanis\xe9e (Hectar)",field:"Surface",width:200},{label:"Nombre de logements",field:"logement",width:200},{label:"Nombre des habitants",field:"habitant",width:200},{label:"quantite drainage",field:"qd"},{label:"co\xfbt drainage",field:"cd"},{label:"quantite voirie",field:"qv"},{label:"co\xfbt voirie",field:"cv"},{label:"quantite eau potable",field:"qep"},{label:"co\xfbt eau potable",field:"cep"},{label:"Nombre de poteaux lumineux",field:"npl"},{label:"co\xfbt \xe9clairage public",field:"cpl"},{label:"quantite assainissement",field:"qa"},{label:"co\xfbt assainissement",field:"ca"},{label:"bureau d'\xe9tude",field:"be"},{label:"co\xfbt d'\xe9tude",field:"ce"},{label:"Actoin",field:"action",sort:"disabled",width:50}],rows:a}),d(!1),console.log(s),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){y()}),[]),Object(j.jsxs)("div",{className:"p-3",children:[Object(j.jsx)(F.a,{}),o?Object(j.jsx)("div",{className:"d-flex justify-content-center",children:Object(j.jsxs)(pe.a,{md:"auto",children:[Object(j.jsx)(de.a,{as:"span",animation:"border",size:"lg",variant:"primary",role:"status","aria-hidden":"true"})," "]})}):Object(j.jsx)(he.c,{ref:t,style:{marginLeft:"1%"},responsive:!0,hover:!0,entriesOptions:[5,20,25],striped:!0,pagesAmount:5,data:s,paging:!0,searchBottom:!0,barReverse:!0}),Object(j.jsxs)(ze.a,{show:O,onHide:function(){return g(!1)},children:[Object(j.jsx)(ze.a.Header,{children:Object(j.jsx)(ze.a.Title,{children:"Confirmation"})}),Object(j.jsxs)(ze.a.Body,{children:["Are you sure you want move ",b.id," to ineligible list!"]}),Object(j.jsxs)(ze.a.Footer,{children:[Object(j.jsx)(oe.a,{variant:"danger",onClick:function(){return g(!1)},children:"Close"}),Object(j.jsx)(oe.a,{variant:"primary",onClick:function(){return N()},children:"Save"})]})]})]})}));var Dt=function(){var e=c.a.useRef();return Object(j.jsxs)("div",{children:[Object(j.jsxs)(Re.a,{className:"mt-2",children:[Object(j.jsx)(pe.a,{}),Object(j.jsx)(pe.a,{md:"auto"}),Object(j.jsx)(pe.a,{md:"auto",children:Object(j.jsx)(Nt.a,{trigger:function(){return Object(j.jsx)("button",{className:"btn btn-primary mr-5",size:"primary",children:Object(j.jsx)(v.a,{icon:"printer"})})},content:function(){return e.current},style:"\n  @page {\n    size: 80mm 50mm;\n  }\n\n  @media all {\n    .pagebreak {\n      display: none;\n    }\n  }\n\n  @media print {\n    .pagebreak {\n      page-break-before: always;\n    }\n  }\n"})})]}),Object(j.jsx)(Lt,{ref:e})]})},Ht=c.a.forwardRef((function(e,t){var a=c.a.useState({}),r=Object(x.a)(a,2),s=r[0],n=r[1],i=c.a.useState(!0),l=Object(x.a)(i,2),o=l[0],d=l[1],u=c.a.useState({}),m=Object(x.a)(u,2),b=m[0],h=m[1],p=c.a.useState(!1),f=Object(x.a)(p,2),O=f[0],g=f[1],N=function(){var e=Object(U.a)(M.a.mark((function e(){var t,a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="http://priqh2server.herokuapp.com/api/v1/projets/".concat(b.id),e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"put",url:t,data:{eligible:{eligible:!0}}});case 4:a=e.sent,console.log(a),F.b.success("Success",{position:"top-right",autoClose:5e3,draggable:!1}),window.location.replace("/Eligible"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),F.b.error(e.t0.response.data.message,{position:"top-right",autoClose:5e3,draggable:!0});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(U.a)(M.a.mark((function e(){var t,a,r,c,s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/projets/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/projets/"});case 4:t=e.sent,console.log(t.data.projets),a=[],r=Object(P.a)(t.data.projets);try{for(s=function(){var e=c.value;if(!1===e.eligible){var t,r="",s=Object(P.a)(e.quartiers);try{for(s.s();!(t=s.n()).done;){r=r+t.value.nom_fr+" "}}catch(n){s.e(n)}finally{s.f()}a.push({nom:r.trim(),quartier:Object(j.jsx)("ul",{className:"ml-n4",style:{listStyleType:"none"},children:e.quartiers.map((function(t,a){return Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{children:[" ",t.nom_fr," "]}),e.quartiers.length-1>a?Object(j.jsx)("hr",{}):""]},a)}))},e.id),Nombre:e.nbr_quartiers,Surfaces:e.surface_totale,Surface:e.surface_urbanisee_totale,logement:e.nombre_logements_totale,habitant:e.nombre_habitants_totale,qd:e.infrastructures.filter((function(e){return"drainage des eaux pluviales"===e.type}))[0].quantite,cd:e.infrastructures.filter((function(e){return"drainage des eaux pluviales"===e.type}))[0].cout,qv:e.infrastructures.filter((function(e){return"voirie"===e.type}))[0].quantite,cv:e.infrastructures.filter((function(e){return"voirie"===e.type}))[0].cout,qep:e.infrastructures.filter((function(e){return"eau potable"===e.type}))[0].quantite,cep:e.infrastructures.filter((function(e){return"eau potable"===e.type}))[0].cout,npl:e.infrastructures.filter((function(e){return"eclairage public"===e.type}))[0].quantite,cpl:e.infrastructures.filter((function(e){return"eclairage public"===e.type}))[0].cout,qa:e.infrastructures.filter((function(e){return"assainissement"===e.type}))[0].quantite,ca:e.infrastructures.filter((function(e){return"assainissement"===e.type}))[0].cout,be:e.bureau_etude,ce:e.cout_etude,action:Object(j.jsx)("span",{onClick:function(){h(e),g(!0)},children:Object(j.jsx)(v.a,{icon:"tool"})})})}},r.s();!(c=r.n()).done;)s()}catch(i){r.e(i)}finally{r.f()}n({columns:[{label:"Nom",field:"nom",width:200},{label:"Quartier",field:"quartier"},{label:"Nombre de quartier",field:"Nombre",width:200},{label:"Surface Totale (Hectar)",field:"Surfaces",width:200},{label:"Surface Urbanis\xe9e (Hectar)",field:"Surface",width:200},{label:"Nombre de logements",field:"logement",width:200},{label:"Nombre des habitants",field:"habitant",width:200},{label:"quantite drainage",field:"qd"},{label:"co\xfbt drainage",field:"cd"},{label:"quantite voirie",field:"qv"},{label:"co\xfbt voirie",field:"cv"},{label:"quantite eau potable",field:"qep"},{label:"co\xfbt eau potable",field:"cep"},{label:"Nombre de poteaux lumineux",field:"npl"},{label:"co\xfbt \xe9clairage public",field:"cpl"},{label:"quantite assainissement",field:"qa"},{label:"co\xfbt assainissement",field:"ca"},{label:"bureau d'\xe9tude",field:"be"},{label:"co\xfbt d'\xe9tude",field:"ce"},{label:"Actoin",field:"action",sort:"disabled",width:50}],rows:a}),d(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){y()}),[]),Object(j.jsxs)("div",{className:"p-3",children:[Object(j.jsx)(F.a,{}),o?Object(j.jsx)("div",{className:"d-flex justify-content-center",children:Object(j.jsxs)(pe.a,{md:"auto",children:[Object(j.jsx)(de.a,{as:"span",animation:"border",size:"lg",variant:"primary",role:"status","aria-hidden":"true"})," "]})}):Object(j.jsx)(he.c,{ref:t,style:{marginLeft:"1%"},responsive:!0,hover:!0,entriesOptions:[5,20,25],striped:!0,pagesAmount:5,data:s,paging:!0,searchBottom:!0,barReverse:!0}),Object(j.jsxs)(ze.a,{show:O,onHide:function(){return g(!1)},children:[Object(j.jsx)(ze.a.Header,{children:Object(j.jsx)(ze.a.Title,{children:"Confirmation"})}),Object(j.jsxs)(ze.a.Body,{children:["Are you sure you want move ",b.id," to eligible list!"]}),Object(j.jsxs)(ze.a.Footer,{children:[Object(j.jsx)(oe.a,{variant:"danger",onClick:function(){return g(!1)},children:"Close"}),Object(j.jsx)(oe.a,{variant:"primary",onClick:function(){return N()},children:"Save"})]})]})]})}));var Vt=function(){var e=c.a.useRef();return Object(j.jsxs)("div",{children:[Object(j.jsx)(F.a,{}),Object(j.jsxs)(Re.a,{className:"mt-2",children:[Object(j.jsx)(pe.a,{}),Object(j.jsx)(pe.a,{md:"auto"}),Object(j.jsx)(pe.a,{md:"auto",children:Object(j.jsx)(Nt.a,{trigger:function(){return Object(j.jsx)("button",{className:"btn btn-primary mr-5",size:"primary",children:Object(j.jsx)(v.a,{icon:"printer"})})},content:function(){return e.current},style:"\n  @page {\n    size: 80mm 50mm;\n  }\n\n  @media all {\n    .pagebreak {\n      display: none;\n    }\n  }\n\n  @media print {\n    .pagebreak {\n      page-break-before: always;\n    }\n  }\n"})})]}),Object(j.jsx)(Ht,{ref:e})]})};function Gt(){var e=c.a.useState(0),t=Object(x.a)(e,2),a=t[0],r=t[1];return c.a.useEffect((function(){return r(100),function(){return r(0)}}),[]),Object(j.jsxs)("main",{className:"content",children:[Object(j.jsx)(Ze.a,{color:"#1a2e8a",height:"4px",progress:a}),Object(j.jsxs)("div",{className:"container-fluid p-0",children:[Object(j.jsx)("h1",{className:"h3 mb-3",children:"Gestion des projets"}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-6",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h5",{className:"card-title",children:"Liste des projets \xe9ligibles"})}),Object(j.jsx)(Dt,{})]})}),Object(j.jsx)("div",{className:"col-6",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h5",{className:"card-title",children:"Liste des projets non \xe9ligibles"})}),Object(j.jsx)(Vt,{})]})})]})]})]})}var Qt;a(525);function Yt(e){var t=e.name,a=e.img,r=e.id,s=c.a.useState("http://priqh2server.herokuapp.com/img/bailleurs/".concat(a)),n=Object(x.a)(s,2),i=n[0],l=n[1],o=c.a.useState(null),d=Object(x.a)(o,2),u=d[0],m=d[1];var b=function(){var e=Object(U.a)(M.a.mark((function e(){var t,a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new FormData,u&&t.append("nom",u),void 0!==document.getElementById("image").files[0]&&t.append("image",document.getElementById("image").files[0]),e.prev=3,a="http://priqh2server.herokuapp.com/api/v1/bailleurs/".concat(r),e.next=7,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"put",url:a,data:t});case 7:e.sent,F.b.success("Success",{position:"top-right",autoClose:5e3,draggable:!1}),window.location.replace("/beilleurs"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0.response.data.message),F.b.error(e.t0.response.data.message,{position:"top-right",autoClose:5e3,draggable:!1});case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(U.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="http://priqh2server.herokuapp.com/api/v1/bailleurs/".concat(r),e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"delete",url:t});case 4:e.sent,F.b.success("Success",{position:"top-right",autoClose:5e3,draggable:!1}),window.location.replace("/beilleurs"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response.data.message),F.b.success(e.t0.response.data.message,{position:"top-right",autoClose:5e3,draggable:!1});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),p=c.a.useState(!1),f=Object(x.a)(p,2),O=f[0],g=f[1],N=c.a.useState(!1),y=Object(x.a)(N,2),w=y[0],k=y[1];return Object(j.jsxs)("div",{className:"col-12 col-md-6 col-lg-3",children:[Object(j.jsx)(F.a,{}),Object(j.jsxs)("div",{className:"card",children:[Object(j.jsx)("img",{className:"card-img-top",src:"http://priqh2server.herokuapp.com/img/bailleurs/".concat(a),alt:"image",style:{height:"150px"}}),Object(j.jsx)("div",{className:"card-header px-4 pt-4",children:Object(j.jsx)("h3",{className:" mb-0",children:t})}),Object(j.jsx)("div",{className:"card-body px-4 pt-2",children:Object(j.jsxs)("div",{className:"d-flex flex-row-reverse",children:[Object(j.jsx)("div",{children:Object(j.jsx)("span",{className:"btn btn-danger ml-1",onClick:function(){return k(!0)},children:Object(j.jsx)(v.a,{icon:"trash-2"})})}),Object(j.jsx)("div",{children:Object(j.jsx)("span",{className:"btn btn-primary ",onClick:function(){g(!0)},children:Object(j.jsx)(v.a,{icon:"edit-2"})})})]})})]}),Object(j.jsxs)(ze.a,{show:O,onHide:function(){return g(!1)},children:[Object(j.jsx)(ze.a.Header,{children:Object(j.jsx)(ze.a.Title,{children:"Modifier Beilleur"})}),Object(j.jsx)(ze.a.Body,{children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-6",children:Object(j.jsxs)("div",{className:"mb-3 col-md-6",children:[Object(j.jsx)("label",{className:"form-label",htmlFor:"inputFirstName",children:"Nom"}),Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:t,onChange:function(e){return m(e.target.value)}})]})}),Object(j.jsx)("div",{className:"col-md-6",children:Object(j.jsxs)("div",{className:"text-center",children:[Object(j.jsx)("img",{src:i,width:"150",height:"100",alt:"image"}),Object(j.jsx)("div",{className:"mt-2",children:Object(j.jsx)("input",{type:"file",id:"image",onChange:function(e){l(URL.createObjectURL(e.target.files[0]))}})})]})})]})}),Object(j.jsxs)(ze.a.Footer,{children:[Object(j.jsx)(oe.a,{variant:"primary",onClick:function(){return g(!1)},children:"Fermer"}),Object(j.jsx)(oe.a,{variant:"success",onClick:function(){b()},children:"Enregistrer"})]})]}),Object(j.jsxs)(ze.a,{show:w,onHide:function(){return k(!1)},children:[Object(j.jsx)(ze.a.Header,{children:Object(j.jsx)(ze.a.Title,{children:"Confirmation"})}),Object(j.jsxs)(ze.a.Body,{children:["Are you sure you want delete ",t,"!"]}),Object(j.jsxs)(ze.a.Footer,{children:[Object(j.jsx)(oe.a,{variant:"primary",onClick:function(){return k(!1)},children:"Close"}),Object(j.jsx)(oe.a,{variant:"danger",onClick:function(){h()},children:"Delete"})]})]})]})}var Kt=Object(l.gql)(Qt||(Qt=Object(T.a)(["\nsubscription bailleurs {\n  bailleurs{\n    id\n    nom\n    image\n  }\n}"])));function Xt(){var e=Object(l.useSubscription)(Kt),t=e.data,a=(e.error,c.a.useState("img/photos/deflogo.png")),r=Object(x.a)(a,2),s=r[0],n=r[1];var i=c.a.useState(""),o=Object(x.a)(i,2),d=o[0],u=o[1],m=c.a.useState([]),b=Object(x.a)(m,2),h=b[0],p=b[1],f=c.a.useState(!1),O=Object(x.a)(f,2),g=O[0],N=O[1],y=function(){var e=Object(U.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/bailleurs/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/bailleurs/"});case 4:t=e.sent,p(t.data.bailleur_fonds),console.log(t.data.bailleur_fonds),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(U.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("nom",d),t.append("image",document.getElementById("image").files[0]),e.prev=3,"http://priqh2server.herokuapp.com/api/v1/bailleurs",e.next=7,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"post",url:"http://priqh2server.herokuapp.com/api/v1/bailleurs",data:t});case 7:e.sent,F.b.success("Success",{position:"top-right",autoClose:5e3,draggable:!1}),window.location.replace("/beilleurs"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0.response.data.message),F.b.success(e.t0.response.data.message,{position:"top-right",autoClose:5e3,draggable:!1});case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){y()}),[]),c.a.useEffect((function(){t&&(console.log(t.bailleurs),p(t.bailleurs))}),[t]),Object(j.jsxs)("main",{className:"content",children:[Object(j.jsx)(F.a,{}),Object(j.jsxs)("div",{className:"container-fluid p-0",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{className:"h3 mb-3",children:"Gestion des beilleurs"}),Object(j.jsx)(pe.a,{md:"auto",className:"d-flex flex-row-reverse",children:Object(j.jsx)(oe.a,{className:"btn btn-primary",size:"primary",onClick:function(){N(!0)},children:Object(j.jsx)(v.a,{icon:"plus"})})})]}),Object(j.jsx)("div",{className:"row",children:h.map((function(e,t){return Object(j.jsx)(Yt,{name:e.nom,img:e.image,id:e.id},t)}))})]}),Object(j.jsxs)(ze.a,{show:g,onHide:function(){return N(!1)},children:[Object(j.jsx)(ze.a.Header,{children:Object(j.jsx)(ze.a.Title,{children:"Ajouter Beilleur"})}),Object(j.jsx)(ze.a.Body,{children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-md-6",children:[Object(j.jsx)("label",{className:"form-label",htmlFor:"inputFirstName",children:"Nom"}),Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"nom bailleur",onChange:function(e){return u(e.target.value)}})]}),Object(j.jsx)("div",{className:"col-md-6",children:Object(j.jsxs)("div",{className:"text-center",children:[Object(j.jsx)("img",{src:s,width:"150",height:"100",alt:"image"}),Object(j.jsx)("div",{className:"mt-2",children:Object(j.jsx)("input",{type:"file",id:"image",onChange:function(e){n(URL.createObjectURL(e.target.files[0]))}})})]})})]})}),Object(j.jsxs)(ze.a.Footer,{children:[Object(j.jsx)(oe.a,{variant:"primary",onClick:function(){return N(!1)},children:"Fermer"}),Object(j.jsx)(oe.a,{variant:"success",onClick:function(){w()},children:"Enregistrer"})]})]})]})}var Jt=a(709),Wt=c.a.forwardRef((function(e,t){var a=c.a.useState({}),r=Object(x.a)(a,2),s=r[0],n=r[1],i=c.a.useState(!0),l=Object(x.a)(i,2),o=l[0],d=l[1],u=c.a.useState({}),m=Object(x.a)(u,2),b=(m[0],m[1]),h=c.a.useState(!1),p=Object(x.a)(h,2),f=(p[0],p[1]),O=function(){var t=Object(U.a)(M.a.mark((function t(){var a,r,c,s;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=[],r=Object(P.a)(e.projets);try{for(s=function(){var e,t=c.value,r="",s=Object(P.a)(t.quartiers);try{for(s.s();!(e=s.n()).done;){r=r+e.value.nom_fr+" - "}}catch(n){s.e(n)}finally{s.f()}a.push({nom:r.slice(0,r.length-3),quartier:Object(j.jsx)("ul",{className:"ml-n4",style:{listStyleType:"none"},children:t.quartiers.map((function(e,a){return Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{children:[" ",e.nom_fr," "]}),t.quartiers.length-1>a?Object(j.jsx)("hr",{}):""]},a)}))},t.id),Nombre:t.nbr_quartiers,Surfaces:t.surface_totale,Surface:t.surface_urbanisee_totale,logement:t.nombre_logements_totale,habitant:t.nombre_habitants_totale,qd:t.infrastructures.filter((function(e){return"drainage des eaux pluviales"===e.type}))[0].quantite,cd:t.infrastructures.filter((function(e){return"drainage des eaux pluviales"===e.type}))[0].cout,qv:t.infrastructures.filter((function(e){return"voirie"===e.type}))[0].quantite,cv:t.infrastructures.filter((function(e){return"voirie"===e.type}))[0].cout,qep:t.infrastructures.filter((function(e){return"eau potable"===e.type}))[0].quantite,cep:t.infrastructures.filter((function(e){return"eau potable"===e.type}))[0].cout,npl:t.infrastructures.filter((function(e){return"eclairage public"===e.type}))[0].quantite,cpl:t.infrastructures.filter((function(e){return"eclairage public"===e.type}))[0].cout,qa:t.infrastructures.filter((function(e){return"assainissement"===e.type}))[0].quantite,ca:t.infrastructures.filter((function(e){return"assainissement"===e.type}))[0].cout,be:t.bureau_etude,ce:t.cout_etude,action:Object(j.jsx)("span",{onClick:function(){b(t),f(!0)},children:Object(j.jsx)(v.a,{icon:"tool"})})})},r.s();!(c=r.n()).done;)s()}catch(i){r.e(i)}finally{r.f()}n({columns:[{label:"Nom",field:"nom",width:200},{label:"quantite drainage",field:"qd"},{label:"co\xfbt drainage",field:"cd"},{label:"quantite voirie",field:"qv"},{label:"co\xfbt voirie",field:"cv"},{label:"quantite eau potable",field:"qep"},{label:"co\xfbt eau potable",field:"cep"},{label:"Nombre de poteaux lumineux",field:"npl"},{label:"co\xfbt \xe9clairage public",field:"cpl"},{label:"quantite assainissement",field:"qa"},{label:"co\xfbt assainissement",field:"ca"},{label:"bureau d'\xe9tude",field:"be"},{label:"co\xfbt d'\xe9tude",field:"ce"}],rows:a}),d(!1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return c.a.useEffect((function(){O()}),[]),Object(j.jsx)("div",{className:"p-3",children:o?Object(j.jsx)("div",{className:"d-flex justify-content-center",children:Object(j.jsxs)(pe.a,{md:"auto",children:[Object(j.jsx)(de.a,{as:"span",animation:"border",size:"lg",variant:"primary",role:"status","aria-hidden":"true"})," "]})}):Object(j.jsx)(he.c,{ref:t,style:{marginLeft:"1%"},responsive:!0,hover:!0,entriesOptions:[5,20,25],striped:!0,pagesAmount:5,data:s,paging:!0,searchBottom:!0,barReverse:!0})})}));function Zt(e){var t=Object(Y.a)(),a=c.a.useState({numero:e.tranche.numero}),r=Object(x.a)(a,2),s=r[0],n=r[1],l=c.a.useState([]),o=Object(x.a)(l,2),d=o[0],u=(o[1],c.a.useState([])),m=Object(x.a)(u,2),b=m[0],h=(m[1],function(){var t=Object(U.a)(M.a.mark((function t(){var a,r,c,s,n,i,l,o,u,j,m;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,"http://priqh2server.herokuapp.com/api/v1/projets/",t.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/projets/"});case 4:a=t.sent,[],[],r=Object(P.a)(a.data.projets);try{for(r.s();!(c=r.n()).done;){s=c.value,n="",i=Object(P.a)(s.quartiers);try{for(i.s();!(l=i.n()).done;)o=l.value,n=n+o.nom_fr+" - "}catch(h){i.e(h)}finally{i.f()}u={value:s.id,label:n.slice(0,n.length-4)},d.push(u),j=Object(P.a)(e.tranche.projets);try{for(j.s();!(m=j.n()).done;)m.value.id===s.id&&b.push(u)}catch(h){j.e(h)}finally{j.f()}}}catch(h){r.e(h)}finally{r.f()}t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}()),p=function(){var t=Object(U.a)(M.a.mark((function t(){var a;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a="http://priqh2server.herokuapp.com/api/v1/tranches/".concat(e.tranche.id),t.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"put",url:a,data:s});case 4:t.sent,F.b.success("Success",{position:"top-right",autoClose:5e3,draggable:!1}),window.location.replace("/Tranches"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0.response.data.message);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return c.a.useEffect((function(){h()}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)(F.a,{}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Numero"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Numero",defaultValue:s.numero,onChange:function(e){return n(Object(i.a)(Object(i.a)({},s),{},{numero:1*e.target.value}))}})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Projets"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("div",{className:"boxes",children:Object(j.jsx)(Q.a,{defaultValue:b,options:d,components:t,isMulti:!0,onChange:function(e){s.projets=e.map((function(e){return e.value})),console.log(s)}})})})]}),Object(j.jsx)("div",{className:"mb-3 row",children:Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("span",{className:"btn btn-primary",onClick:function(){return p()},children:"Submit"})})})]})}var $t,ea=function(e){var t=c.a.useState(!1),a=Object(x.a)(t,2),r=a[0],s=a[1],n=function(){var t=Object(U.a)(M.a.mark((function t(){var a;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.tranche),t.prev=1,a="http://priqh2server.herokuapp.com/api/v1/tranches/".concat(e.tranche.id),t.next=5,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"delete",url:a});case 5:t.sent,F.b.success("Success",{position:"top-right",autoClose:5e3,draggable:!1}),window.location.replace("/Tranches"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),F.b.error(t.t0.response.data.message,{position:"top-right",autoClose:5e3,draggable:!0}),s(!1);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}(),i=c.a.useRef();return Object(j.jsxs)("div",{children:[Object(j.jsx)(F.a,{}),Object(j.jsxs)(Re.a,{className:"mt-2",children:[Object(j.jsx)(pe.a,{}),Object(j.jsx)(pe.a,{}),Object(j.jsx)(pe.a,{md:"auto",children:Object(j.jsx)("button",{className:"btn btn-danger",onClick:function(){return s(!0)},size:"primary",children:Object(j.jsx)(v.a,{icon:"trash"})})}),Object(j.jsx)(pe.a,{md:"auto",children:Object(j.jsx)("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#modif",size:"primary",children:Object(j.jsx)(v.a,{icon:"settings"})})}),Object(j.jsx)(pe.a,{md:"auto",children:Object(j.jsx)(Nt.a,{trigger:function(){return Object(j.jsx)("button",{className:"btn btn-primary",size:"primary",children:Object(j.jsx)(v.a,{icon:"printer"})})},content:function(){return i.current},style:"\n  @page {\n    size: 80mm 50mm;\n  }\n\n  @media all {\n    .pagebreak {\n      display: none;\n    }\n  }\n\n  @media print {\n    .pagebreak {\n      page-break-before: always;\n    }\n  }\n"})})]}),Object(j.jsx)(Wt,{projets:e.tranche.projets,ref:i}),Object(j.jsxs)(ze.a,{show:r,onHide:function(){return s(!1)},children:[Object(j.jsx)(ze.a.Header,{children:Object(j.jsx)(ze.a.Title,{children:"Confirmation"})}),Object(j.jsxs)(ze.a.Body,{children:["Are you sure you want delete decompte of this Tranche ",e.tranche.numero," !"]}),Object(j.jsxs)(ze.a.Footer,{children:[Object(j.jsx)(oe.a,{variant:"danger",onClick:function(){return s(!1)},children:"Fermer"}),Object(j.jsx)(oe.a,{variant:"primary",onClick:function(){n()},children:"Supprimer"})]})]}),Object(j.jsx)("div",{className:"modal fade",id:"modif",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:Object(j.jsx)("div",{className:"modal-dialog",role:"document",children:Object(j.jsx)("div",{className:"modal-content",children:Object(j.jsx)("div",{className:"modal-header",children:Object(j.jsx)("div",{className:"col-12 col-xl-12",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("h5",{className:"modal-title",children:"Modifier Tranche"}),Object(j.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(Zt,{tranche:e.tranche})})]})})})})})})]})};function ta(){var e=Object(Y.a)(),t=c.a.useState({}),a=Object(x.a)(t,2),r=a[0],s=a[1],n=c.a.useState([]),l=Object(x.a)(n,2),o=l[0],d=l[1],u=function(){var e=Object(U.a)(M.a.mark((function e(){var t,a,r,c,s,n,i,l,o,u;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/projets/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/projets/"});case 4:t=e.sent,a=[],r=Object(P.a)(t.data.projets);try{for(r.s();!(c=r.n()).done;){s=c.value,n="",i=Object(P.a)(s.quartiers);try{for(i.s();!(l=i.n()).done;)o=l.value,n=n+o.nom_fr+" - "}catch(j){i.e(j)}finally{i.f()}u={value:[s.id,s.code],label:n.slice(0,n.length-4)},a.push(u)}}catch(j){r.e(j)}finally{r.f()}d(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(U.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/tranches/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"post",url:"http://priqh2server.herokuapp.com/api/v1/tranches/",data:r});case 4:e.sent,F.b.success("Success",{position:"top-right",autoClose:5e3,draggable:!1}),window.location.replace("/Tranches"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response.data.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){u()}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)(F.a,{}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Numero"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Numero",onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{numero:1*e.target.value}))}})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Projets"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("div",{className:"boxes",children:Object(j.jsx)(Q.a,{defaultValue:"options",components:e,options:o,isMulti:!0,onChange:function(e){s(Object(i.a)(Object(i.a)({},r),{},{projets:e.map((function(e){return e.value[0]}))}))}})})})]}),Object(j.jsx)("div",{className:"mb-3 row",children:Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("span",{className:"btn btn-primary",onClick:function(){return m()},children:"Submit"})})})]})}var aa,ra=Object(l.gql)($t||($t=Object(T.a)(["\nsubscription tranches {\n  tranches {\n    id\n    numero\n    projets{\n      id\n      code\n      eligible\n      nbr_quartiers\n      surface_totale\n      surface_urbanisee_totale\n      nombre_logements_totale\n      nombre_habitants_totale\n      infrastructures{\n        id\n        code\n        type\n        quantite\n        cout\n      }\n    }\n  }\n}"])));function ca(){var e=c.a.useState([]),t=Object(x.a)(e,2),a=t[0],r=t[1],s=Object(l.useSubscription)(ra),n=s.data;s.error;console.log(n);var i=function(){var e=Object(U.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/tranches/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/tranches/"});case 4:t=e.sent,console.log(t.data.tranches),r(t.data.tranches),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){i()}),[]),c.a.useEffect((function(){n&&r(n.tranches)}),[n]),Object(j.jsxs)("main",{className:"content",children:[Object(j.jsxs)("div",{className:"container-fluid p-0",children:[Object(j.jsxs)(Re.a,{children:[Object(j.jsx)(pe.a,{children:Object(j.jsx)("h1",{className:"h3 mb-3",children:"Gestion des tranches"})}),Object(j.jsx)(pe.a,{children:Object(j.jsx)("button",{className:"btn btn-primary float-right","data-toggle":"modal","data-target":"#ajout",size:"primary",children:Object(j.jsx)(v.a,{icon:"plus"})})})]}),Object(j.jsx)(Jt.a,{defaultActiveKey:"0",children:a.map((function(e,t){return Object(j.jsxs)(Ie.a,{children:[Object(j.jsx)(Jt.a.Toggle,{as:Ie.a.Header,eventKey:"1",children:Object(j.jsx)(Re.a,{className:"mt-2",children:Object(j.jsxs)(pe.a,{children:["Tranche ",e.numero]})})}),Object(j.jsx)(Jt.a.Collapse,{eventKey:"1",children:Object(j.jsx)(Ie.a.Body,{children:Object(j.jsx)(ea,{tranche:e})})})]},t)}))})]}),Object(j.jsx)("div",{className:"modal fade",id:"ajout",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:Object(j.jsx)("div",{className:"modal-dialog",role:"document",children:Object(j.jsx)("div",{className:"modal-content",children:Object(j.jsx)("div",{className:"modal-header",children:Object(j.jsx)("div",{className:"col-12 col-xl-12",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("h5",{className:"modal-title",children:"Ajouter Tranche"}),Object(j.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(ta,{})})]})})})})})})]})}function sa(){return Object(j.jsx)("div",{})}function na(){Object(Y.a)();var e=c.a.useState({}),t=Object(x.a)(e,2),a=t[0],r=t[1],s=function(){var e=Object(U.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/prestataires/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"post",url:"http://priqh2server.herokuapp.com/api/v1/prestataires/",data:a});case 4:e.sent,F.b.success("Success",{position:"top-right",autoClose:5e3,draggable:!1}),window.location.replace("/prestataire"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response.data.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{children:[Object(j.jsx)(F.a,{}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Nom"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return r(Object(i.a)(Object(i.a)({},a),{},{nom:e.target.value}))}})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Abreviation"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return r(Object(i.a)(Object(i.a)({},a),{},{abreviation:e.target.value}))}})})]}),Object(j.jsx)("div",{className:"mb-3 row",children:Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("span",{className:"btn btn-primary",onClick:function(){return s()},children:"Submit"})})})]})}function ia(){var e=c.a.useState({}),t=Object(x.a)(e,2),a=t[0],r=t[1],s=lt().prestataire,n=function(){var e=Object(U.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="http://priqh2server.herokuapp.com/api/v1/prestataires/".concat(s.id),e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"put",url:t,data:a});case 4:e.sent,F.b.success("Success",{position:"top-right",autoClose:5e3,draggable:!1}),window.location.replace("/Prestataire"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response.data.message),F.b.error(e.t0.response.data.message,{position:"top-right",autoClose:5e3,draggable:!0});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{children:[Object(j.jsx)(F.a,{}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Nom"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Nom",defaultValue:s?s.nom:"",onChange:function(e){return r(Object(i.a)(Object(i.a)({},s),{},{nom:e.target.value}))}})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Abreviation"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Nom en arabe",defaultValue:s?s.abreviation:"",onChange:function(e){return r(Object(i.a)(Object(i.a)({},s),{},{abreviation:e.target.value}))}})})]}),Object(j.jsx)("div",{className:"mb-3 row",children:Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("span",{className:"btn btn-primary",onClick:function(){return n()},children:"Submit"})})})]})}var la=Object(l.gql)(aa||(aa=Object(T.a)(["\nsubscription prestataires {\n  prestataires{\n    id\n    nom\n    abreviation\n  }\n}"]))),oa=c.a.forwardRef((function(e,t){var a=Object(l.useSubscription)(la),r=a.data,s=(a.error,c.a.useState({})),n=Object(x.a)(s,2),i=n[0],o=n[1],d=c.a.useState(!1),u=Object(x.a)(d,2),m=u[0],b=u[1],h=ot(),p=c.a.useState({}),f=Object(x.a)(p,2),O=f[0],g=f[1],N=c.a.useState(!0),y=Object(x.a)(N,2),w=y[0],k=y[1],S=function(){var e=Object(U.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="http://priqh2server.herokuapp.com/api/v1/prestataires/".concat(O.id),e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"delete",url:t});case 4:e.sent,F.b.success("Success",{position:"top-right",autoClose:5e3,draggable:!1}),window.location.replace("/prestataire"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),F.b.error(e.t0.response.data.message,{position:"top-right",autoClose:5e3,draggable:!0}),b(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(U.a)(M.a.mark((function e(){var t,a,r,c,s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/prestataires/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/prestataires/"});case 4:if(200===(t=e.sent).status){console.log(t.data.prestataires),a=[],r=Object(P.a)(t.data.prestataires);try{for(s=function(){var e=c.value;a.push({abreviation:e.abreviation,nom:e.nom,modifier:Object(j.jsx)("span",{onClick:function(){return h({type:"prestataireEdit",payload:e})},"data-toggle":"modal","data-target":"#modif",children:Object(j.jsx)(v.a,{icon:"edit-2"})}),supprimer:Object(j.jsx)("span",{onClick:function(){g(e),b(!0)},children:Object(j.jsx)(v.a,{icon:"trash-2"})})})},r.s();!(c=r.n()).done;)s()}catch(n){r.e(n)}finally{r.f()}o({columns:[{label:"Nom",field:"nom"},{label:"Abreviation",field:"abreviation"},{label:"Modifier",field:"modifier",sort:"disabled"},{label:"Supprimer",field:"supprimer",sort:"disabled"}],rows:a})}k(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response.data.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){q()}),[]),c.a.useEffect((function(){if(r){var e,t=[],a=Object(P.a)(r.prestataires);try{var c=function(){var a=e.value;t.push({abreviation:a.abreviation,nom:a.nom,modifier:Object(j.jsx)("span",{onClick:function(){return h({type:"prestataireEdit",payload:a})},"data-toggle":"modal","data-target":"#modif",children:Object(j.jsx)(v.a,{icon:"edit-2"})}),supprimer:Object(j.jsx)("span",{onClick:function(){g(a),b(!0)},children:Object(j.jsx)(v.a,{icon:"trash-2"})})})};for(a.s();!(e=a.n()).done;)c()}catch(s){a.e(s)}finally{a.f()}o({columns:[{label:"Nom",field:"nom"},{label:"Abreviation",field:"abreviation"},{label:"Modifier",field:"modifier",sort:"disabled"},{label:"Supprimer",field:"supprimer",sort:"disabled"}],rows:t})}}),[r]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(F.a,{}),Object(j.jsx)("div",{className:"p-3",children:w?Object(j.jsx)("div",{className:"d-flex justify-content-center",children:Object(j.jsxs)(pe.a,{md:"auto",children:[Object(j.jsx)(de.a,{as:"span",animation:"border",size:"lg",variant:"primary",role:"status","aria-hidden":"true"})," "]})}):Object(j.jsx)(he.c,{ref:t,style:{marginLeft:"1%"},responsive:!0,hover:!0,entriesOptions:[5,20,25],striped:!0,pagesAmount:5,data:i,paging:!0,searchBottom:!0,barReverse:!0})}),Object(j.jsxs)(ze.a,{show:m,onHide:function(){return b(!1)},children:[Object(j.jsx)(ze.a.Header,{children:Object(j.jsx)(ze.a.Title,{children:"Confirmation"})}),Object(j.jsxs)(ze.a.Body,{children:["Are you sure you want delete ",O.nom,"!"]}),Object(j.jsxs)(ze.a.Footer,{children:[Object(j.jsx)(oe.a,{variant:"danger",onClick:function(){return b(!1)},children:"Fermer"}),Object(j.jsx)(oe.a,{variant:"primary",onClick:function(){S()},children:"Supprimer"})]})]})]})}));var da=function(){var e=c.a.useRef();return Object(j.jsxs)("div",{children:[Object(j.jsxs)(Re.a,{className:"mt-2",children:[Object(j.jsx)(pe.a,{}),Object(j.jsx)(pe.a,{md:"auto",children:Object(j.jsx)(oe.a,{className:"btn btn-primary",size:"primary","data-toggle":"modal","data-target":"#defaultModalPrimary",children:Object(j.jsx)("i",{className:"fas fa-plus"})})}),Object(j.jsx)(pe.a,{xs:!0,lg:"1",children:Object(j.jsx)(Nt.a,{trigger:function(){return Object(j.jsx)("button",{className:"btn btn-primary mr-5",size:"primary",children:Object(j.jsx)(v.a,{icon:"printer"})})},content:function(){return e.current},style:"\n  @page {\n    size: 80mm 50mm;\n  }\n\n  @media all {\n    .pagebreak {\n      display: none;\n    }\n  }\n\n  @media print {\n    .pagebreak {\n      page-break-before: always;\n    }\n  }\n"})})]}),Object(j.jsx)(oa,{ref:e})]})};function ua(){var e=c.a.useState(0),t=Object(x.a)(e,2),a=t[0],r=t[1];return c.a.useEffect((function(){return r(100),function(){return r(0)}}),[]),Object(j.jsxs)("main",{className:"content",children:[Object(j.jsx)(Ze.a,{color:"#1a2e8a",height:"4px",progress:a}),Object(j.jsxs)("div",{className:"container-fluid p-0",children:[Object(j.jsx)("h1",{className:"h3 mb-3",children:"Gestion des Prestataires"}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12",children:Object(j.jsx)("div",{className:"card",children:Object(j.jsx)(da,{})})})}),Object(j.jsx)("div",{className:"modal fade",id:"defaultModalPrimary",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:Object(j.jsx)("div",{className:"modal-dialog",role:"document",children:Object(j.jsx)("div",{className:"modal-content",children:Object(j.jsx)("div",{className:"modal-header",children:Object(j.jsx)("div",{className:"col-12 col-xl-12",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("h5",{className:"modal-title",children:"Ajouter une Prestataire"}),Object(j.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(na,{})})]})})})})})}),Object(j.jsx)("div",{className:"modal fade",id:"modif",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:Object(j.jsx)("div",{className:"modal-dialog",role:"document",children:Object(j.jsx)("div",{className:"modal-content",children:Object(j.jsx)("div",{className:"modal-header",children:Object(j.jsx)("div",{className:"col-12 col-xl-12",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("h5",{className:"modal-title",children:"Modifier la Prestataire"}),Object(j.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(ia,{})})]})})})})})})]})]})}function ja(){var e=Object(Y.a)(),t=c.a.useState({htva:0,montant_exonere:0,frais_gestion:0,tva:0,gestion_frais_tva:0,timbre_fiscale:.6}),a=Object(x.a)(t,2),r=a[0],s=a[1],n=c.a.useState([]),l=Object(x.a)(n,2),o=l[0],d=l[1],u=function(){var e=Object(U.a)(M.a.mark((function e(){var t,a,r,c,s,n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/projets/sans_memoire",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/projets/sans_memoire"});case 4:t=e.sent,a=[],r=Object(P.a)(t.data.projets);try{for(r.s();!(c=r.n()).done;)s=c.value,n={value:s.id,label:s.code},a.push(n)}catch(i){r.e(i)}finally{r.f()}d(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.response.data.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(U.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(r),e.prev=1,"http://priqh2server.herokuapp.com/api/v1/memoires/",e.next=5,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"post",url:"http://priqh2server.herokuapp.com/api/v1/memoires/",data:r});case 5:e.sent,F.b.success("Success",{position:"top-right",autoClose:5e3,draggable:!1}),window.location.replace("/Memoire"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.response.data.message);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){u()}),[]),c.a.useEffect((function(){r.tva=.19*r.htva,r.frais_gestion=.08*(r.htva+r.montant_exonere),r.gestion_frais_tva=.19*r.frais_gestion,console.log(r)}),[r.htva,r.montant_exonere]),Object(j.jsxs)("div",{children:[Object(j.jsx)(F.a,{}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Projet"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("div",{className:"boxes",children:Object(j.jsx)(Q.a,{placeholder:"Select Projet ...",components:e,options:o,onChange:function(e){return r.projet_id=e.value}})})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"HTVA"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"number",className:"form-control",onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{htva:1*e.target.value}))}})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Montant Exonere"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"number",className:"form-control",onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{montant_exonere:1*e.target.value}))}})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Frais Gestion"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"number",className:"form-control",value:r.frais_gestion,onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{frais_gestion:1*e.target.value}))}})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"TVA"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"number",className:"form-control",value:r.tva,onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{tva:1*e.target.value}))}})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Gestion Frais TVA"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"number",className:"form-control",value:r.gestion_frais_tva,onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{gestion_frais_tva:1*e.target.value}))}})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Timbre Fiscale"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"number",className:"form-control",value:r.timbre_fiscale,onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{timbre_fiscale:1*e.target.value}))}})})]}),Object(j.jsx)("div",{className:"mb-3 row",children:Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("span",{className:"btn btn-primary",onClick:function(){return m()},children:"Submit"})})})]})}function ma(){var e=lt().memoire,t=c.a.useState({htva:e?e.htva:0,montant_exonere:e?e.montant_exonere:0,frais_gestion:e?e.frais_gestion:0,tva:e?e.htva:0,gestion_frais_tva:e?e.gestion_frais_tva:0,timbre_fiscale:e?e.timbre_fiscale:0}),a=Object(x.a)(t,2),r=a[0],s=a[1];console.log(e);var n=function(){var t=Object(U.a)(M.a.mark((function t(){var a;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a="http://priqh2server.herokuapp.com/api/v1/memoires/".concat(e.id),t.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"put",url:a,data:r});case 4:t.sent,F.b.success("Success",{position:"top-right",autoClose:5e3,draggable:!1}),window.location.replace("/Memoire"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0.response.data.message),F.b.error(t.t0.response.data.message,{position:"top-right",autoClose:5e3,draggable:!0});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return c.a.useEffect((function(){r.tva=.19*r.htva,r.frais_gestion=.08*(r.htva+r.montant_exonere),r.gestion_frais_tva=.19*r.frais_gestion,console.log(r)}),[r.htva,r.montant_exonere]),c.a.useEffect((function(){e&&(r.htva=e.htva,r.montant_exonere=e.montant_exonere,r.frais_gestion=e.frais_gestion,r.tva=e.tva,r.gestion_frais_tva=e.gestion_frais_tva,r.timbre_fiscale=e.timbre_fiscale,console.log(r))}),[e]),Object(j.jsxs)("div",{children:[Object(j.jsx)(F.a,{}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"HTVA"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"number",className:"form-control",defaultValue:r?r.htva:0,onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{htva:1*e.target.value}))}})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Montant Exonere"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"number",className:"form-control",defaultValue:r.montant_exonere,onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{montant_exonere:1*e.target.value}))}})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Frais Gestion"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"number",className:"form-control",value:r?r.frais_gestion:0})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"TVA"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"number",className:"form-control",value:r.tva})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Gestion Frais TVA"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"number",className:"form-control",value:r.gestion_frais_tva})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Timbre Fiscale"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"number",className:"form-control",defaultValue:r.timbre_fiscale,onChange:function(e){return s(Object(i.a)(Object(i.a)({},r),{},{timbre_fiscale:1*e.target.value}))}})})]}),Object(j.jsx)("div",{className:"mb-3 row",children:Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("span",{className:"btn btn-primary",onClick:function(){return n()},children:"Submit"})})})]})}var ba,ha=a(100),pa=Object(l.gql)(ba||(ba=Object(T.a)(["\nsubscription memoires {\n  memoires{\n    id\n    projet_id\n    htva\n    tva\n    gestion_frais_tva\n    frais_gestion\n    montant_exonere\n    timbre_fiscale\n    projet{code}\n    financements{\n      id\n      montant\n      bailleur_fond{\n        id\n        nom\n      }\n    }\n  }\n}"]))),fa=c.a.forwardRef((function(e,t){var a=Object(l.useSubscription)(pa),r=a.data,s=(a.error,c.a.useState({})),n=Object(x.a)(s,2),i=n[0],o=n[1],d=c.a.useState(!1),u=Object(x.a)(d,2),m=u[0],b=u[1],h=ot(),p=c.a.useState({}),f=Object(x.a)(p,2),O=f[0],g=f[1],N=c.a.useState(!0),y=Object(x.a)(N,2),w=y[0],k=y[1],S=function(){var e=Object(U.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(O),e.prev=1,t="http://priqh2server.herokuapp.com/api/v1/memoires/".concat(O.id),e.next=5,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"delete",url:t});case 5:e.sent,F.b.success("Success",{position:"top-right",autoClose:5e3,draggable:!1}),window.location.replace("/Memoire"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),F.b.error(e.t0.response.data.message,{position:"top-right",autoClose:5e3,draggable:!0}),b(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(U.a)(M.a.mark((function e(){var t,a,r,c,s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/memoires/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/memoires/"});case 4:if(200===(t=e.sent).status){console.log(t.data.memoires),a=[],r=Object(P.a)(t.data.memoires);try{for(s=function(){var e=c.value;a.push({projet:Object(j.jsx)(ha.b,{to:"/Financement/".concat(e.id),children:e.projet.code}),htva:e.htva,montant_exonere:e.montant_exonere,frais_gestion:e.frais_gestion,tva:e.tva,gestion_frais_tva:e.gestion_frais_tva,timbre_fiscale:e.timbre_fiscale,modifier:Object(j.jsx)("span",{onClick:function(){return h({type:"memoireEdit",payload:e})},"data-toggle":"modal","data-target":"#modif",children:Object(j.jsx)(v.a,{icon:"edit-2"})}),supprimer:Object(j.jsx)("span",{onClick:function(){g(e),b(!0)},children:Object(j.jsx)(v.a,{icon:"trash-2"})})})},r.s();!(c=r.n()).done;)s()}catch(n){r.e(n)}finally{r.f()}o({columns:[{label:"Projet",field:"projet"},{label:"HTVA",field:"htva"},{label:"Montant exon\xe9r\xe9",field:"montant_exonere"},{label:"TVA",field:"tva"},{label:"Gestion Frais TVA",field:"gestion_frais_tva"},{label:"Frais Gestion",field:"frais_gestion"},{label:"Timbre Fiscale",field:"timbre_fiscale"},{label:"Modifier",field:"modifier",sort:"disabled"},{label:"Supprimer",field:"supprimer",sort:"disabled"}],rows:a})}k(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response.data.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){q()}),[]),c.a.useEffect((function(){if(r){var e,t=[],a=Object(P.a)(r.memoires);try{var c=function(){var a=e.value;t.push({projet:Object(j.jsx)(ha.b,{to:"/Financement/".concat(a.id),children:a.projet.code}),htva:a.htva,montant_exonere:a.montant_exonere,frais_gestion:a.frais_gestion,tva:a.tva,gestion_frais_tva:a.gestion_frais_tva,timbre_fiscale:a.timbre_fiscale,modifier:Object(j.jsx)("span",{onClick:function(){return h({type:"memoireEdit",payload:a})},"data-toggle":"modal","data-target":"#modif",children:Object(j.jsx)(v.a,{icon:"edit-2"})}),supprimer:Object(j.jsx)("span",{onClick:function(){g(a),b(!0)},children:Object(j.jsx)(v.a,{icon:"trash-2"})})})};for(a.s();!(e=a.n()).done;)c()}catch(s){a.e(s)}finally{a.f()}o({columns:[{label:"Projet",field:"projet"},{label:"HTVA",field:"htva"},{label:"Montant exon\xe9r\xe9",field:"montant_exonere"},{label:"TVA",field:"tva"},{label:"Gestion Frais TVA",field:"gestion_frais_tva"},{label:"Frais Gestion",field:"frais_gestion"},{label:"Timbre Fiscale",field:"timbre_fiscale"},{label:"Modifier",field:"modifier",sort:"disabled"},{label:"Supprimer",field:"supprimer",sort:"disabled"}],rows:t})}}),[r]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(F.a,{}),Object(j.jsx)("div",{className:"p-3",children:w?Object(j.jsx)("div",{className:"d-flex justify-content-center",children:Object(j.jsxs)(pe.a,{md:"auto",children:[Object(j.jsx)(de.a,{as:"span",animation:"border",size:"lg",variant:"primary",role:"status","aria-hidden":"true"})," "]})}):Object(j.jsx)(he.c,{ref:t,style:{marginLeft:"1%"},responsive:!0,hover:!0,entriesOptions:[5,20,25],striped:!0,pagesAmount:5,data:i,paging:!0,searchBottom:!0,barReverse:!0})}),Object(j.jsxs)(ze.a,{show:m,onHide:function(){return b(!1)},children:[Object(j.jsx)(ze.a.Header,{children:Object(j.jsx)(ze.a.Title,{children:"Confirmation"})}),Object(j.jsxs)(ze.a.Body,{children:["Are you sure you want delete memoire of this projet ",O.projet?O.projet.code:""," !"]}),Object(j.jsxs)(ze.a.Footer,{children:[Object(j.jsx)(oe.a,{variant:"danger",onClick:function(){return b(!1)},children:"Fermer"}),Object(j.jsx)(oe.a,{variant:"primary",onClick:function(){S()},children:"Supprimer"})]})]})]})}));var xa=function(){var e=c.a.useRef();return Object(j.jsxs)("div",{children:[Object(j.jsxs)(Re.a,{className:"mt-2",children:[Object(j.jsx)(pe.a,{}),Object(j.jsx)(pe.a,{md:"auto",children:Object(j.jsx)(oe.a,{className:"btn btn-primary",size:"primary","data-toggle":"modal","data-target":"#defaultModalPrimary",children:Object(j.jsx)("i",{className:"fas fa-plus"})})}),Object(j.jsx)(pe.a,{xs:!0,lg:"1",children:Object(j.jsx)(Nt.a,{trigger:function(){return Object(j.jsx)("button",{className:"btn btn-primary mr-5",size:"primary",children:Object(j.jsx)(v.a,{icon:"printer"})})},content:function(){return e.current},style:"\n  @page {\n    size: 80mm 50mm;\n  }\n\n  @media all {\n    .pagebreak {\n      display: none;\n    }\n  }\n\n  @media print {\n    .pagebreak {\n      page-break-before: always;\n    }\n  }\n"})})]}),Object(j.jsx)(fa,{ref:e})]})};function Oa(){var e=c.a.useState(0),t=Object(x.a)(e,2),a=t[0],r=t[1];return c.a.useEffect((function(){return r(100),function(){return r(0)}}),[]),Object(j.jsxs)("main",{className:"content",children:[Object(j.jsx)(Ze.a,{color:"#1a2e8a",height:"4px",progress:a}),Object(j.jsxs)("div",{className:"container-fluid p-0",children:[Object(j.jsx)("h1",{className:"h3 mb-3",children:"Gestion des Memoires"}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12",children:Object(j.jsx)("div",{className:"card",children:Object(j.jsx)(xa,{})})})}),Object(j.jsx)("div",{className:"modal fade",id:"defaultModalPrimary",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:Object(j.jsx)("div",{className:"modal-dialog",role:"document",children:Object(j.jsx)("div",{className:"modal-content",children:Object(j.jsx)("div",{className:"modal-header",children:Object(j.jsx)("div",{className:"col-12 col-xl-12",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("h5",{className:"modal-title",children:"Ajouter Memoire"}),Object(j.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(ja,{})})]})})})})})}),Object(j.jsx)("div",{className:"modal fade",id:"modif",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:Object(j.jsx)("div",{className:"modal-dialog",role:"document",children:Object(j.jsx)("div",{className:"modal-content",children:Object(j.jsx)("div",{className:"modal-header",children:Object(j.jsx)("div",{className:"col-12 col-xl-12",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("h5",{className:"modal-title",children:"Modifier Memoire"}),Object(j.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(ma,{})})]})})})})})})]})]})}var va=c.a.forwardRef((function(e,t){var a=c.a.useState({}),r=Object(x.a)(a,2),s=r[0],n=r[1],i=ot(),l=c.a.useState({}),o=Object(x.a)(l,2),d=(o[0],o[1],c.a.useState(!0)),u=Object(x.a)(d,2),m=u[0],b=u[1],h=function(){var t=Object(U.a)(M.a.mark((function t(){var a,r,c,s,l,o;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a="http://priqh2server.herokuapp.com/api/v1/memoires/".concat(e.id),t.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:a});case 4:if(200===(r=t.sent).status){console.log(r.data.memoire),c=[],s=Object(P.a)(r.data.memoire);try{for(o=function(){var e=l.value;c.push({bailleur:e.nom,previsionnel:e.financements.filter((function(e){return"pr\xe9visionnel"===e.type}))[0].montant,deblocage:e.financements.filter((function(e){return"deblocage"===e.type}))[0].montant,reliquat:e.financements.filter((function(e){return"reliquat"===e.type}))[0].montant,modifier:Object(j.jsx)("span",{onClick:function(){return i({type:"financementEdit",payload:e.financements})},"data-toggle":"modal","data-target":"#modif",children:Object(j.jsx)(v.a,{icon:"edit-2"})})})},s.s();!(l=s.n()).done;)o()}catch(d){s.e(d)}finally{s.f()}n({columns:[{label:"Bailleur de fonds",field:"bailleur"},{label:"Pr\xe9visionnel",field:"previsionnel"},{label:"Deblocage",field:"deblocage"},{label:"Reliquat",field:"reliquat"},{label:"Modifier",field:"modifier",sort:"disabled"}],rows:c})}b(!1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return c.a.useEffect((function(){h()}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(F.a,{}),Object(j.jsx)("div",{className:"p-3",children:m?Object(j.jsx)("div",{className:"d-flex justify-content-center",children:Object(j.jsxs)(pe.a,{md:"auto",children:[Object(j.jsx)(de.a,{as:"span",animation:"border",size:"lg",variant:"primary",role:"status","aria-hidden":"true"})," "]})}):Object(j.jsx)(he.c,{ref:t,style:{marginLeft:"1%"},responsive:!0,hover:!0,entriesOptions:[5,20,25],striped:!0,pagesAmount:5,data:s,paging:!0,searchBottom:!0,barReverse:!0})})]})}));var ga,Na=function(e){var t=c.a.useRef();return Object(j.jsxs)("div",{children:[Object(j.jsxs)(Re.a,{className:"mt-2",children:[Object(j.jsx)(pe.a,{}),Object(j.jsx)(pe.a,{md:"auto",children:Object(j.jsx)(oe.a,{className:"btn btn-primary",size:"primary","data-toggle":"modal","data-target":"#defaultModalPrimary",children:Object(j.jsx)("i",{className:"fas fa-plus"})})}),Object(j.jsx)(pe.a,{xs:!0,lg:"1",children:Object(j.jsx)(Nt.a,{trigger:function(){return Object(j.jsx)("button",{className:"btn btn-primary mr-5",size:"primary",children:Object(j.jsx)(v.a,{icon:"printer"})})},content:function(){return t.current},style:"\n  @page {\n    size: 80mm 50mm;\n  }\n\n  @media all {\n    .pagebreak {\n      display: none;\n    }\n  }\n\n  @media print {\n    .pagebreak {\n      page-break-before: always;\n    }\n  }\n"})})]}),Object(j.jsx)(va,{id:e.id,ref:t})]})};function ya(e){var t=c.a.useState(0),a=Object(x.a)(t,2),r=a[0],s=a[1];return c.a.useEffect((function(){return s(100),function(){return s(0)}}),[]),Object(j.jsxs)("main",{className:"content",children:[Object(j.jsx)(Ze.a,{color:"#1a2e8a",height:"4px",progress:r}),Object(j.jsxs)("div",{className:"container-fluid p-0",children:[Object(j.jsx)("h1",{className:"h3 mb-3",children:"Gestion de Financements"}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12",children:Object(j.jsx)("div",{className:"card",children:Object(j.jsx)(Na,{id:e.match.params.id})})})}),Object(j.jsx)("div",{className:"modal fade",id:"modif",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:Object(j.jsx)("div",{className:"modal-dialog",role:"document",children:Object(j.jsx)("div",{className:"modal-content",children:Object(j.jsx)("div",{className:"modal-header",children:Object(j.jsx)("div",{className:"col-12 col-xl-12",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("h5",{className:"modal-title",children:"Modifier la Financement"}),Object(j.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{className:"card-body"})]})})})})})})]})]})}function wa(){var e=Object(Y.a)(),t=c.a.useState({}),a=Object(x.a)(t,2),r=a[0],s=(a[1],c.a.useState([])),n=Object(x.a)(s,2),i=n[0],l=n[1],o=c.a.useState([]),d=Object(x.a)(o,2),u=d[0],m=d[1],b=function(){var e=Object(U.a)(M.a.mark((function e(){var t,a,r,c,s,n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/prestataires/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/prestataires/"});case 4:t=e.sent,a=[],r=Object(P.a)(t.data.prestataires);try{for(r.s();!(c=r.n()).done;)s=c.value,n={value:s.id,label:s.abreviation},a.push(n)}catch(i){r.e(i)}finally{r.f()}m(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.response.data.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(U.a)(M.a.mark((function e(){var t,a,r,c,s,n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/memoires/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/memoires/"});case 4:t=e.sent,a=[],r=Object(P.a)(t.data.memoires);try{for(r.s();!(c=r.n()).done;)s=c.value,console.log(null===s.decompte,s.decompte),null===s.decompte&&(n={value:s.id,label:s.projet.code},a.push(n))}catch(i){r.e(i)}finally{r.f()}l(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.response.data.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(U.a)(M.a.mark((function e(){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(r),e.prev=1,"http://priqh2server.herokuapp.com/api/v1/decomptes/",e.next=5,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"post",url:"http://priqh2server.herokuapp.com/api/v1/decomptes/",data:r});case 5:e.sent,F.b.success("Success",{position:"top-right",autoClose:5e3,draggable:!1}),window.location.replace("/Decompte"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.response.data.message);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){h(),b()}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)(F.a,{}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Projet"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("div",{className:"boxes",children:Object(j.jsx)(Q.a,{placeholder:"Select Projet ...",components:e,options:i,onChange:function(e){return r.memoire_id=e.value}})})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Prestataire"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("div",{className:"boxes",children:Object(j.jsx)(Q.a,{placeholder:"Select Projet ...",components:e,options:u,onChange:function(e){return r.prestataire_id=e.value}})})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Montant"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"number",className:"form-control",onChange:function(e){return r.montant=1*e.target.value}})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Date Paiement"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"date",className:"form-control",onChange:function(e){return r.date_paiement=e.target.value}})})]}),Object(j.jsx)("div",{className:"mb-3 row",children:Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("span",{className:"btn btn-primary",onClick:function(){return p()},children:"Submit"})})})]})}function ka(){var e=lt().decompte;console.log(e);var t=Object(Y.a)(),a=c.a.useState({}),r=Object(x.a)(a,2),s=r[0],n=r[1];console.log(s);var i=c.a.useState([]),l=Object(x.a)(i,2),o=l[0],d=l[1],u=c.a.useState([]),m=Object(x.a)(u,2),b=m[0],h=m[1],p=function(){var e=Object(U.a)(M.a.mark((function e(){var t,a,r,c,s,n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/prestataires/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/prestataires/"});case 4:t=e.sent,a=[],r=Object(P.a)(t.data.prestataires);try{for(r.s();!(c=r.n()).done;)s=c.value,n={value:s.id,label:s.abreviation},a.push(n)}catch(i){r.e(i)}finally{r.f()}h(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.response.data.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(U.a)(M.a.mark((function e(){var t,a,r,c,s,n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/memoires/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/memoires/"});case 4:t=e.sent,a=[],r=Object(P.a)(t.data.memoires);try{for(r.s();!(c=r.n()).done;)null===(s=c.value).decompte&&(n={value:s.id,label:s.projet.code},a.push(n))}catch(i){r.e(i)}finally{r.f()}d(a),console.log(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0.response.data.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var t=Object(U.a)(M.a.mark((function t(){var a;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a="http://priqh2server.herokuapp.com/api/v1/decomptes/".concat(e.id),t.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"put",url:a,data:s});case 4:t.sent,F.b.success("Success",{position:"top-right",autoClose:5e3,draggable:!1}),window.location.replace("/Decompte"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0.response.data.message);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();return c.a.useEffect((function(){f(),p()}),[]),c.a.useEffect((function(){e&&n({memoire_id:e.memoire.id,prestataire_id:e.prestataire.id,date_paiement:new Date(e.date_paiement),montant:e.montant})}),[e]),Object(j.jsxs)("div",{children:[Object(j.jsx)(F.a,{}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Projet"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("div",{className:"boxes",children:Object(j.jsx)(Q.a,{placeholder:"Select Projet ...",components:t,options:o,onChange:function(e){return s.memoire_id=e.value}})})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Prestataire"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("div",{className:"boxes",children:Object(j.jsx)(Q.a,{placeholder:"Select Projet ...",components:t,options:b,onChange:function(e){return s.prestataire_id=e.value}})})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Montant"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"number",className:"form-control",defaultValue:s.montant,onChange:function(e){return s.montant=1*e.target.value}})})]}),Object(j.jsxs)("div",{className:"mb-3 row",children:[Object(j.jsx)("label",{className:"col-form-label col-sm-3 text-sm-left",children:"Date Paiement"}),Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("input",{type:"date",className:"form-control",defaultValue:new Date(s.date_paiement),onChange:function(e){return s.date_paiement=new Date(e.target.value)}})})]}),Object(j.jsx)("div",{className:"mb-3 row",children:Object(j.jsx)("div",{className:"col-sm-9",children:Object(j.jsx)("span",{className:"btn btn-primary",onClick:function(){return O()},children:"Submit"})})})]})}var Sa=Object(l.gql)(ga||(ga=Object(T.a)(["\nsubscription decomptes {\n  decomptes{\n    id\n    montant\n    date_paiement\n    memoire{\n      projet{code}\n    }\n    prestataire{\n      id\n      nom\n      abreviation\n    }\n  }\n}"]))),qa=c.a.forwardRef((function(e,t){var a=Object(l.useSubscription)(Sa),r=a.data,s=(a.error,c.a.useState({})),n=Object(x.a)(s,2),i=n[0],o=n[1],d=c.a.useState(!1),u=Object(x.a)(d,2),m=u[0],b=u[1],h=ot(),p=c.a.useState({}),f=Object(x.a)(p,2),O=f[0],g=f[1],N=c.a.useState(!0),y=Object(x.a)(N,2),w=y[0],k=y[1],S=function(){var e=Object(U.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(O),e.prev=1,t="http://priqh2server.herokuapp.com/api/v1/decomptes/".concat(O.id),e.next=5,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"delete",url:t});case 5:e.sent,F.b.success("Success",{position:"top-right",autoClose:5e3,draggable:!1}),window.location.replace("/decompte"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),F.b.error(e.t0.response.data.message,{position:"top-right",autoClose:5e3,draggable:!0}),b(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(U.a)(M.a.mark((function e(){var t,a,r,c,s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/decomptes/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/decomptes/"});case 4:if(200===(t=e.sent).status){console.log(t.data.decomptes),a=[],r=Object(P.a)(t.data.decomptes);try{for(s=function(){var e=c.value;a.push({projet:e.memoire.projet.code,prestataire:e.prestataire.abreviation,montant:e.montant,date:new Date(e.date_paiement).toLocaleDateString(),modifier:Object(j.jsx)("span",{onClick:function(){return h({type:"decompteEdit",payload:e})},"data-toggle":"modal","data-target":"#modif",children:Object(j.jsx)(v.a,{icon:"edit-2"})}),supprimer:Object(j.jsx)("span",{onClick:function(){g(e),b(!0)},children:Object(j.jsx)(v.a,{icon:"trash-2"})})})},r.s();!(c=r.n()).done;)s()}catch(n){r.e(n)}finally{r.f()}o({columns:[{label:"Projet",field:"projet"},{label:"Prestataire",field:"prestataire"},{label:"Montant",field:"montant"},{label:"Date Paiement",field:"date"},{label:"Modifier",field:"modifier",sort:"disabled"},{label:"Supprimer",field:"supprimer",sort:"disabled"}],rows:a})}k(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){q()}),[]),c.a.useEffect((function(){if(r){var e,t=[],a=Object(P.a)(r.decomptes);try{var c=function(){var a=e.value;t.push({projet:a.memoire.projet.code,prestataire:a.prestataire.abreviation,montant:a.montant,date:new Date(a.date_paiement).toLocaleDateString(),modifier:Object(j.jsx)("span",{onClick:function(){return h({type:"decompteEdit",payload:a})},"data-toggle":"modal","data-target":"#modif",children:Object(j.jsx)(v.a,{icon:"edit-2"})}),supprimer:Object(j.jsx)("span",{onClick:function(){g(a),b(!0)},children:Object(j.jsx)(v.a,{icon:"trash-2"})})})};for(a.s();!(e=a.n()).done;)c()}catch(s){a.e(s)}finally{a.f()}o({columns:[{label:"Projet",field:"projet"},{label:"Prestataire",field:"prestataire"},{label:"Montant",field:"montant"},{label:"Date Paiement",field:"date"},{label:"Modifier",field:"modifier",sort:"disabled"},{label:"Supprimer",field:"supprimer",sort:"disabled"}],rows:t})}}),[r]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(F.a,{}),Object(j.jsx)("div",{className:"p-3",children:w?Object(j.jsx)("div",{className:"d-flex justify-content-center",children:Object(j.jsxs)(pe.a,{md:"auto",children:[Object(j.jsx)(de.a,{as:"span",animation:"border",size:"lg",variant:"primary",role:"status","aria-hidden":"true"})," "]})}):Object(j.jsx)(he.c,{ref:t,style:{marginLeft:"1%"},responsive:!0,hover:!0,entriesOptions:[5,20,25],striped:!0,pagesAmount:5,data:i,paging:!0,searchBottom:!0,barReverse:!0})}),Object(j.jsxs)(ze.a,{show:m,onHide:function(){return b(!1)},children:[Object(j.jsx)(ze.a.Header,{children:Object(j.jsx)(ze.a.Title,{children:"Confirmation"})}),Object(j.jsx)(ze.a.Body,{children:"Are you sure you want delete decompte of this decompte !"}),Object(j.jsxs)(ze.a.Footer,{children:[Object(j.jsx)(oe.a,{variant:"danger",onClick:function(){return b(!1)},children:"Fermer"}),Object(j.jsx)(oe.a,{variant:"primary",onClick:function(){S()},children:"Supprimer"})]})]})]})}));var Ca=function(){var e=c.a.useRef();return Object(j.jsxs)("div",{children:[Object(j.jsxs)(Re.a,{className:"mt-2",children:[Object(j.jsx)(pe.a,{}),Object(j.jsx)(pe.a,{md:"auto",children:Object(j.jsx)(oe.a,{className:"btn btn-primary",size:"primary","data-toggle":"modal","data-target":"#ajout",children:Object(j.jsx)("i",{className:"fas fa-plus"})})}),Object(j.jsx)(pe.a,{xs:!0,lg:"1",children:Object(j.jsx)(Nt.a,{trigger:function(){return Object(j.jsx)("button",{className:"btn btn-primary mr-5",size:"primary",children:Object(j.jsx)(v.a,{icon:"printer"})})},content:function(){return e.current},style:"\n  @page {\n    size: 80mm 50mm;\n  }\n\n  @media all {\n    .pagebreak {\n      display: none;\n    }\n  }\n\n  @media print {\n    .pagebreak {\n      page-break-before: always;\n    }\n  }\n"})})]}),Object(j.jsx)(qa,{ref:e})]})};function _a(e){var t=c.a.useState(0),a=Object(x.a)(t,2),r=a[0],s=a[1];return c.a.useEffect((function(){return s(100),function(){return s(0)}}),[]),Object(j.jsxs)("main",{className:"content",children:[Object(j.jsx)(Ze.a,{color:"#1a2e8a",height:"4px",progress:r}),Object(j.jsxs)("div",{className:"container-fluid p-0",children:[Object(j.jsx)("h1",{className:"h3 mb-3",children:"Gestion des Decomptes"}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12",children:Object(j.jsx)("div",{className:"card",children:Object(j.jsx)(Ca,{})})})}),Object(j.jsx)("div",{className:"modal fade",id:"ajout",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:Object(j.jsx)("div",{className:"modal-dialog",role:"document",children:Object(j.jsx)("div",{className:"modal-content",children:Object(j.jsx)("div",{className:"modal-header",children:Object(j.jsx)("div",{className:"col-12 col-xl-12",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("h5",{className:"modal-title",children:"Ajouter Decompte"}),Object(j.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(wa,{})})]})})})})})}),Object(j.jsx)("div",{className:"modal fade",id:"modif",tabIndex:"-1",role:"dialog","aria-hidden":"true",children:Object(j.jsx)("div",{className:"modal-dialog",role:"document",children:Object(j.jsx)("div",{className:"modal-content",children:Object(j.jsx)("div",{className:"modal-header",children:Object(j.jsx)("div",{className:"col-12 col-xl-12",children:Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("h5",{className:"modal-title",children:"Modifier le Decompte"}),Object(j.jsx)("button",{type:"button",className:"btn-close","data-dismiss":"modal","aria-label":"Close"})]}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)(ka,{})})]})})})})})})]})]})}var Aa=a(722),Ra=a(704),za=a(698),Ia=a(699),Ba=a(702),Ea=a(247),Ma=a(248),Pa=a(207),Ua=a(205),Ta=a(416);function Fa(e){var t=e.projet,a=c.a.useState([]),r=Object(x.a)(a,2),s=r[0],n=r[1],i=function(e){var t,a=0,r=Object(P.a)(e.progres);try{for(r.s();!(t=r.n()).done;){a+=t.value.quantite}}catch(c){r.e(c)}finally{r.f()}return a};return c.a.useEffect((function(){t&&function(){var e=[];if(t){var a,r=Object(P.a)(t.infrastructures);try{for(r.s();!(a=r.n()).done;){var c=a.value;e.push({name:c.type,quantite:c.quantite,avancement_totale:i(c),amt:c.quantite})}}catch(s){r.e(s)}finally{r.f()}console.log(e),n(e)}}()}),[t]),Object(j.jsx)(za.a,{width:"100%",height:"100%",children:Object(j.jsxs)(Ia.a,{width:500,height:300,data:s,margin:{top:5,right:30,left:20,bottom:5},children:[Object(j.jsx)(Ba.a,{strokeDasharray:"3 3"}),Object(j.jsx)(Ea.a,{dataKey:"name"}),Object(j.jsx)(Ma.a,{}),Object(j.jsx)(Pa.a,{}),Object(j.jsx)(Ua.a,{}),Object(j.jsx)(Ta.a,{dataKey:"quantite",fill:"#8884d8"}),Object(j.jsx)(Ta.a,{dataKey:"avancement_totale",fill:"#82ca9d"})]})})}var La=a(723);a(655);function Da(e){var t=e.setProjet,a=r.useState([]),c=Object(x.a)(a,2),s=c[0],n=c[1],i=function(){var e=Object(U.a)(M.a.mark((function e(){var t,a,r,c,s,i,l,o,d,u,j;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/tranches/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/tranches/"});case 4:t=e.sent,a=[],r=Object(P.a)(t.data.tranches);try{for(r.s();!(c=r.n()).done;){s=c.value,i={id:s.numero,text:"Tranche ".concat(s.numero),icon:"folder"},l=0,o=[],d=Object(P.a)(s.projets);try{for(d.s();!(u=d.n()).done;)j=u.value,o.push({id:l+"-"+s.numero,text:j.code,icon:"file",value:j}),l++}catch(m){d.e(m)}finally{d.f()}i.child=o,a.push(i)}}catch(m){r.e(m)}finally{r.f()}console.log(a),n(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();r.useEffect((function(){i()}),[]);return Object(j.jsx)("div",{children:Object(j.jsx)(La.a,{id:"listview",dataSource:s,fields:{iconCss:"icon",tooltip:"text"},headerTitle:"Lise des Tranches",showIcon:!0,showHeader:!0,select:function(e){e.text.startsWith("Tranche")||(console.log(e),t(e.data.value))}})})}var Ha=a(703),Va=a(405),Ga=[{name:"Page A",uv:4e3,pv:2400,amt:2400},{name:"Page B",uv:3e3,pv:1398,amt:2210},{name:"Page C",uv:2e3,pv:9800,amt:2290},{name:"Page D",uv:2780,pv:3908,amt:2e3},{name:"Page E",uv:1890,pv:4800,amt:2181},{name:"Page F",uv:2390,pv:3800,amt:2500},{name:"Page G",uv:3490,pv:4300,amt:2100}];function Qa(){return Object(j.jsx)(za.a,{width:"100%",height:"100%",children:Object(j.jsxs)(Ha.a,{width:500,height:100,data:Ga,syncId:"anyId",margin:{top:10,right:30,left:0,bottom:0},children:[Object(j.jsx)(Ba.a,{strokeDasharray:"3 3"}),Object(j.jsx)(Ea.a,{dataKey:"name"}),Object(j.jsx)(Ma.a,{}),Object(j.jsx)(Pa.a,{}),Object(j.jsx)(Va.a,{type:"monotone",dataKey:"uv",stroke:"#8884d8",fill:"#8884d8"})]})})}var Ya=a(406),Ka=a(407),Xa=a(408),Ja=a(415),Wa=a(712),Za=a(411),$a=[{name:"Projet",uv:100,fill:"#8884d8"},{name:"Voirie",uv:50,fill:"#83a6ed"},{name:"Eau potable",uv:50,fill:"#83a6ed"},{name:"Eclairage",uv:15.69,fill:"#8dd1e1"},{name:"Drainage",uv:8.22,fill:"#82ca9d"},{name:"Assainissement",uv:8.63,fill:"#a4de6c"}],er={top:"50%",right:0,transform:"translate(0, -50%)",lineHeight:"24px"},tr=function(e){Object(Xa.a)(a,e);var t=Object(Ja.a)(a);function a(){return Object(Ya.a)(this,a),t.apply(this,arguments)}return Object(Ka.a)(a,[{key:"render",value:function(){return Object(j.jsx)(za.a,{width:"100%",height:"100%",children:Object(j.jsxs)(Wa.a,{cx:"50%",cy:"50%",innerRadius:"10%",outerRadius:"80%",barSize:10,data:$a,children:[Object(j.jsx)(Za.a,{minAngle:15,label:{position:"insideStart",fill:"#fff"},background:!0,clockWise:!0,dataKey:"uv"}),Object(j.jsx)(Ua.a,{iconSize:10,layout:"vertical",verticalAlign:"middle",wrapperStyle:er})]})})}}]),a}(r.PureComponent);function ar(){var e=r.useState(null),t=Object(x.a)(e,2),a=t[0],c=t[1];return r.useEffect((function(){console.log(a)}),[a]),Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"control-section",children:Object(j.jsx)(Aa.a,{id:"defaultLayout",cellSpacing:[10,10],columns:5,children:Object(j.jsxs)(Ra.b,{children:[Object(j.jsx)(Ra.a,{sizeX:1,sizeY:1,row:0,col:0,header:"<div>Voirie</div>",content:function(){return Object(j.jsx)(Qa,{projet:a})}}),Object(j.jsx)(Ra.a,{sizeX:3,sizeY:2,row:0,col:1,header:"<div>Infrastructures</div>",content:function(){return Object(j.jsx)(Fa,{projet:a})}}),Object(j.jsx)(Ra.a,{sizeX:1,sizeY:2,row:0,col:4,content:function(){return Object(j.jsx)(Da,{setProjet:c})}}),Object(j.jsx)(Ra.a,{sizeX:1,sizeY:1,row:1,col:0,header:"<div>Eau potable</div>",content:function(){return Object(j.jsx)(Qa,{projet:a})}}),Object(j.jsx)(Ra.a,{sizeX:1,sizeY:1,row:2,col:0,header:"<div>Eclairage Public</div>",content:function(){return Object(j.jsx)(Qa,{projet:a})}}),Object(j.jsx)(Ra.a,{sizeX:1,sizeY:1,row:2,col:1,header:"<div>Drainage des eaux pluviales</div>",content:function(){return Object(j.jsx)(Qa,{projet:a})}}),Object(j.jsx)(Ra.a,{sizeX:1,sizeY:1,row:2,col:2,header:"<div>Assainissement</div>",content:function(){return Object(j.jsx)(Qa,{projet:a})}}),Object(j.jsx)(Ra.a,{sizeX:2,sizeY:1,row:2,col:3,header:"<div>Assainissement</div>",content:tr})]})})})})}function rr(){var e=c.a.useState([]),t=Object(x.a)(e,2),a=(t[0],t[1]),r=function(){var e=Object(U.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/tranches/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/tranches/"});case 4:t=e.sent,console.log(t.data.tranches),a(t.data.tranches),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){r()}),[]),Object(j.jsx)("main",{className:"content",children:Object(j.jsxs)("div",{className:"container-fluid p-0",children:[Object(j.jsx)(Re.a,{children:Object(j.jsx)(pe.a,{children:Object(j.jsx)("h1",{className:"h3 mb-3",children:"Suivi de l'avancement"})})}),Object(j.jsx)(ar,{})]})})}var cr=c.a.forwardRef((function(e,t){var a=c.a.useState({}),r=Object(x.a)(a,2),s=(r[0],r[1]),n=c.a.useState(!1),i=Object(x.a)(n,2),l=(i[0],i[1]),o=ot(),d=c.a.useState({}),u=Object(x.a)(d,2),m=(u[0],u[1]),b=c.a.useState(!0),h=Object(x.a)(b,2),p=h[0],f=h[1],O=function(){var e=Object(U.a)(M.a.mark((function e(){var t,a,r,c,n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://priqh2server.herokuapp.com/api/v1/decomptes/",e.next=4,D()({headers:{Authorization:"Bearer ".concat(localStorage.getItem("tokenARRU"))},method:"get",url:"http://priqh2server.herokuapp.com/api/v1/decomptes/"});case 4:if(200===(t=e.sent).status){console.log(t.data.decomptes),a=[],r=Object(P.a)(t.data.decomptes);try{for(n=function(){var e=c.value;a.push({projet:e.memoire.projet.code,prestataire:e.prestataire.abreviation,montant:e.montant,date:new Date(e.date_paiement).toLocaleDateString(),modifier:Object(j.jsx)("span",{onClick:function(){return o({type:"decompteEdit",payload:e})},"data-toggle":"modal","data-target":"#modif",children:Object(j.jsx)(v.a,{icon:"edit-2"})}),supprimer:Object(j.jsx)("span",{onClick:function(){m(e),l(!0)},children:Object(j.jsx)(v.a,{icon:"trash-2"})})})},r.s();!(c=r.n()).done;)n()}catch(i){r.e(i)}finally{r.f()}s({columns:[{label:"Projet",field:"projet"},{label:"Prestataire",field:"prestataire"},{label:"Montant",field:"montant"},{label:"Date Paiement",field:"date"},{label:"Modifier",field:"modifier",sort:"disabled"},{label:"Supprimer",field:"supprimer",sort:"disabled"}],rows:a})}f(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();c.a.useEffect((function(){O()}),[]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(F.a,{}),Object(j.jsx)("div",{className:"p-3",children:p?Object(j.jsx)("div",{className:"d-flex justify-content-center",children:Object(j.jsxs)(pe.a,{md:"auto",children:[Object(j.jsx)(de.a,{as:"span",animation:"border",size:"lg",variant:"primary",role:"status","aria-hidden":"true"})," "]})}):Object(j.jsx)(he.c,{ref:t,style:{marginLeft:"1%"},responsive:!0,hover:!0,entriesOptions:[5,20,25],striped:!0,pagesAmount:5,data:{columns:[{label:"Projet",field:"projet"},{label:"Actions",field:"action"},{label:"Justification",field:"justification"}],rows:[{projet:"ARI_RAOU_RAO",action:"la quantit\xe9 de voirie a changer de 150 a 80",justification:""}]},paging:!0,searchBottom:!0,barReverse:!0})})]})}));var sr=function(){var e=c.a.useRef();return Object(j.jsxs)("div",{children:[Object(j.jsxs)(Re.a,{className:"mt-2",children:[Object(j.jsx)(pe.a,{}),Object(j.jsx)(pe.a,{md:"auto"}),Object(j.jsx)(pe.a,{xs:!0,lg:"1",children:Object(j.jsx)(Nt.a,{trigger:function(){return Object(j.jsx)("button",{className:"btn btn-primary mr-5",size:"primary",children:Object(j.jsx)(v.a,{icon:"printer"})})},content:function(){return e.current},style:"\n  @page {\n    size: 80mm 50mm;\n  }\n\n  @media all {\n    .pagebreak {\n      display: none;\n    }\n  }\n\n  @media print {\n    .pagebreak {\n      page-break-before: always;\n    }\n  }\n"})})]}),Object(j.jsx)(cr,{ref:e})]})};function nr(e){var t=c.a.useState(0),a=Object(x.a)(t,2),r=a[0],s=a[1];return c.a.useEffect((function(){return s(100),function(){return s(0)}}),[]),Object(j.jsxs)("main",{className:"content",children:[Object(j.jsx)(Ze.a,{color:"#1a2e8a",height:"4px",progress:r}),Object(j.jsxs)("div",{className:"container-fluid p-0",children:[Object(j.jsx)("h1",{className:"h3 mb-3",children:"Les Avenants"}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12",children:Object(j.jsx)("div",{className:"card",children:Object(j.jsx)(sr,{})})})})]})]})}var ir=a(67);function lr(e){var t=R().user;return e.authenticated&&!t?Object(j.jsx)(ir.a,{to:"/login"}):Object(j.jsx)(ir.b,Object(i.a)({component:e.component},e))}a(656),a(657);var or=function(){return"undefined"!==typeof window&&(window.React=c.a),Object(j.jsx)(f,{children:Object(j.jsx)(A,{children:Object(j.jsx)(it,{children:Object(j.jsx)(ha.a,{children:Object(j.jsxs)("div",{className:"wrapper",children:[Object(j.jsx)(I,{}),Object(j.jsxs)("div",{className:"main",children:[Object(j.jsx)(V,{}),Object(j.jsxs)(ir.d,{children:[Object(j.jsx)(lr,{exact:!0,path:"/Login",component:je,guest:!0}),Object(j.jsx)(lr,{exact:!0,path:"/Utilisateurs",component:$,authenticated:!0,interface:"gestion des utilisateurs"}),Object(j.jsx)(lr,{exact:!0,path:"/Roles",component:te,authenticated:!0,interface:"gestion des roles"}),Object(j.jsx)(lr,{exact:!0,path:"/Groupes",component:re,authenticated:!0,interface:"gestion des groupes"}),Object(j.jsx)(lr,{exact:!0,path:"/Interfaces",component:ce,authenticated:!0,interface:"gestion des interfaces"}),Object(j.jsx)(lr,{exact:!0,path:"/Specifications",component:ne,authenticated:!0,interface:"gestion des groupes"}),Object(j.jsx)(lr,{exact:!0,path:"/Profile",component:le,authenticated:!0}),Object(j.jsx)(lr,{exact:!0,path:"/Settings",component:ie,authenticated:!0}),Object(j.jsx)(lr,{exact:!0,path:"/Quartiers",component:tt,authenticated:!0}),Object(j.jsx)(lr,{exact:!0,path:"/Projets",component:St,authenticated:!0}),Object(j.jsx)(lr,{exact:!0,path:"/Eligible",component:Gt,authenticated:!0}),Object(j.jsx)(lr,{exact:!0,path:"/Crit\xe9res d'\xe9ligibilit\xe9",component:Bt,authenticated:!0}),Object(j.jsx)(lr,{exact:!0,path:"/communes",component:Ft,authenticated:!0}),Object(j.jsx)(lr,{exact:!0,path:"/beilleurs",component:Xt,authenticated:!0}),Object(j.jsx)(lr,{exact:!0,path:"/Tranches",component:ca,authenticated:!0}),Object(j.jsx)(lr,{exact:!0,path:"/Budget",component:sa,authenticated:!0}),Object(j.jsx)(lr,{exact:!0,path:"/Prestataire",component:ua,authenticated:!0}),Object(j.jsx)(lr,{exact:!0,path:"/Memoire",component:Oa,authenticated:!0}),Object(j.jsx)(lr,{exact:!0,path:"/Financement/:id",component:ya,authenticated:!0}),Object(j.jsx)(lr,{exact:!0,path:"/Decompte",component:_a,authenticated:!0}),Object(j.jsx)(lr,{exact:!0,path:"/Avancement",component:rr,authenticated:!0}),Object(j.jsx)(lr,{exact:!0,path:"/Traces",component:ve,authenticated:!0}),Object(j.jsx)(lr,{exact:!0,path:"/Avenant",component:nr,authenticated:!0}),Object(j.jsx)(lr,{component:qt,authenticated:!0})]}),Object(j.jsx)(G,{})]})]})})})})})};n.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(or,{})}),document.getElementById("root"))}},[[658,1,2]]]);
//# sourceMappingURL=main.31631427.chunk.js.map