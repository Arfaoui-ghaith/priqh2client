{"version":3,"sources":["ApolloProvider.js","droit-acce/components/SidebarItem.js","context/auth.js","droit-acce/components/Sidebar.js","droit-acce/components/Navbar.js","droit-acce/components/Footer.js","droit-acce/components/Form.js","droit-acce/pages/Dashboard.js","droit-acce/components/RoleForm.js","droit-acce/pages/Role.js","droit-acce/components/GroupForm.js","droit-acce/pages/Group.js","droit-acce/pages/Interface.js","droit-acce/components/GroupSpecification.js","droit-acce/pages/Specification.js","droit-acce/pages/Settings.js","droit-acce/pages/Profile.js","droit-acce/pages/Login.js","droit-acce/pages/Traces/components/TraceTable.js","droit-acce/pages/Traces/Traces.js","identification/quartier/components/MapFormUpdate.js","identification/quartier/components/SearchControl.js","identification/quartier/components/Map.js","identification/quartier/components/MapFormAdd.js","identification/quartier/Quartiers.js","context/store.js","identification/critere/components/Carte.js","identification/projet/components/steps/Step1.js","identification/projet/components/steps/Step2.js","identification/projet/components/steps/Step3.js","identification/projet/components/steps/Step4.js","identification/projet/components/FormProjet.js","identification/projet/components/FormProjetUpdate.js","identification/projet/components/TableProj.js","identification/projet/components/PrintProjet.js","identification/projet/Projets.js","identification/pages/E404.js","identification/critere/components/Critere.js","identification/critere/Criteres.js","identification/commune/components/FormCommune.js","identification/commune/components/FormCommuneUpdate.js","identification/commune/components/TableCommune.js","identification/commune/components/PrintCommune.js","identification/commune/Communes.js","identification/components/TableProjEligible.js","identification/components/PrintEligible.js","identification/components/TableProjetIneligible.js","identification/components/PrintIneligible.js","identification/pages/Eligible.js","financement/bailleur_fonds/components/Beilleur.js","financement/bailleur_fonds/Beilleurs.js","identification/tranche/components/TableTranche.js","identification/tranche/components/FormUpdateTranche.js","identification/tranche/components/PrintTranche.js","identification/tranche/components/FormTranche.js","identification/tranche/Tranches.js","identification/pages/Budget.js","financement/prestataire/components/FormPrestataire.js","financement/prestataire/components/FormPrestataireUpdate.js","financement/prestataire/components/TablePrestataire.js","financement/prestataire/components/PrintPrestataire.js","financement/prestataire/Prestataire.js","financement/memoire/components/FormMemoire.js","financement/memoire/components/FormMemoireUpdate.js","financement/memoire/components/TableMemoire.js","financement/memoire/components/PrintMemoire.js","financement/memoire/Memoire.js","financement/financement/components/TableFinancement.js","financement/financement/components/PrintFinancement.js","financement/financement/Financement.js","financement/decompte/components/FormDecompte.js","financement/decompte/components/FormDecompteUpdate.js","financement/decompte/components/TableDecompte.js","financement/decompte/components/PrintDecompte.js","financement/decompte/Decompte.js","execution physique/dashboard/components/Infrastructures.js","execution physique/dashboard/components/TrancheList.js","execution physique/dashboard/components/AreaChartInfra.js","execution physique/dashboard/components/TauxTotale.js","execution physique/dashboard/components/index.js","execution physique/dashboard/Avancement.js","execution physique/avenant/components/TableAvenant.js","execution physique/avenant/components/PrintAvenant.js","execution physique/avenant/Avenant.js","utils/DynamicRoutes.js","App.js","index.js"],"names":["httpLink","createHttpLink","uri","setContext","_","headers","token","localStorage","getItem","authorization","concat","wsLink","WebSocketLink","options","reconnect","connectionParams","Authorization","splitLink","split","query","definition","getMainDefinition","kind","operation","client","ApolloClient","link","cache","InMemoryCache","ApolloProvider","props","SidebarItem","title","icon","l","selecteditem","title2","setselecteditem","className","onClick","e","window","location","replace","AuthStateContext","React","createContext","AuthDispatchContext","user","undefined","decodedToken","jwtDecode","expiresAt","Date","exp","removeItem","console","error","authReducer","state","action","type","setItem","payload","Error","AuthProvider","children","useReducer","dispatch","Provider","value","useAuthState","useContext","useAuthDispatch","Sidebar","useState","href","slice","length","selectedItem","setSelectedItem","id","src","alt","style","interfaces","filter","el","indexOf","titre","Fragment","NOTIFICATIONS","gql","Navbar","useSubscription","notificationsRL","data","notifications","setNotifications","fetchNotifications","a","axios","method","url","res","i","push","notifs","n","interface","log","useEffect","forEach","notif","toast","success","message","position","autoClose","draggable","data-toggle","aria-labelledby","map","notification","index","updatedAt","toLocaleString","nom","prenom","Footer","getFullYear","target","animatedComponents","makeAnimated","Form","selectedLabels","setSelectedLabels","roles","setRoles","roles_specifications","setRoles_specifications","relations","setRelations","utilisateur","setUtilisateur","showDiv","setShowDiv","rolesDefault","setRolesDefault","fetchRoles","status","roles_options","role","obj","label","checkedSp","specification","roleSelected","role_id","specification_id","handleChange","Array","isArray","x","handleRolesDefault","handleRelations","addUser","response","updateUser","makeArray","defaults","roleUser","onChange","cin","placeholder","email","password","telephone","closeMenuOnSelect","defaultValue","components","isMulti","marginTop","lineHeight","sp","defaultChecked","name","UTILISATEURS","Dashboard","users","setUsers","userEdit","setUserEdit","utilisateurs","fetchUsers","deleteUser","confirm","alert","Table","responsive","data-target","listStyleType","tabIndex","aria-hidden","data-dismiss","aria-label","RoleForm","fonctionalites","setFonctionalites","setTitre","setInterfaces","fonctionalitesDefault","setFonctionalitesDefault","interfacesDefault","setInterfacesDefault","addRole","selectedFonctionalites","selectedInterfaces","updateRole","fetchFonctionalites","fonctionalites_options","fonctionalite","fetchInterfaces","interfaces_options","interfac","setSelectedFonctionalites","setSelectedInterfaces","handleFonctionalitesChange","handleInterfacesChange","defaultsF","fonctionaliteRole","defaultsI","interf","interfRole","handleFonctionalitesDefault","handleInterfacesDefault","Role","roleEdit","setRoleEdit","deleteRole","GroupForm","specifications","setSpecifications","specificationsDefault","setSpecificationsDefault","selectedSpecifications","setSelectedSpecifications","fetchSpecifications","Specification_options","specificationRole","handleSpecificationsDefault","Group","setRole","Interface","GroupSpecification","addSpecification","updateSpecification","Specification","setSpecification","deleteSpecification","Settings","nomprenom","setNomPrenom","setEmail","setTelephone","setPassword","confirmPassword","setConfirmPassword","currentPassword","setCurrentPassword","updateNomPrenom","form","FormData","append","document","getElementById","files","get","updateInfo","updatePassword","selectedImg","setSelectedImg","htmlFor","width","height","event","URL","createObjectURL","selected","Profile","st","color","Login","useKeypress","key","login","loading","setLoading","preventDefault","Button","variant","block","disabled","Spinner","as","animation","size","TRACES","TraceTable","forwardRef","ref","datatable","setDatatable","traces","tracesData","trace","date","createdAt","columns","field","sort","rows","fetchTraces","Col","md","hover","entriesOptions","striped","pagesAmount","paging","searchBottom","order","barReverse","Traces","setTraces","MapFormAdd","quartier","quartierEdit","setQuartier","editQuartier","Container","Card","Header","nom_fr","nom_ar","surface","Body","SearchControl","useMap","searchControl","GeoSearchControl","provider","addControl","removeControl","BaseLayer","LayersControl","Map","quartiers","prov","OpenStreetMapProvider","show","setShow","showEdit","setShowEdit","deleteQuartier","multiPolygon","limites","polys","limite","lat","lng","MapContainer","center","zoom","zoomControl","checked","TileLayer","attribution","ZoomControl","zoomInText","zoomOutText","showMarker","showPopup","popupFormat","result","maxMarkers","retainZoomLevel","animateZoom","searchLabel","keepResult","Marker","Popup","Row","Polygon","pathOptions","positions","latlngs","Tooltip","sticky","Modal","onHide","Title","dialogClassName","commune","setCommune","setNomFr","setNomAr","gouvernorats","setGouvernorats","gouvernorat","setGouvernorat","communes","setCommunes","mapLayers","fetchGouvernorats","gouvernorats_options","addQuartier","FeatureGroup","onCreated","layerType","layer","_leaflet_id","commune_id","commune_code","code","turf","toGeoJSON","getCenter","getLatLngs","onEdited","_layers","layers","Object","values","splice","onDeleted","click","draw","rectangle","circle","circlemarker","marker","polyline","communes_options","QUARTIERS","GOUVERNORATS","Quartiers","setQuartiers","progress","setProgress","quartiersINFO","gouvernoratsINFO","fetchQuartiers","xs","getElementsByClassName","onclick","allQuartiers","StoreStateContext","StoreDispatchContext","storeReducer","decompte","financements","memoire","prestataire","newProjet","projet","StoreProvider","useStoreState","useStoreDispatch","Carte","data-for","Tunisia","onLocationFocus","ariaLabel","Step1","quartiers_options","nomProjet","surface_totale","trim","Step2","dispatchData","nbr_quartiers","surface_urbanisee_totale","nombre_logements_totale","nombre_habitants_totale","Step3","quantite","cout","drainage","voirie","assainissement","eclairage","eau","infrastructures","Step4","bureau_etude","cout_etude","etude","AddProjet","FormProjet","steps","component","nextButtonCls","backButtonCls","stepsNavigation","FormProjetUpdate","loadValues","infra","setDrainage","setEau","setAssainissement","setEclairage","setVoirie","setEtude","updateProjet","p","bureaucout","PROJETS","TableProj","setProjet","projets","deleteProjet","fetchProjets","Nombre","Surfaces","Surface","logement","habitant","qd","cd","qv","cv","qep","cep","npl","cpl","qa","ca","be","ce","modifier","supprimer","projetsDATA","PrintProjet","useRef","test_eligible","Projets","setProjets","closeButton","E404","Critere","critere","critereEdit","setCritereEdit","update","nbr_quartier","InputGroup","Prepend","Text","backgroundColor","borderColor","FormControl","CRITERES","Criteres","fiche","setFiche","criteres","fetchCriteres","toUpperCase","fiche_criteres","FormCommune","gouvernorat_options","addCommune","gouvernorat_id","gouvernorat_code","FormCommuneUpdate","communeEdit","setCommuneEdit","updateCommune","COMMUNES","TableCommune","communesINFO","deleteCommune","fetchCommunes","attributes","PrintCommune","componentRef","lg","trigger","content","current","Communes","TableProjEligible","ineligible","eligible","PrintEligible","TableProjIneligible","PrintIneligible","Eligible","Beilleur","img","setNom","updateBailleur","deleteBailleur","show1","setShow1","BAILLEURS","Beilleurs","bailleurs","tab","setTab","fetchBailleurs","bailleur_fonds","addBailleur","b","image","TableTranche","FormUpdateTranche","numero","tranche","setTranche","selectedProjets","q","updateTranche","PrintTranche","deleteTranche","FormTranche","projet_options","addTranche","TRANCHES","Tranches","tranches","setTranches","tranchesInfo","fetchTranches","Accordion","defaultActiveKey","Toggle","eventKey","Collapse","Budget","FormPrestataire","setPrestataire","addPrestataire","abreviation","FormPrestataireUpdate","prestataireEdit","setPrestataireEdit","updatePrestataire","PRESTATAIRES","TablePrestataire","prestataires","deletePrestataire","fetchPrestataires","prestatairesInfo","PrintPrestataire","Prestataire","FormMemoire","htva","montant_exonere","frais_gestion","tva","gestion_frais_tva","timbre_fiscale","setMemoire","projets_options","addMemoire","projet_id","FormMemoireUpdate","memoireEdit","setMemoireEdit","updateMemoire","MEMOIRES","TableMemoire","memoires","deleteMemoire","fetchMemoires","to","memoiresTab","PrintMemoire","TableFinancement","fetchFinancements","f","bailleur","previsionnel","montant","deblocage","reliquat","PrintFinancement","Financement","match","params","FormDecompte","setMemoires","setPrestataires","prestataires_options","memoires_options","addDecompte","memoire_id","prestataire_id","date_paiement","FormDecompteUpdate","decompteEdit","setDecompteEdit","updateDecompte","DECOMPTES","TableDecompte","decomptes","setDecompte","deleteDecompte","fetchDecomptes","toLocaleDateString","decomptesInfo","PrintDecompte","Decompte","Infrastructures","setData","calculSum","sum","progres","dataInfo","avancement_totale","amt","handleData","ResponsiveContainer","BarChart","margin","top","right","left","bottom","CartesianGrid","strokeDasharray","XAxis","dataKey","YAxis","Legend","Bar","fill","TrancheList","text","child","dataSource","fields","iconCss","tooltip","headerTitle","showIcon","showHeader","select","startsWith","uv","pv","AreaChartInfra","AreaChart","syncId","Area","stroke","transform","TauxTotale","RadialBarChart","cx","cy","innerRadius","outerRadius","barSize","RadialBar","minAngle","background","clockWise","iconSize","layout","verticalAlign","wrapperStyle","PureComponent","Index","cellSpacing","sizeX","sizeY","row","col","header","Avancements","TableAvenant","justification","PrintAvenant","DynamicRoutes","authenticated","App","exact","path","guest","Elig","Commune","Memoire","Avancement","Avenant","ReactDOM","render","StrictMode"],"mappings":"2XAaIA,EAAWC,yBAAe,CAC5BC,IAAK,8CAePF,EAZiBG,aAAW,SAACC,EAAD,GAAqB,IAAfC,EAAc,EAAdA,QAE1BC,EAAQC,aAAaC,QAAQ,aAEnC,MAAO,CACLH,QAAQ,2BACHA,GADE,IAELI,cAAeH,EAAK,iBAAaA,GAAU,SAK7BI,OAAOV,GAE3B,IAAMW,EAAS,IAAIC,IAAc,CAC/BV,IAAI,0CACJW,QAAS,CACPC,WAAW,EACXC,iBAAkB,CAChBC,cAAc,UAAD,OAAYT,aAAaC,QAAQ,kBAK9CS,EAAYC,iBAChB,YAAgB,IAAbC,EAAY,EAAZA,MACKC,EAAaC,YAAkBF,GACrC,MACsB,wBAApBC,EAAWE,MACc,iBAAzBF,EAAWG,YAGfZ,EACAX,GAGIwB,EAAS,IAAIC,eAAa,CAC9BC,KAAMT,EACNU,MAAO,IAAIC,kBAGE,SAASC,EAAeC,GACrC,OAAO,cAAC,iBAAD,aAAUN,OAAQA,GAAYM,I,4BCxDxB,SAASC,EAAT,GAA6E,IAAvDC,EAAsD,EAAtDA,MAAOC,EAA+C,EAA/CA,KAAKC,EAA0C,EAA1CA,EAAGC,EAAuC,EAAvCA,aAAaC,EAA0B,EAA1BA,OAAQC,EAAkB,EAAlBA,gBAMrE,OACI,oBAAIC,UAAWH,IAAiBH,GAASG,IAAiBC,EAAS,sBAAwB,gBAAiBG,QAL5F,SAACC,GACjBC,OAAOC,SAASC,QAAQT,IAIxB,SACI,uBAAMI,UAAU,eAAeC,QAAS,kBAAKF,EAAgBL,IAA7D,UACA,cAAC,IAAD,CAAaC,KAAMA,IACf,sBAAMK,UAAU,eAAhB,SAAgCN,S,aCV1CY,EAAmBC,IAAMC,gBACzBC,EAAsBF,IAAMC,gBAE9BE,EAAO,KACL1C,EAAQC,aAAaC,QAAQ,aAGnC,GAAa,cAAVF,QAAmC2C,IAAV3C,GAAiC,OAAVA,EAAe,CAE9D,IAAM4C,EAAeC,YAAU7C,GACzB8C,EAAY,IAAIC,KAAwB,IAAnBH,EAAaI,KAErC,IAAID,KAASD,EACZ7C,aAAagD,WAAW,aAExBP,EAAOE,OAGXM,QAAQC,MAAM,mBAGlB,IAAMC,EAAc,SAACC,EAAOC,GACxB,OAAOA,EAAOC,MACV,IAAK,QACDtD,aAAauD,QAAQ,YAAYF,EAAOG,SACxC,IAAMb,EAAeC,YAAUS,EAAOG,SACtC,OAAO,2BACAJ,GADP,IAEIX,KAAME,IAEd,IAAK,SAED,OADA3C,aAAagD,WAAW,aACjB,2BACAI,GADP,IAEIX,KAAM,OAEd,QACI,MAAM,IAAIgB,MAAJ,+BAAkCJ,EAAOC,SAI9CI,EAAe,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAC3B,EAA0BrB,IAAMsB,WAAWT,EAAa,CAAEV,SAA1D,mBAAOW,EAAP,KAAcS,EAAd,KAEA,OACI,cAACrB,EAAoBsB,SAArB,CAA8BC,MAAOF,EAArC,SACI,cAACxB,EAAiByB,SAAlB,CAA2BC,MAAOX,EAAlC,SACKO,OAMJK,EAAe,kBAAM1B,IAAM2B,WAAW5B,IACtC6B,EAAkB,kBAAM5B,IAAM2B,WAAWzB,ICrDvC,SAAS2B,EAAQ5C,GAE/B,IAAQkB,EAASuB,IAATvB,KAER,EAAsCH,IAAM8B,SAASlC,OAAOC,SAASkC,KAAKC,MAAM,GAAGpC,OAAOC,SAASkC,KAAKE,SAAxG,mBAAOC,EAAP,KAAqBC,EAArB,KAGA,OAAY,OAAThC,QAA0BC,IAATD,EAEb,qBAAKiC,GAAG,UAAU3C,UAAU,UAA5B,SACL,sBAAKA,UAAU,+BAAf,UACC,sBAAMA,UAAU,gBAAgBsC,KAAK,aAArC,SACgB,sBAAMtC,UAAU,OAAhB,SACI,qBAAK4C,IAAI,uBAAuBC,IAAI,SAASC,MAAO,CAAE,OAAU,cAIpF,qBAAI9C,UAAU,cAAd,UAEGU,EAAKe,QAAQsB,WAAWC,QAAO,SAACC,GAAD,MAAQ,CAAC,2BAA4B,oBAAqB,sBAAuB,6BAA8B,yBAA0B,4BAA4BC,QAAQD,EAAGE,QAAU,KAAGX,OAAS,EACvO,oBAAIxC,UAAU,iBAAd,+BAEQ,GAENU,EAAKe,QAAQsB,WAAWC,QAAO,SAACC,GAAD,MAAqB,6BAAbA,EAAGE,SAAsCX,OAAS,EAC3F,cAAC/C,EAAD,CAAaC,MAAM,eAAeC,KAAK,QAAQC,EAAE,gBAAgBC,aAAc4C,EAAc1C,gBAAiB2C,IAC5G,GAEAhC,EAAKe,QAAQsB,WAAWC,QAAO,SAACC,GAAD,MAAqB,sBAAbA,EAAGE,SAA+BX,OAAS,EACpF,cAAC/C,EAAD,CAAaC,MAAM,QAAQC,KAAK,YAAYC,EAAE,SAASC,aAAc4C,EAAc1C,gBAAiB2C,IAClG,GAEAhC,EAAKe,QAAQsB,WAAWC,QAAO,SAACC,GAAD,MAAqB,wBAAbA,EAAGE,SAAiCX,OAAS,EACtF,cAAC/C,EAAD,CAAaC,MAAM,UAAUC,KAAK,OAAOC,EAAE,WAAWC,aAAc4C,EAAc1C,gBAAiB2C,IACjG,GACAhC,EAAKe,QAAQsB,WAAWC,QAAO,SAACC,GAAD,MAAqB,+BAAbA,EAAGE,SAAwCX,OAAS,EAC7F,cAAC/C,EAAD,CAAaC,MAAM,iBAAiBC,KAAK,OAAOC,EAAE,kBAAkBC,aAAc4C,EAAc1C,gBAAiB2C,IAC/G,GACAhC,EAAKe,QAAQsB,WAAWC,QAAO,SAACC,GAAD,MAAqB,2BAAbA,EAAGE,SAAoCX,OAAS,EACzF,cAAC/C,EAAD,CAAaC,MAAM,aAAaC,KAAK,SAASC,EAAE,cAAcC,aAAc4C,EAAc1C,gBAAiB2C,IACzG,GACAhC,EAAKe,QAAQsB,WAAWC,QAAO,SAACC,GAAD,MAAqB,6BAAbA,EAAGE,SAAsCX,OAAS,EAC3F,cAAC/C,EAAD,CAAaC,MAAM,eAAeC,KAAK,SAASC,EAAE,UAAUC,aAAc4C,EAAc1C,gBAAiB2C,IACvG,GAGAhC,EAAKe,QAAQsB,WAAWC,QAAO,SAACC,GAAD,MAAQ,CAAC,uBAAwB,wBAAyB,uBAAwB,sBAAuB,wBAAwBC,QAAQD,EAAGE,QAAU,KAAGX,OAAS,EACnM,oBAAIxC,UAAU,iBAAd,wCAEQ,GAENU,EAAKe,QAAQsB,WAAWC,QAAO,SAACC,GAAD,MAAqB,yBAAbA,EAAGE,SAAkCX,OAAS,EACvF,cAAC/C,EAAD,CAAaC,MAAM,WAAWC,KAAK,OAAOC,EAAE,YAAYC,aAAc4C,EAAc1C,gBAAiB2C,IACnG,GACAhC,EAAKe,QAAQsB,WAAWC,QAAO,SAACC,GAAD,MAAqB,0BAAbA,EAAGE,SAAmCX,OAAS,EACxF,cAAC/C,EAAD,CAAaC,MAAM,YAAYC,KAAK,UAAUC,EAAE,aAAaC,aAAc4C,EAAc1C,gBAAiB2C,IACxG,GACAhC,EAAKe,QAAQsB,WAAWC,QAAO,SAACC,GAAD,MAAqB,yBAAbA,EAAGE,SAAkCX,OAAS,EACvF,cAAC/C,EAAD,CAAaC,MAAM,kCAAyBC,KAAK,SAASC,EAAE,mCAA0BC,aAAc4C,EAAc1C,gBAAiB2C,IACjI,GACAhC,EAAKe,QAAQsB,WAAWC,QAAO,SAACC,GAAD,MAAqB,wBAAbA,EAAGE,SAAiCX,OAAS,EACtF,cAAC/C,EAAD,CAAaC,MAAM,UAAUC,KAAK,YAAYC,EAAE,WAAWC,aAAc4C,EAAc1C,gBAAiB2C,IACtG,GACAhC,EAAKe,QAAQsB,WAAWC,QAAO,SAACC,GAAD,MAAqB,yBAAbA,EAAGE,SAAkCX,OAAS,EACvF,cAAC/C,EAAD,CAAaC,MAAM,WAAWC,KAAK,YAAYC,EAAE,YAAYC,aAAc4C,EAAc1C,gBAAiB2C,IACxG,GAGAhC,EAAKe,QAAQsB,WAAWC,QAAO,SAACC,GAAD,MAAQ,CAAC,wBAAyB,wBAAwBC,QAAQD,EAAGE,QAAU,KAAGX,OAAS,EAC5H,oBAAIxC,UAAU,iBAAd,yBAEQ,GACNU,EAAKe,QAAQsB,WAAWC,QAAO,SAACC,GAAD,MAAqB,0BAAbA,EAAGE,SAAmCX,OAAS,EACxF,cAAC/C,EAAD,CAAaC,MAAM,oBAAoBC,KAAK,QAAQC,EAAE,aAAaC,aAAc4C,EAAc1C,gBAAiB2C,IAC9G,GACAhC,EAAKe,QAAQsB,WAAWC,QAAO,SAACC,GAAD,MAAqB,yBAAbA,EAAGE,SAAkCX,OAAS,EACvF,cAAC/C,EAAD,CAAaC,MAAM,UAAUC,KAAK,cAAcC,EAAE,WAAWC,aAAc4C,EAAc1C,gBAAiB2C,IACxG,GAEAhC,EAAKe,QAAQsB,WAAWC,QAAO,SAACC,GAAD,MAAQ,CAAC,0BAA2B,wBAAyB,4BAA4BC,QAAQD,EAAGE,QAAU,KAAGX,OAAS,EAC3J,oBAAIxC,UAAU,iBAAd,8BAEQ,GAENU,EAAKe,QAAQsB,WAAWC,QAAO,SAACC,GAAD,MAAqB,4BAAbA,EAAGE,SAAqCX,OAAS,EAC1F,cAAC/C,EAAD,CAAaC,MAAM,aAAaC,KAAK,cAAcC,EAAE,cAAcC,aAAc4C,EAAc1C,gBAAiB2C,IAC9G,GACAhC,EAAKe,QAAQsB,WAAWC,QAAO,SAACC,GAAD,MAAqB,0BAAbA,EAAGE,SAAmCX,OAAS,EACxF,cAAC/C,EAAD,CAAaC,MAAM,WAAWC,KAAK,cAAcC,EAAE,YAAYC,aAAc4C,EAAc1C,gBAAiB2C,IAC1G,GACAhC,EAAKe,QAAQsB,WAAWC,QAAO,SAACC,GAAD,MAAqB,6BAAbA,EAAGE,SAAsCX,OAAS,EAC3F,cAAC/C,EAAD,CAAaC,MAAM,cAAcC,KAAK,cAAcC,EAAE,eAAeC,aAAc4C,EAAc1C,gBAAiB2C,IAChH,GAEF,oBAAI1C,UAAU,iBAAd,qBAIA,cAACP,EAAD,CAAaC,MAAM,cAAcI,OAAO,WAAWH,KAAK,OAAOC,EAAE,WAAWC,aAAc4C,EAAc1C,gBAAiB2C,IACzH,cAACjD,EAAD,CAAaC,MAAM,eAAeC,KAAK,UAAUC,EAAE,SAASC,aAAc4C,EAAc1C,gBAAiB2C,YAS3G,cAAC,IAAMU,SAAP,I,+ECvGGC,EAAgBC,cAAH,+HAQJ,SAASC,EAAO/D,GAE3B,MAAuDgE,0BACzDH,GADgBI,EAAd,EAAQC,KAIAhD,GAJR,EAA+BS,MAIdc,IAATvB,MAEFoB,EAAWK,IAQjB,EAA0C5B,IAAM8B,SAAS,IAAzD,mBAAOsB,EAAP,KAAsBC,EAAtB,KAEMC,EAAkB,uCAAG,4CAAAC,EAAA,sEAEjB,0DAFiB,SAGVC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,4DAFiB,OAGtBC,EAHsB,OASXnB,EAAa,GATF,cAUArC,EAAKe,QAAQsB,YAVb,IAUf,IAAI,EAAJ,qBAAUoB,EAA6B,QACnCpB,EAAWqB,KAAKD,EAAEhB,OAXP,8BAcXkB,EAAS,GAdE,cAeAH,EAAIR,KAAKC,eAfT,IAef,IAAI,EAAJ,qBAAUW,EAA4B,QAC/BvB,EAAWG,QAAQoB,EAAEC,UAAUpB,QAAU,GACxCkB,EAAOD,KAAKE,GAjBL,8BAoB3BV,EAAiBS,GApBU,kDAwB3BnD,QAAQsD,IAAR,MAxB2B,0DAAH,qDA2DxB,OA/BAjE,IAAMkE,WAAU,WAEZ,GAAGhB,EAAgB,CAEnB,IAFmB,EAEfV,EAAa,GAFE,cAGJrC,EAAKe,QAAQsB,YAHT,IAGnB,IAAI,EAAJ,qBAAuC,CAAC,IAA9BoB,EAA6B,QACnCpB,EAAWqB,KAAKD,EAAEhB,QAJH,8BAOf,IAPe,EAOXkB,EAAS,GAPE,cAQAZ,EAAgBE,eARhB,IAQf,IAAI,EAAJ,qBAA6C,CAAC,IAApCW,EAAmC,QACtCvB,EAAWG,QAAQoB,EAAEC,UAAUpB,QAAU,GACxCkB,EAAOD,KAAKE,IAVL,8BAcfD,EAAO9B,MAAM,EAAE8B,EAAO7B,OAAOmB,EAAcnB,QAAQkC,SAAQ,SAACC,GACxDC,IAAMC,QAAQF,EAAMG,QAAS,CACzBC,SAAU,YACVC,UAAW,IACXC,WAAW,OAGnBrB,EAAiBH,EAAgBE,kBAEvC,CAACF,IAEHlD,IAAMkE,WAAU,WACZZ,MACF,IAECnD,EAEC,qCACA,cAAC,IAAD,IACA,sBAAKV,UAAU,8CAAf,UACI,mBAAGA,UAAU,wBAAb,SACI,mBAAGA,UAAU,kCAIjB,qBAAKA,UAAU,2BAAf,SACI,qBAAIA,UAAU,0BAAd,UACI,qBAAIA,UAAU,oBAAd,UACI,mBAAGA,UAAU,2BAA2BsC,KAAK,IAAIK,GAAG,iBAAiBuC,cAAY,WAAjF,SACI,sBAAKlF,UAAU,oBAAf,UACI,cAAC,IAAD,CAAaL,KAAK,SAClB,sBAAMK,UAAU,YAAhB,SAA6B2D,EAAcnB,cAGnD,sBAAKxC,UAAU,yDAAyDmF,kBAAgB,iBAAxF,UACI,sBAAKnF,UAAU,uBAAf,UACK2D,EAAcnB,OADnB,oBAGA,qBAAKxC,UAAU,aAAf,SAEQ2D,EAAcyB,KAAI,SAACC,EAAcC,GAAf,OACd,mBAAehD,KAAK,IAAItC,UAAU,kBAAlC,SACA,qBAAKA,UAAU,6BAAf,SACI,sBAAKA,UAAU,SAAf,UACI,qBAAKA,UAAU,wBAAf,SAAwCqF,EAAaP,UACrD,qBAAK9E,UAAU,wBAAf,SAAwC,IAAIe,KAAKsE,EAAaE,WAAWC,yBAJzEF,QAapB,qBAAKtF,UAAU,uBAAf,SACI,mBAAGsC,KAAK,IAAItC,UAAU,aAAtB,4CAKZ,qBAAIA,UAAU,oBAAd,UAEI,mBAAGA,UAAU,oDAAoDsC,KAAK,IAAI4C,cAAY,WAAtF,SACI,cAAC,IAAD,CAAalF,UAAU,eAAeL,KAAK,eAG/C,oBAAGK,UAAU,oDAAoDsC,KAAK,IAAI4C,cAAY,WAAtF,UACc,GACV,qBAAKtC,IAAI,yBAAyB5C,UAAU,gCAAgC6C,IAAI,SAFpF,IAE8F,sBAAM7C,UAAU,YAAhB,SAA8BU,EAAKe,QAAQgE,IAAI,IAAI/E,EAAKe,QAAQiE,YAG9J,sBAAK1F,UAAU,oCAAf,UACI,oBAAGA,UAAU,gBAAgBsC,KAAK,WAAlC,UAA6C,cAAC,IAAD,CAAatC,UAAU,oBAAoBL,KAAK,SAA7F,cAEA,qBAAKK,UAAU,qBACf,oBAAGA,UAAU,gBAAgBsC,KAAK,YAAlC,UAA8C,cAAC,IAAD,CAAatC,UAAU,oBAAoBL,KAAK,aAA9F,yBAEA,qBAAKK,UAAU,qBACf,uBAAMA,UAAU,gBAAgB8C,MAAO,CAAE,OAAU,WAAa7C,QAlIzE,WACX6B,EAAS,CAAEP,KAAK,WAChBpB,OAAOC,SAASkC,KAAO,UAgIH,UAAiF,cAAC,IAAD,CAAatC,UAAU,oBAAoBL,KAAK,YAAjI,+BAShB,cAAC,IAAMyD,SAAP,ICpKG,SAASuC,IACpB,OACI,wBAAQ3F,UAAU,SAAlB,SACL,qBAAKA,UAAU,YAAf,SACC,qBAAKA,UAAU,iBAAf,SACC,qBAAKA,UAAU,cAAf,SACC,oBAAGA,UAAU,OAAb,mBAC8B,IAAIe,MAAO6E,cADzC,YAEC,mBAAGtD,KAAK,uDAAuDuD,OAAO,SAAS7F,UAAU,aAAzF,SAAsG,uDAFvG,IAIsB,mBAAGsC,KAAK,qEAAqEuD,OAAO,SAAS7F,UAAU,aAAvG,SAAoH,kE,2BCP1I8F,EAAqBC,cACZ,SAASC,EAAT,GAAyB,IAATtF,EAAQ,EAARA,KAC/B,EAAyCH,IAAM8B,SAAS,IAAxD,mBAAO4D,EAAP,KAAsBC,EAAtB,KACA,EAA0B3F,IAAM8B,SAAS,IAAzC,mBAAO8D,EAAP,KAAcC,EAAd,KACA,EAAwD7F,IAAM8B,SAAS,IAAvE,mBAAOgE,EAAP,KAA6BC,EAA7B,KACA,EAAkC/F,IAAM8B,SAAS,IAAjD,mBAAOkE,EAAP,KAAkBC,EAAlB,KACA,EAAsCjG,IAAM8B,SAAS,IAArD,mBAAOoE,EAAP,KAAoBC,EAApB,KACA,EAA6BnG,IAAM8B,UAAS,GAA5C,mBAAOsE,EAAP,KAAgBC,EAAhB,KACA,EAAwCrG,IAAM8B,SAAS,IAAvD,mBAAOwE,EAAP,KAAqBC,EAArB,KAEOC,EAAU,uCAAG,sCAAAjD,EAAA,sEAEN,kDAFM,SAGCC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,oDAFM,OAWjB,GARMC,EAHW,OASjBoC,EAAwBpC,EAAIR,KAAKyC,OAEd,MAAfjC,EAAI8C,OAAgB,CAEnBC,EAAgB,GAFG,cAGL/C,EAAIR,KAAKyC,OAHJ,IAGvB,IAAI,EAAJ,qBAAUe,EAAuB,QAC5BC,EAAM,CAAEnF,MAAOkF,EAAKvE,GAAIyE,MAAOF,EAAK/D,OACxC8D,EAAc7C,KAAK+C,GALG,8BAOvBf,EAASa,GAIV/F,QAAQsD,IAAI,uBAAuB6B,GAtBlB,kDAwBhBnF,QAAQsD,IAAR,MAxBgB,0DAAH,qDA2BhB,SAAS6C,EAAWrF,EAAMW,EAAGuE,GAC5B,IAAI,IAAI/C,EAAG,EAAIA,EAAGzD,EAAKyF,MAAM3D,OAAQ2B,IACpC,GAAGzD,EAAKyF,MAAMhC,GAAGmD,gBAAkBtF,EAAM,CACzC,IAAMuF,EAAelB,EAAqBrD,QAAO,SAACC,GAAQ,OAAOA,EAAGE,QAAU+D,KAC9EhG,QAAQsD,IAAI+C,GACZ,IAAI,IAAIpD,EAAE,EAAGA,EAAEoC,EAAU/D,OAAQ2B,IAC7BoC,EAAUpC,GAAGqD,UAAYD,EAAa,GAAG5E,KAC3C4D,EAAUpC,GAAGsD,iBAAmB9E,GAGlC,OAAO,EAEP,OAAO,EAGTpC,IAAMkE,WAAU,WACfsC,MACC,IAEA,IAAMW,EAAe,SAACxH,GACvBsG,EAAamB,MAAMC,QAAQ1H,GAAKA,EAAEkF,KAAI,SAAAyC,GAAO,MAAO,CAACL,QAASK,EAAE7F,MAAOyF,iBAAkB,SAAU,IACnGvB,EAAkByB,MAAMC,QAAQ1H,GAAKA,EAAEkF,KAAI,SAAAyC,GAAO,MAAO,CAACT,MAAOS,EAAET,MAAOpF,MAAO6F,EAAE7F,UAAW,KAGzF8F,EAAqB,SAAC3B,GAC3BK,EAAaL,EAAMf,KAAI,SAAAyC,GAAO,MAAO,CAACL,QAASK,EAAE7F,MAAOyF,iBAAkB,UAC1EvB,EAAkBC,EAAMf,KAAI,SAAAyC,GAAO,MAAO,CAACT,MAAOS,EAAET,MAAOpF,MAAO6F,EAAE7F,YAG/D+F,EAAkB,SAAC7H,EAAEoF,GAC1BiB,EAAUjB,GAAOmC,iBAAmBvH,EAAE2F,OAAO7D,OAGxCgG,EAAO,uCAAG,sBAAAlE,EAAA,6DACf5C,QAAQsD,IAAI,CAACiC,cAAaF,cADX,SAGH,yDAHG,SAIIxC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,OACRC,IAJQ,yDAKVP,KAAM,CAAC+C,cAAaF,eARP,cAWdpG,OAAOC,SAASC,QAAQ,iBAXV,gDAcda,QAAQsD,IAAI,KAAIyD,SAASvE,KAAKoB,SAdhB,yDAAH,qDAkBPoD,EAAU,uCAAG,4BAAApE,EAAA,6DAClB5C,QAAQsD,IAAI,CAACiC,cAAaF,cADR,SAGXtC,EAHW,gEAGmDvD,EAAKiC,IAHxD,SAICoB,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,MACFP,KAAM,CAAC+C,cAAaF,eARJ,cAWjBpG,OAAOC,SAASC,QAAQ,iBAXP,gDAcjBa,QAAQsD,IAAI,KAAIyD,SAASvE,KAAKoB,SAdb,yDAAH,qDAkBVqD,EAAS,uCAAG,wCAAArE,EAAA,sDACXsE,EAAW,GADA,cAECjC,GAFD,IAEjB,IAAI,EAAJ,qBAAwB,CAAde,EAAc,sBACDxG,EAAKyF,OADJ,IACvB,IAAI,EAAJ,qBAAUkC,EAAuB,QAC7BnB,EAAKE,QAAUiB,EAASlF,OAC1BiF,EAAShE,KAAK8C,GAHO,gCAFP,8BAUjBJ,EAAgBsB,GAChBN,EAAmBM,GAXF,2CAAH,qDAeZ,OACI,gCACL,sBAAKpI,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,mBACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,OAAOvB,UAAU,eAAesI,SAAU,SAACpI,GAAD,OAAOwG,EAAe,2BAAKD,GAAN,IAAmB8B,IAAKrI,EAAE2F,OAAO7D,UAAUwG,YAAa9H,EAAOA,EAAK6H,IAAM,aAGvJ,sBAAKvI,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,mBACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,OAAOvB,UAAU,eAAesI,SAAU,SAACpI,GAAD,OAAOwG,EAAe,2BAAKD,GAAN,IAAmBhB,IAAKvF,EAAE2F,OAAO7D,UAAUwG,YAAa9H,EAAOA,EAAK+E,IAAM,aAGvJ,sBAAKzF,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,yBACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,OAAOvB,UAAU,eAAesI,SAAU,SAACpI,GAAD,OAAOwG,EAAe,2BAAKD,GAAN,IAAmBf,OAAQxF,EAAE2F,OAAO7D,UAAUwG,YAAa9H,EAAOA,EAAKgF,OAAS,mBAG7J,sBAAK1F,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,qBACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,QAAQvB,UAAU,eAAesI,SAAU,SAACpI,GAAD,OAAOwG,EAAe,2BAAKD,GAAN,IAAmBgC,MAAOvI,EAAE2F,OAAO7D,UAAUwG,YAAa9H,EAAOA,EAAK+H,MAAQ,eAGnJ,sBAAKzI,UAAU,WAAf,UACI,uBAAOA,UAAU,uCAAjB,wBACA,qBAAKA,UAAU,WAAf,SACI,uBAAOuB,KAAK,WAAWvB,UAAU,eAAewI,YAAY,WAAWF,SAAU,SAACpI,GAAD,OAAOwG,EAAe,2BAAKD,GAAN,IAAmBiC,SAAUxI,EAAE2F,OAAO7D,iBAI7J,sBAAKhC,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,yBACA,qBAAKA,UAAU,WAAf,SACI,uBAAOuB,KAAK,MAAMvB,UAAU,eAAesI,SAAU,SAACpI,GAAD,OAAOwG,EAAe,2BAAKD,GAAN,IAAmBkC,UAAWzI,EAAE2F,OAAO7D,UAAUwG,YAAa9H,EAAOA,EAAKiI,UAAY,mBAGjL,uBACEjI,EACF,gCACA,qBAAKV,UAAU,WAAf,SACC,qBAAKA,UAAU,WAAf,SACgB,wBAAQA,UAAU,iBAAiBC,QAAS,WAAQ2G,GAAYD,GAAUwB,KAA1E,SAA4FxB,EAAsC,SAA5B,mCAIrHA,EACF,gCACA,uBACA,sBAAK3G,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,qBACZ,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAU,QAAf,SACC,cAAC,IAAD,CACC4I,mBAAmB,EACnBC,aAAcnI,EAAOmG,EAAe,GACpCiC,WAAYhD,EACZiD,SAAO,EACPxK,QAAS4H,EACTmC,SAAUZ,WAMd,qBAAK1H,UAAU,WAAf,SAEC,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAU,QAAQ2C,GAAG,MAA1B,SACEsD,GAAkB,qBAAKnD,MAAO,CAAEkG,UAAW,GAAIC,WAAY,QAAzC,SAClB,8BACEhD,EAAeb,KAAI,SAAC8B,EAAK5B,GAAN,OAClB,sBAAiBtF,UAAU,WAA3B,oBACMkH,EAAKE,MADX,MAEC,qBAAKpH,UAAU,MAAf,SAECqG,EAAqBrD,QAAO,SAACC,GAC5B,OAAOA,EAAGE,QAAU+D,EAAKE,SACvB,GAAGE,cAAclC,KAAI,SAAC8D,EAAG/E,GAAJ,OACvB,iCAAc,uBAAOnE,UAAU,MAAMmJ,eAAgB9B,EAAU6B,EAAG/F,MAAM+F,EAAGvG,GAAGuE,EAAKE,OAAQ7F,KAAK,QAC/FtB,QAAS,SAACC,GAAD,OAAO6H,EAAgB7H,EAAEoF,IAAQ8D,KAAMlC,EAAKE,MAAOpF,MAAOkH,EAAGvG,KADvE,IACgFuG,EAAG/F,QADxEgB,UAPJmB,gBAzBjB,OA4CiB,MAEjB,gCACA,sBAAKtF,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,mBACZ,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAU,QAAf,SACC,cAAC,IAAD,CACC4I,mBAAmB,EACnBC,aAAcnI,EAAOmG,EAAe,GACpCiC,WAAYhD,EACZiD,SAAO,EACPxK,QAAS4H,EACTmC,SAAUZ,WAMd,qBAAK1H,UAAU,WAAf,SAEC,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAU,QAAQ2C,GAAG,MAA1B,SACEsD,GAAkB,qBAAKnD,MAAO,CAAEkG,UAAW,GAAIC,WAAY,QAAzC,SAClB,8BACEhD,EAAeb,KAAI,SAAC8B,EAAK5B,GAAN,OAClB,sBAAiBtF,UAAU,WAA3B,oBACMkH,EAAKE,MADX,MAEC,qBAAKpH,UAAU,MAAf,SAECqG,EAAqBrD,QAAO,SAACC,GAC5B,OAAOA,EAAGE,QAAU+D,EAAKE,SACvB,GAAGE,cAAclC,KAAI,SAAC8D,EAAG/E,GAAJ,OACvB,iCAAc,uBAAOnE,UAAU,MAAMuB,KAAK,QAAQtB,QAAS,SAACC,GAAD,OAAO6H,EAAgB7H,EAAEoF,IACpF8D,KAAMlC,EAAKE,MAAQpF,MAAOkH,EAAGvG,KAD7B,IACsCuG,EAAG/F,QAD9BgB,UAPJmB,gBAxBjB,OA4CA,qBAAKtF,UAAU,WAAf,SACC,qBAAKA,UAAU,WAAf,SACC,sBAAMC,QAAS,WAAYS,EAAOwH,IAAsBF,KAAehI,UAAU,kBAAjF,2B,eClQCqJ,EAAe/F,cAAH,qJAWH,SAASgG,IACvB,MAAwB/I,IAAM8B,SAAS,IAAvC,mBAAOkH,EAAP,KAAaC,EAAb,KAEA,EAAgCjJ,IAAM8B,SAAS,IAA/C,mBAAOoH,EAAP,KAAiBC,EAAjB,KAEA,EAAoDlG,0BACnD6F,GADaM,EAAd,EAAQjG,KAAR,EAA4BvC,MAQ5BZ,IAAMkE,WAAU,WACfmF,MACC,IAGFrJ,IAAMkE,WAAU,gBACK9D,IAAjBgJ,GACFH,EAASG,EAAaA,gBAEtB,CAACA,IAEH,IAAMC,EAAU,uCAAG,WAAO1J,GAAP,eAAA4D,EAAA,sEAEN,yDAFM,SAGCC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,2DAFM,OASE,OANbC,EAHW,QAST8C,SAEPwC,EAAStF,EAAIR,KAAKiG,cAChBzI,QAAQsD,IAAIN,IAZE,gDAiBhBhD,QAAQsD,IAAR,MACAtD,QAAQsD,IAAI,SAlBI,yDAAH,sDAwCVqF,EAAU,uCAAG,WAAOnJ,GAAP,eAAAoD,EAAA,0DAEVgG,QAAQ,6CAA6CpJ,EAAK+E,IAAI,IAAI/E,EAAKgF,OAAO,KAFpE,iCAKRzB,EALQ,gEAKsDvD,EAAKiC,IAL3D,SAMIoB,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eAC3D8F,OAAQ,SACRC,QATc,cAYd8F,MAAOrJ,EAAK+E,IAAI,IAAI/E,EAAKgF,OAAO,aAChCvF,OAAOC,SAASC,QAAQ,iBAbV,kDAgBda,QAAQsD,IAAR,MAhBc,gCAoBfuF,MAAMrJ,EAAK+E,IAAI,IAAI/E,EAAKgF,OAAO,gBApBhB,0DAAH,sDAwBb,OACI,sBAAM1F,UAAU,UAAhB,SACA,sBAAKA,UAAU,sBAAf,UAEI,qBAAKA,UAAU,mBAAf,SACI,qBAAKA,UAAU,6BAAf,SACZ,oBAAIA,UAAU,UAAd,2CAIQ,qBAAKA,UAAU,MAAf,SACN,qBAAKA,UAAU,mBAAf,SACC,sBAAKA,UAAU,OAAf,UACC,qBAAKA,UAAU,cAAf,SACC,oBAAIA,UAAU,aAAd,sCAED,eAACgK,EAAA,EAAD,CAAOC,YAAU,EAAjB,UACC,gCACC,+BACC,oBAAInH,MAAO,CAAC,MAAQ,OAApB,iBACA,oBAAIA,MAAO,CAAC,MAAQ,OAApB,mBACA,oBAAIA,MAAO,CAAC,MAAQ,OAApB,uBACA,oBAAIA,MAAO,CAAC,MAAQ,OAApB,kBACA,oBAAIA,MAAO,CAAC,MAAQ,OAApB,SAA4B,sBAAMoC,cAAY,QAAQgF,cAAY,uBAAuBpH,MAAO,CAAE,OAAU,WAAhF,SAA6F,cAAC,IAAD,CAAanD,KAAK,uBAG7I,gCAEC4J,EAAMnE,KAAI,SAACqB,EAAanB,GAAd,OACT,+BACC,6BAAMmB,EAAYhB,IAAI,IAAIgB,EAAYf,SACtC,6BAAMe,EAAYgC,QAClB,6BAAKhC,EAAYkC,YACjB,+BAAI,oBAAI3I,UAAU,OAAd,SAAsByG,EAAYN,MAAMf,KAAI,SAAC8B,EAAM5B,GAAP,OAE9C,oBAAIxC,MAAO,CAAEqH,cAAe,QAA5B,SAAmDjD,EAAKA,KAAK/D,OAAlBmC,QAF7C,OAKA,qBAAItF,UAAU,eAAd,UACE,sBAAM8C,MAAO,CAAE,OAAU,WAAaoC,cAAY,QAAQgF,cAAY,YAAYjK,QAAS,SAACC,GAAD,OAAOwJ,EAAYjD,IAA9G,SAA4H,cAAC,IAAD,CAAa9G,KAAK,aAC9I,sBAAMmD,MAAO,CAAE,OAAU,WAAa7C,QAAS,kBAAM4J,EAAWpD,IAAhE,SAA8E,cAAC,IAAD,CAAa9G,KAAK,iBAX1F2F,WAmBX,qBAAKtF,UAAU,aAAa2C,GAAG,sBAAsByH,SAAS,KAAKlD,KAAK,SAASmD,cAAY,OAA7F,SACC,qBAAKrK,UAAU,eAAekH,KAAK,WAAnC,SACC,qBAAKlH,UAAU,gBAAf,SACC,qBAAKA,UAAU,eAAf,SACC,qBAAKA,UAAU,mBAAf,SACC,sBAAKA,UAAU,OAAf,UACC,sBAAKA,UAAU,eAAf,UACC,oBAAIA,UAAU,cAAd,iCACA,wBAAQuB,KAAK,SAASvB,UAAU,YAAYsK,eAAa,QAAQC,aAAW,aAE7E,qBAAKvK,UAAU,YAAf,SACC,cAACgG,EAAD,mBASZ,qBAAKhG,UAAU,aAAa2C,GAAG,WAAWyH,SAAS,KAAKlD,KAAK,SAASmD,cAAY,OAAlF,SACgB,qBAAKrK,UAAU,eAAekH,KAAK,WAAnC,SAEI,qBAAKlH,UAAU,gBAAf,SACI,qBAAKA,UAAU,eAAf,SAEI,qBAAKA,UAAU,mBAAf,SAEhB,sBAAKA,UAAU,OAAf,UAEN,sBAAKA,UAAU,eAAf,UACG,oBAAIA,UAAU,cAAd,kCACA,wBAAQuB,KAAK,SAASvB,UAAU,YAAYsK,eAAa,QAAQC,aAAW,aAEzE,qBAAKvK,UAAU,YAAf,SACC,cAACgG,EAAD,CAAMtF,KAAM+I,+BC1Ld,SAASe,GAAT,GAA6B,IAATtD,EAAQ,EAARA,KAE5BpB,EAAqBC,cAE3B,EAA4CxF,IAAM8B,SAAS,IAA3D,mBAAOoI,EAAP,KAAuBC,EAAvB,KACA,EAA0BnK,IAAM8B,SAAS,IAAzC,mBAAOc,EAAP,KAAcwH,EAAd,KACA,EAAmCpK,IAAM8B,SAAS,IAAlD,mBAAOU,EAAP,KAAkB6H,EAAlB,KACA,EAA2CrK,IAAM8B,SAAS,IAA1D,mBACA,GADA,UAC6B9B,IAAM8B,UAAS,IAA5C,mBAAOsE,EAAP,KAAgBC,EAAhB,KACA,EAA0DrG,IAAM8B,SAAS,IAAzE,mBAAOwI,EAAP,KAA8BC,EAA9B,KACA,EAAkDvK,IAAM8B,SAAS,IAAjE,mBAAO0I,EAAP,KAA0BC,EAA1B,KAEMC,EAAO,uCAAG,8BAAAnH,EAAA,yDAEF,KAAVX,EAFY,yCAESjC,QAAQsD,IAAI,yBAFrB,UAGsB,IAAlC0G,EAAuB1I,OAHX,yCAGgCtB,QAAQsD,IAAI,iCAH5C,UAIkB,IAA9B2G,EAAmB3I,OAJP,yCAI4BtB,QAAQsD,IAAI,6BAJxC,cAKTd,EAAO,CAAEP,QAAOoD,UAAU,CAACkE,eAAgBS,EAAwBnI,WAAYoI,IALtE,SAOH,kDAPG,UAQIpH,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,OACRC,IAJQ,kDAKVP,SAZa,QAQRQ,EARQ,OAedhD,QAAQsD,IAAIN,GACZ/D,OAAOC,SAASC,QAAQ,UAhBV,kDAmBda,QAAQsD,IAAR,MAnBc,0DAAH,qDAuBP4G,EAAU,uCAAG,gCAAAtH,EAAA,6DAEZJ,EAAO,CAAEP,QAAOoD,UAAU,CAACkE,eAAgBS,EAAwBnI,WAAYoI,IAFnE,SAKXlH,EALW,yDAK6CiD,EAAKvE,IALlD,SAMCoB,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,MACFP,SAVgB,OAMXQ,EANW,OAajBhD,QAAQsD,IAAIN,GACZ/D,OAAOC,SAASC,QAAQ,UAdP,kDAiBjBa,QAAQsD,IAAR,MAjBiB,0DAAH,qDAsBV6G,EAAmB,uCAAG,sCAAAvH,EAAA,sEAEf,2DAFe,SAGRC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,6DAFe,OAW1B,GAAmB,OARbC,EAHoB,QAWlB8C,OAAgB,CACnBsE,EAAyB,GADN,cAEIpH,EAAIR,KAAK+G,gBAFb,IAEvB,IAAI,EAAJ,qBAAUc,EAAyC,QAC9CpE,EAAM,CAAEnF,MAAOuJ,EAAc5I,GAAIyE,MAAOmE,EAAcpI,OAC1DmI,EAAuBlH,KAAK+C,GAJN,8BAMvBuD,EAAkBY,GAjBO,gDAqBzBpK,QAAQsD,IAAR,MArByB,yDAAH,qDAyBnBgH,EAAe,uCAAG,sCAAA1H,EAAA,sEAEX,uDAFW,SAGJC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,yDAFW,OAWtB,GAAmB,OARbC,EAHgB,QAWd8C,OAAgB,CACnByE,EAAqB,GADF,cAEDvH,EAAIR,KAAKX,YAFR,IAEvB,IAAI,EAAJ,qBAAU2I,EAAgC,QACrCvE,EAAM,CAAEnF,MAAO0J,EAAS/I,GAAIyE,MAAOsE,EAASvI,OAChDsI,EAAmBrH,KAAK+C,GAJF,8BAMvByD,EAAca,GAjBO,gDAqBrBvK,QAAQsD,IAAR,MArBqB,yDAAH,qDAyBrBjE,IAAMkE,WAAU,WACf4G,IACAG,MACC,IAEF,MAA4DjL,IAAM8B,SAAS,IAA3E,mBAAO6I,EAAP,KAA+BS,EAA/B,KACA,EAAoDpL,IAAM8B,SAAS,IAAnE,mBAAO8I,EAAP,KAA2BS,EAA3B,KAEMC,EAA6B,SAAC3L,GACnCyL,EAA0BhE,MAAMC,QAAQ1H,GAAKA,EAAEkF,KAAI,SAAAyC,GAAC,OAAIA,EAAE7F,SAAS,KAG9D8J,EAAyB,SAAC5L,GAC/B0L,EAAsBjE,MAAMC,QAAQ1H,GAAKA,EAAEkF,KAAI,SAAAyC,GAAC,OAAIA,EAAE7F,SAAS,KAI1DmG,EAAS,uCAAG,sDAAArE,EAAA,sDACjB5C,QAAQsD,IAAI0C,GACR6E,EAAY,GAFC,cAGUtB,GAHV,IAGjB,IAAI,EAAJ,qBAA0C,CAAhCc,EAAgC,sBACVrE,EAAKuD,gBADK,IACzC,IAAI,EAAJ,qBAAUuB,EAAyC,QAC/CT,EAAcnE,QAAU4E,EAAkB7I,OAC5C4I,EAAU3H,KAAKmH,GAHwB,gCAHzB,8BAWbU,EAAY,GAXC,cAYGlJ,GAZH,IAYjB,IAAI,EAAJ,qBAA+B,CAArBmJ,EAAqB,sBACNhF,EAAKnE,YADC,IAC9B,IAAI,EAAJ,qBAAUoJ,EAA8B,QACpCD,EAAO9E,QAAU+E,EAAWhJ,OAC9B8I,EAAU7H,KAAK8H,GAHa,gCAZd,8BAoBjBpB,EAAyBiB,GACzBK,EAA4BL,GAE5Bf,EAAqBiB,GACrBI,GAAwBJ,GAxBP,4CAAH,qDA2BTG,EAA8B,SAAC3B,GACpCkB,EAA0BlB,EAAerF,KAAK,SAAAyC,GAAC,OAAIA,EAAE7F,WAGhDqK,GAA0B,SAACtJ,GAChC6I,EAAsB7I,EAAWqC,KAAK,SAAAyC,GAAC,OAAIA,EAAE7F,WAG3C,OACI,eAAC,IAAMoB,SAAP,WACL,sBAAKpD,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,mBACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,OAAOvB,UAAU,eAAesI,SAAU,SAACpI,GAAD,OAAOyK,EAASzK,EAAE2F,OAAO7D,QAAQwG,YAActB,EAAOA,EAAK/D,MAAQ,eAIzH+D,EAAO,GACT,gCACA,sBAAKlH,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,4BACZ,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAU,QAAf,SACC,cAAC,IAAD,CACC4I,mBAAmB,EACnBE,WAAYhD,EACZiD,SAAO,EACPxK,QAASkM,EACTnC,SAAUuD,WAMd,sBAAK7L,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,wBACZ,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAU,QAAf,SACC,cAAC,IAAD,CACC4I,mBAAmB,EACnBE,WAAYhD,EACZiD,SAAO,EACPxK,QAASwE,EACTuF,SAAUwD,cAOd,uBACE5E,EACF,gCACA,qBAAKlH,UAAU,WAAf,SACC,qBAAKA,UAAU,WAAf,SACgB,wBAAQA,UAAU,iBAAiBC,QAAS,WAAQ2G,GAAYD,GAAUwB,KAA1E,SAA4FxB,EAA4D,SAAlD,yDAIrHA,EACF,gCACA,uBACA,sBAAK3G,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,4BACZ,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAU,QAAf,SACC,cAAC,IAAD,CACC4I,mBAAmB,EACnBE,WAAYhD,EACZ+C,aAAcgC,EACd9B,SAAO,EACPxK,QAASkM,EACTnC,SAAUuD,WAMd,sBAAK7L,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,wBACZ,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAU,QAAf,SACC,cAAC,IAAD,CACC4I,mBAAmB,EACnBE,WAAYhD,EACZ+C,aAAckC,EACdhC,SAAO,EACPxK,QAASwE,EACTuF,SAAUwD,cAKJ,GAzCV,OAyCwB,GAExB,qBAAK9L,UAAU,WAAf,SACC,qBAAKA,UAAU,WAAf,SACC,sBAAMC,QAAS,WAAYiH,EAAOkE,IAAsBH,KAAcjL,UAAU,kBAAhF,2BCtPU,SAASsM,KAEvB,MAA0B/L,IAAM8B,SAAS,IAAzC,mBAAO8D,EAAP,KAAcC,EAAd,KACA,EAAgC7F,IAAM8B,SAAS,IAA/C,mBAAOkK,EAAP,KAAiBC,EAAjB,KAGMzF,EAAU,uCAAG,WAAO7G,GAAP,eAAA4D,EAAA,sEAEN,kDAFM,SAGCC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,oDAFM,OAGXC,EAHW,OASjBkC,EAASlC,EAAIR,KAAKyC,OAClBjF,QAAQsD,IAAIN,GAVK,gDAahBhD,QAAQsD,IAAR,MACAtD,QAAQsD,IAAI,SAdI,yDAAH,sDAkBViI,EAAU,uCAAG,WAAOvF,GAAP,iBAAApD,EAAA,0DAETgG,QAAQ,6CAA6C5C,EAAK/D,MAAM,MAFvD,iCAKVc,EALU,yDAK6CiD,EAAKvE,IALlD,SAMEoB,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,SACRC,QATa,OAMVC,EANU,OAYhBhD,QAAQsD,IAAIN,GACZ6F,MAAO7C,EAAK/D,MAAM,aAClBhD,OAAOC,SAASC,QAAQ,UAdR,kDAiBhBa,QAAQsD,IAAR,MAjBgB,gCAqBjBuF,MAAM7C,EAAK/D,MAAM,gBArBA,0DAAH,sDA+Bb,OALH5C,IAAMkE,WAAU,WACfsC,MACC,IAIK,sBAAM/G,UAAU,UAAhB,SACA,sBAAKA,UAAU,sBAAf,UAEI,qBAAKA,UAAU,mBAAf,SACI,qBAAKA,UAAU,6BAAf,SACZ,oBAAIA,UAAU,UAAd,mCAIQ,qBAAKA,UAAU,MAAf,SACN,qBAAKA,UAAU,mBAAf,SACC,sBAAKA,UAAU,OAAf,UACC,qBAAKA,UAAU,cAAf,SACC,oBAAIA,UAAU,aAAd,+BAED,eAACgK,EAAA,EAAD,CAAOC,YAAU,EAAjB,UACC,gCACC,+BACC,oBAAInH,MAAO,CAAC,MAAQ,OAApB,mBACA,oBAAIA,MAAO,CAAC,MAAQ,OAApB,+BACA,oBAAIA,MAAO,CAAC,MAAQ,OAApB,wBACA,oBAAIA,MAAO,CAAC,MAAQ,OAApB,SAA4B,sBAAMoC,cAAY,QAAQgF,cAAY,uBAAuBpH,MAAO,CAAE,OAAU,WAAhF,SAA6F,cAAC,IAAD,CAAanD,KAAK,yBAG7I,gCACEwG,EAAMf,KAAI,SAAC8B,EAAK5B,GAAN,OACX,+BACC,6BAAK4B,EAAK/D,QACV,6BACkC,uBAAOnD,UAAU,QAAjB,SAChC,gCACEkH,EAAKuD,eAAerF,KAAI,SAACmG,EAAcjG,GAAf,OACzB,6BACC,6BAAKiG,EAAcpI,SADXmC,YAQZ,6BACkC,uBAAOtF,UAAU,QAAjB,SAChC,gCACEkH,EAAKnE,WAAWqC,KAAI,SAAC8G,EAAO5G,GAAR,OACrB,6BACC,6BAAK4G,EAAO/I,SADJmC,YAQZ,qBAAItF,UAAU,eAAd,UACC,sBAAM8C,MAAO,CAAE,OAAU,WAAaoC,cAAY,QAAQgF,cAAY,YAAYjK,QAAS,kBAAMuM,EAAYtF,IAA7G,SAAoH,cAAC,IAAD,CAAavH,KAAK,aACtI,sBAAMmD,MAAO,CAAE,OAAU,WAAa7C,QAAS,kBAAMwM,EAAWvF,IAAhE,SAAuE,cAAC,IAAD,CAAavH,KAAK,iBA5BlF2F,WAmCH,qBAAKtF,UAAU,aAAa2C,GAAG,sBAAsByH,SAAS,KAAKlD,KAAK,SAASmD,cAAY,OAA7F,SACI,qBAAKrK,UAAU,eAAekH,KAAK,WAAnC,SAEI,qBAAKlH,UAAU,gBAAf,SACI,qBAAKA,UAAU,eAAf,SAEI,qBAAKA,UAAU,mBAAf,SAEhB,sBAAKA,UAAU,OAAf,UAEN,sBAAKA,UAAU,eAAf,UACG,oBAAIA,UAAU,cAAd,0BACA,wBAAQuB,KAAK,SAASvB,UAAU,YAAYsK,eAAa,QAAQC,aAAW,aAEzE,qBAAKvK,UAAU,YAAf,SACC,cAACwK,GAAD,mBAWb,qBAAKxK,UAAU,aAAa2C,GAAG,WAAWyH,SAAS,KAAKlD,KAAK,SAASmD,cAAY,OAAlF,SACgB,qBAAKrK,UAAU,eAAekH,KAAK,WAAnC,SAEI,qBAAKlH,UAAU,gBAAf,SACI,qBAAKA,UAAU,eAAf,SAEI,qBAAKA,UAAU,mBAAf,SAEhB,sBAAKA,UAAU,OAAf,UAEN,sBAAKA,UAAU,eAAf,UACG,oBAAIA,UAAU,cAAd,2BACA,sBAAMuB,KAAK,SAASvB,UAAU,YAAYsK,eAAa,QAAQC,aAAW,aAEvE,qBAAKvK,UAAU,YAAf,SACC,cAACwK,GAAD,CAAUtD,KAAMqF,+BChKlB,SAASG,GAAT,GAA8B,IAATxF,EAAQ,EAARA,KAE7BpB,EAAqBC,cAE3B,EAA4CxF,IAAM8B,SAAS,IAA3D,mBAAOsK,EAAP,KAAuBC,EAAvB,KACA,EAA0DrM,IAAM8B,SAAS,IAAzE,mBAAOwK,EAAP,KAA8BC,EAA9B,KACA,EAA4DvM,IAAM8B,SAAS,IAA3E,mBAAO0K,EAAP,KAA+BC,EAA/B,KACA,EAA8BzM,IAAM8B,UAAS,GAA7C,mBAAOsE,EAAP,KAAgBC,EAAhB,KAEMqG,EAAmB,uCAAG,sCAAAnJ,EAAA,sEAEf,2DAFe,SAGRC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,6DAFe,OAW1B,GAAmB,OARbC,EAHoB,QAWlB8C,OAAgB,CACnBkG,EAAwB,GADL,cAEIhJ,EAAIR,KAAKiJ,gBAFb,IAEvB,IAAI,EAAJ,qBAAUrF,EAAyC,QAC9CH,EAAM,CAAEnF,MAAOsF,EAAc3E,GAAIyE,MAAOE,EAAcnE,OAC1D+J,EAAsB9I,KAAK+C,GAJL,8BAMvByF,EAAkBM,GAjBO,gDAsBzBhM,QAAQsD,IAAR,MAtByB,yDAAH,qDA0BnB4G,EAAU,uCAAG,gCAAAtH,EAAA,6DACZJ,EAAO,CAAE6C,UAAU,CAACoG,eAAgBI,IADxB,SAGX9I,EAHW,yDAG6CiD,EAAKvE,IAHlD,SAICoB,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,MACFP,SARgB,OAIXQ,EAJW,OAWjBhD,QAAQsD,IAAIN,GACZ/D,OAAOC,SAASC,QAAQ,YAZP,kDAejBa,QAAQsD,IAAI,KAAIyD,UAfC,0DAAH,qDAuBVE,EAAS,uCAAG,wCAAArE,EAAA,sDAEXsE,EAAW,GAFA,cAGUuE,GAHV,IAGjB,IAAI,EAAJ,qBAA0C,CAAhCrF,EAAgC,sBACVJ,EAAKI,eADK,IACzC,IAAI,EAAJ,qBAAU6F,EAAwC,QAC9C7F,EAAcF,QAAU+F,EAAkBhK,OAC5CiF,EAAShE,KAAKkD,GAHyB,gCAHzB,8BAUjBwF,EAAyB1E,GACzBgF,EAA4BhF,GAXX,2CAAH,qDAcTgF,EAA8B,SAACT,GACpCK,EAA0BL,EAAevH,KAAK,SAAAyC,GAAC,OAAIA,EAAE7F,WAQnD,OALHzB,IAAMkE,WAAU,WACfwI,MAEC,IAGD,gCACC,qBAAKjN,UAAU,WAAf,SACC,qBAAKA,UAAU,WAAf,SACgB,wBAAQA,UAAU,iBAAiBC,QAAS,WAAQ2G,GAAYD,GAAUwB,KAA1E,SAA4FxB,EAA+C,SAArC,4CAGrHA,EACF,gCACA,sBAAK3G,UAAU,WAAf,UACC,uBAAOA,UAAU,uCAAjB,4BACA,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAU,QAAf,SACA,cAAC,IAAD,CACC4I,mBAAmB,EACnBE,WAAYhD,EACZ+C,aAAcgE,EACd9D,SAAO,EACPxK,QAASoO,EACTrE,SA9C8B,SAACpI,GACnC8M,EAA0BrF,MAAMC,QAAQ1H,GAAKA,EAAEkF,KAAI,SAAAyC,GAAC,OAAIA,EAAE7F,SAAS,cAmDlE,qBAAKhC,UAAU,WAAf,SACC,qBAAKA,UAAU,YAAf,SACC,wBAAQuB,KAAK,SAAStB,QAASmL,EAAYpL,UAAU,kBAArD,wBAnBF,OAqBgB,MC5GJ,SAASqN,KAEvB,MAA0B9M,IAAM8B,SAAS,IAAzC,mBAAO8D,EAAP,KAAcC,EAAd,KACA,EAAwB7F,IAAM8B,SAAS,IAAvC,mBAAO6E,EAAP,KAAaoG,EAAb,KAEA/M,IAAMkE,WAAU,WACfsC,MACC,IAEF,IAAMA,EAAU,uCAAG,WAAO7G,GAAP,eAAA4D,EAAA,sEAEN,kDAFM,SAGCC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,oDAFM,OAUE,OAPbC,EAHW,QAUT8C,SAEPZ,EAASlC,EAAIR,KAAKyC,OAChBjF,QAAQsD,IAAIN,IAbE,gDAiBhBhD,QAAQsD,IAAR,MACAtD,QAAQsD,IAAI,SAlBI,yDAAH,sDAwBb,OACI,sBAAMxE,UAAU,UAAhB,SACA,sBAAKA,UAAU,sBAAf,UAEI,qBAAKA,UAAU,mBAAf,SACI,qBAAKA,UAAU,6BAAf,SACZ,oBAAIA,UAAU,UAAd,qCAIQ,qBAAKA,UAAU,MAAf,SACN,qBAAKA,UAAU,mBAAf,SACC,sBAAKA,UAAU,OAAf,UACC,qBAAKA,UAAU,cAAf,SACC,oBAAIA,UAAU,aAAd,iCAED,eAACgK,EAAA,EAAD,CAAOC,YAAU,EAAjB,UACC,gCACC,+BACC,oBAAInH,MAAO,CAAC,MAAQ,OAApB,mBACA,oBAAIA,MAAO,CAAC,MAAQ,OAApB,4BACA,oBAAIA,MAAO,CAAC,MAAQ,cAGtB,gCACCqD,EAAMf,KAAI,SAAC8B,EAAK5B,GAAN,OACV,+BACC,6BAAK4B,EAAK/D,QACV,6BACkC,cAAC6G,EAAA,EAAD,CAAOC,YAAU,EAAjB,SAChC,gCACE/C,EAAKI,cAAclC,KAAI,SAACkC,EAAcnD,GAAf,OACxB,6BACC,6BAAamD,EAAcnE,OAAlBgB,IADDA,YAQZ,oBAAInE,UAAU,eAAd,SACC,sBAAM8C,MAAO,CAAE,OAAU,WAAa7C,QAAS,kBAAMqN,EAAQpG,IAAOhC,cAAY,QAAQgF,cAAY,YAApG,SAAgH,cAAC,IAAD,CAAavK,KAAK,iBAf3H2F,WAyBf,qBAAKtF,UAAU,aAAa2C,GAAG,WAAWyH,SAAS,KAAKlD,KAAK,SAASmD,cAAY,OAAlF,SACgB,qBAAKrK,UAAU,eAAekH,KAAK,WAAnC,SAEI,qBAAKlH,UAAU,gBAAf,SACI,qBAAKA,UAAU,eAAf,SAEI,qBAAKA,UAAU,mBAAf,SAEhB,sBAAKA,UAAU,OAAf,UAEN,sBAAKA,UAAU,eAAf,UACG,oBAAIA,UAAU,cAAd,2BACA,wBAAQuB,KAAK,SAASvB,UAAU,YAAYsK,eAAa,QAAQC,aAAW,aAEzE,qBAAKvK,UAAU,YAAf,SACC,cAAC0M,GAAD,CAAWxF,KAAMA,+BCrGnB,SAASqG,KAEpB,MAAoChN,IAAM8B,SAAS,IAAnD,mBAAOU,EAAP,KAAmB6H,EAAnB,KAEHrK,IAAMkE,WAAU,WACf+G,MACC,IAGF,IAAMA,EAAe,uCAAG,WAAOtL,GAAP,eAAA4D,EAAA,sEAEX,2DAFW,SAGJC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,6DAFW,OASH,OANbC,EAHgB,QASd8C,QACP4D,EAAc1G,EAAIR,KAAK+G,gBAVF,gDAarBvJ,QAAQsD,IAAI,QAAZ,MAbqB,yDAAH,sDAiBlB,OACI,sBAAMxE,UAAU,UAAhB,SACA,sBAAKA,UAAU,sBAAf,UAEI,qBAAKA,UAAU,mBAAf,SACI,qBAAKA,UAAU,6BAAf,SACZ,oBAAIA,UAAU,UAAd,oCAIQ,qBAAKA,UAAU,MAAf,SACP,qBAAKA,UAAU,mBAAf,SACC,sBAAKA,UAAU,OAAf,UACE,qBAAKA,UAAU,cAAf,SACC,oBAAIA,UAAU,aAAd,wCAEmB,wBAAOA,UAAU,QAAjB,UACnB,gCACC,6BACC,oBAAI8C,MAAO,CAAC,MAAQ,QAApB,uBAIF,gCAC4BC,EAAWqC,KAAI,SAACmG,EAAcjG,GAAf,OAC1C,6BACC,6BAAiBiG,EAAcpI,OAAtBmC,IADDA,uBCtDJ,SAASkI,GAAT,GAAgD,IAAlBlG,EAAiB,EAAjBA,cAEzC,EAA0B/G,IAAM8B,SAAS,IAAzC,mBAAOc,EAAP,KAAcwH,EAAd,KAEM8C,EAAgB,uCAAG,4BAAA3J,EAAA,sEAEf,2DAFe,SAGRC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,OACRC,IAJQ,2DAKVP,KAAM,CAAEP,WAPiB,OAGpBe,EAHoB,OAU1BhD,QAAQsD,IAAIN,GACZ/D,OAAOC,SAASC,QAAQ,mBAXE,gDAc1Ba,QAAQsD,IAAR,MAd0B,yDAAH,qDAkBnBkJ,EAAmB,uCAAG,8BAAA5J,EAAA,sEAEpBG,EAFoB,kEAE6CqD,EAAc3E,IAF3D,SAGRoB,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,MACFP,KAAM,CAAEP,WAPiB,OAGpBe,EAHoB,OAU1BhD,QAAQsD,IAAIN,GACZ/D,OAAOC,SAASC,QAAQ,mBAXE,gDAc1Ba,QAAQsD,IAAI,KAAIyD,UAdU,yDAAH,qDAqBtB,OACI,gCACI,sBAAKjI,UAAU,WAAf,UACI,uBAAOA,UAAU,uCAAjB,qBACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,OAAOvB,UAAU,eAAesI,SAAU,SAACpI,GAAD,OAAOyK,EAASzK,EAAE2F,OAAO7D,QAASwG,YAAalB,EAAgBA,EAAcnE,MAAQ,UAGpI,qBAAKnD,UAAU,WAAf,SACR,qBAAKA,UAAU,YAAf,SACC,wBAAQuB,KAAK,SAAStB,QAAS,WAAOqH,EAAgBoG,IAAwBD,KAAqBzN,UAAU,kBAA7G,2BChDU,SAAS2N,KAEpB,MAA4CpN,IAAM8B,SAAS,IAA3D,mBAAOsK,EAAP,KAAuBC,EAAvB,KACH,EAA0CrM,IAAM8B,SAAS,IAAzD,mBAAOiF,EAAP,KAAsBsG,EAAtB,KAEArN,IAAMkE,WAAU,WACfwI,MACC,IAEF,IAAMA,EAAmB,uCAAG,WAAO/M,GAAP,eAAA4D,EAAA,sEAEf,2DAFe,SAGRC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,6DAFe,OASP,OANbC,EAHoB,QASlB8C,SACP4F,EAAkB1I,EAAIR,KAAKiJ,gBACzBzL,QAAQsD,IAAIN,IAXW,gDAezBhD,QAAQsD,IAAR,MAfyB,yDAAH,sDAmBhBqJ,EAAmB,uCAAG,WAAOvG,GAAP,eAAAxD,EAAA,0DAEtBgG,QAAQ,sDAAsDxC,EAAcnE,MAAM,KAF5D,iCAKpBc,EALoB,kEAK4CqD,EAAc3E,IAL1D,SAMRoB,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eAC3D8F,OAAQ,SACRC,QAT0B,cAY1B8F,MAAOzC,EAAcnE,MAAM,aAC3BhD,OAAOC,SAASC,QAAQ,mBAbE,kDAgB1Ba,QAAQsD,IAAR,MAhB0B,gCAoB3BuF,MAAMzC,EAAcnE,MAAM,gBApBC,0DAAH,sDAwBzB,OACI,sBAAMnD,UAAU,UAAhB,SACA,sBAAKA,UAAU,sBAAf,UAEI,qBAAKA,UAAU,mBAAf,SACI,qBAAKA,UAAU,6BAAf,SACZ,oBAAIA,UAAU,UAAd,4CAIQ,qBAAKA,UAAU,MAAf,SACN,qBAAKA,UAAU,mBAAf,SACC,sBAAKA,UAAU,OAAf,UACC,qBAAKA,UAAU,cAAf,SACC,oBAAIA,UAAU,aAAd,iCAED,eAACgK,EAAA,EAAD,CAAOC,YAAU,EAAjB,UACC,gCACC,+BACC,oBAAInH,MAAO,CAAC,MAAQ,OAApB,mBAEA,oBAAIA,MAAO,CAAC,MAAQ,OAApB,SAA4B,sBAAMoC,cAAY,QAAQgF,cAAY,uBAAuBpH,MAAO,CAAE,OAAU,WAAhF,SAA6F,cAAC,IAAD,CAAanD,KAAK,yBAG7I,gCACCgN,EAAevH,KAAI,SAACkC,EAAchC,GAAf,OACnB,+BACC,6BAAKgC,EAAcnE,QAEnB,qBAAInD,UAAU,eAAd,UACC,sBAAM8C,MAAO,CAAE,OAAU,WAAa7C,QAAS,kBAAM2N,EAAiBtG,IAAgBpC,cAAY,QAAQgF,cAAY,YAAtH,SAAkI,cAAC,IAAD,CAAavK,KAAK,aACpJ,sBAAMmD,MAAO,CAAE,OAAU,WAAa7C,QAAS,kBAAM4N,EAAoBvG,IAAzE,SAAyF,cAAC,IAAD,CAAa3H,KAAK,0BAQnG,qBAAKK,UAAU,aAAa2C,GAAG,sBAAsByH,SAAS,KAAKlD,KAAK,SAASmD,cAAY,OAA7F,SACA,qBAAKrK,UAAU,eAAekH,KAAK,WAAnC,SAEI,qBAAKlH,UAAU,gBAAf,SACI,qBAAKA,UAAU,eAAf,SAEI,qBAAKA,UAAU,mBAAf,SAEhB,sBAAKA,UAAU,OAAf,UAEN,sBAAKA,UAAU,eAAf,UACG,oBAAIA,UAAU,cAAd,mCACA,wBAAQuB,KAAK,SAASvB,UAAU,YAAYsK,eAAa,QAAQC,aAAW,aAEzE,qBAAKvK,UAAU,YAAf,SACC,cAACwN,GAAD,mBAYb,qBAAKxN,UAAU,aAAa2C,GAAG,WAAWyH,SAAS,KAAKlD,KAAK,SAASmD,cAAY,OAAlF,SACgB,qBAAKrK,UAAU,eAAekH,KAAK,WAAnC,SAEI,qBAAKlH,UAAU,gBAAf,SACI,qBAAKA,UAAU,eAAf,SAEI,qBAAKA,UAAU,mBAAf,SAEhB,sBAAKA,UAAU,OAAf,UAEN,sBAAKA,UAAU,eAAf,UACG,oBAAIA,UAAU,cAAd,oCACA,wBAAQuB,KAAK,SAASvB,UAAU,YAAYsK,eAAa,QAAQC,aAAW,aAEzE,qBAAKvK,UAAU,YAAf,SACC,cAACwN,GAAD,CAAoBlG,cAAeA,+BCxIrC,SAASwG,KAEpB,IAAQpN,EAASuB,IAATvB,KAER,EAAkCH,IAAM8B,SAAS,IAAjD,mBAAO0L,EAAP,KAAkBC,EAAlB,KAEA,EAA0BzN,IAAM8B,SAAS,IAAzC,mBAAOoG,EAAP,KAAcwF,EAAd,KACA,EAAkC1N,IAAM8B,SAAS,IAAjD,mBAAOsG,EAAP,KAAkBuF,EAAlB,KACA,EAAgC3N,IAAM8B,SAAS,IAA/C,mBAAOqG,EAAP,KAAiByF,EAAjB,KACA,EAA8C5N,IAAM8B,SAAS,IAA7D,mBAAO+L,EAAP,KAAwBC,EAAxB,KACA,EAA8C9N,IAAM8B,SAAS,IAA7D,mBAAOiM,EAAP,KAAwBC,EAAxB,KAGMC,EAAe,uCAAG,WAAOtO,GAAP,iBAAA4D,EAAA,4DACC,KAAlBiK,EAAUtI,YAAmBsI,EAAUtI,IAClB,KAArBsI,EAAUrI,eAAsBqI,EAAUrI,OAE7CxE,QAAQsD,IAAIuJ,GAENU,EAAO,IAAIC,SAEbX,EAAUtI,KAAMgJ,EAAKE,OAAO,MAAOZ,EAAUtI,KAC7CsI,EAAUrI,QAAS+I,EAAKE,OAAO,MAAOZ,EAAUrI,aACF/E,IAA9CiO,SAASC,eAAe,SAASC,MAAM,IAAmBL,EAAKE,OAAO,QAASC,SAASC,eAAe,SAASC,MAAM,IAE1H5N,QAAQsD,IAAIiK,EAAKM,IAAI,UAZD,SAed,wEAfc,UAgBPhL,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,wEAKEP,KAAM+K,IApBM,QAgBnBvK,EAhBmB,OAsBhBhD,QAAQsD,IAAIN,GACF,MAAfA,EAAI8C,QACP9F,QAAQsD,IAAIN,GAxBY,kDA2BxBhD,QAAQsD,IAAI,QAAZ,MA3BwB,0DAAH,sDA+BfwK,EAAU,uCAAG,WAAO9O,GAAP,iBAAA4D,EAAA,6DACTJ,EAAO,GAEA,KAAV+E,IAAc/E,EAAK+E,MAAQA,GACb,KAAdE,IAAkBjF,EAAKiF,UAAYA,GAEtCzH,QAAQsD,IAAId,GANG,SAST,wEATS,SAUFK,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,wEAKEP,SAdO,OAUdQ,EAVc,OAgBXhD,QAAQsD,IAAIN,GACF,MAAfA,EAAI8C,QACP9F,QAAQsD,IAAIN,GAlBO,kDAqBnBhD,QAAQsD,IAAI,QAAZ,MArBmB,0DAAH,sDAyBVyK,EAAc,uCAAG,WAAO/O,GAAP,iBAAA4D,EAAA,yDAEI,KAApBwK,EAFgB,gBAGfpN,QAAQsD,IAAI,sCAHG,0BAIK,IAAZkE,GAAqC,IAAnB0F,EAJX,gBAKflN,QAAQsD,IAAI,oDALG,0BAMPkE,IAAa0F,EANN,iBAOflN,QAAQsD,IAAI,qDAPG,+BAUbd,EAAO,GAEU,KAApB4K,IAAwB5K,EAAK4K,gBAAkBA,GAClC,KAAb5F,IAAiBhF,EAAKgF,SAAWA,GAEpCxH,QAAQsD,IAAId,GAfO,UAkBb,2EAlBa,UAmBNK,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,2EAKEP,SAvBW,QAmBlBQ,EAnBkB,OAyBfhD,QAAQsD,IAAIN,GACF,MAAfA,EAAI8C,QACP9F,QAAQsD,IAAIN,GA3BW,mDA8BvBhD,QAAQsD,IAAI,QAAZ,MA9BuB,2DAAH,sDAmCpB,EAAoCjE,IAAM8B,SAAS,0BAAnD,mBAAO6M,EAAP,KAAoBC,EAApB,KAKA,OACI,sBAAMnP,UAAU,UAAhB,SACA,sBAAKA,UAAU,sBAAf,UAEI,oBAAIA,UAAU,UAAd,8BAEA,sBAAKA,UAAU,MAAf,UACI,qBAAKA,UAAU,oBAAf,SAEI,sBAAKA,UAAU,OAAf,UACI,qBAAKA,UAAU,cAAf,SACI,oBAAIA,UAAU,kBAAd,wBAGJ,sBAAKA,UAAU,8BAA8BkH,KAAK,UAAlD,UACI,mBAAGlH,UAAU,gDAAgDkF,cAAY,OAAO5C,KAAK,WAAW4E,KAAK,MAArG,0BAGA,mBAAGlH,UAAU,yCAAyCkF,cAAY,OAAO5C,KAAK,QAAQ4E,KAAK,MAA3F,8BAGA,mBAAGlH,UAAU,yCAAyCkF,cAAY,OAAO5C,KAAK,YAAY4E,KAAK,MAA/F,kCAOZ,qBAAKlH,UAAU,qBAAf,SACI,sBAAKA,UAAU,cAAf,UACI,qBAAKA,UAAU,4BAA4B2C,GAAG,UAAUuE,KAAK,WAA7D,SAEI,sBAAKlH,UAAU,OAAf,UACI,qBAAKA,UAAU,cAAf,SAEI,oBAAIA,UAAU,kBAAd,4BAEJ,qBAAKA,UAAU,YAAf,SACI,iCACI,sBAAKA,UAAU,MAAf,UACI,sBAAKA,UAAU,WAAf,UACA,sBAAKA,UAAU,gBAAf,UACI,uBAAOA,UAAU,aAAaoP,QAAQ,iBAAtC,iBACA,uBAAO7N,KAAK,OAAOvB,UAAU,eAAesI,SAAU,SAACpI,GAAD,OAAO8N,EAAa,2BAAID,GAAL,IAAgBtI,IAAKvF,EAAE2F,OAAO7D,UAASW,GAAG,iBAAiB6F,YAAa9H,EAAKe,QAAQgE,SAElK,sBAAKzF,UAAU,gBAAf,UACI,uBAAOA,UAAU,aAAaoP,QAAQ,gBAAtC,oBACA,uBAAO7N,KAAK,OAAOvB,UAAU,eAAesI,SAAU,SAACpI,GAAD,OAAO8N,EAAa,2BAAID,GAAL,IAAgBrI,OAAQxF,EAAE2F,OAAO7D,UAASW,GAAG,gBAAgB6F,YAAa9H,EAAKe,QAAQiE,eAGpK,qBAAK1F,UAAU,WAAf,SACI,sBAAKA,UAAU,cAAf,UACI,qBAAK4C,IAAKsM,EAAalP,UAAU,qCAAqCqP,MAAM,MAAMC,OAAO,MAAMzM,IAAI,UACnG,qBAAK7C,UAAU,OAAf,SACI,uBAAOuB,KAAK,OAAOoB,GAAG,QAAQ2F,SAzDlF,SAAsBiH,GACtBJ,EAAgBK,IAAIC,gBAAgBF,EAAM1J,OAAOiJ,MAAM,UA0DP,8HAKZ,sBAAM7O,QAASuO,EAAkBxO,UAAU,kBAA3C,mCAQhB,qBAAKA,UAAU,gBAAgB2C,GAAG,OAAOuE,KAAK,WAA9C,SACR,sBAAKlH,UAAU,OAAf,UACI,qBAAKA,UAAU,cAAf,SACI,oBAAIA,UAAU,kBAAd,gCAER,qBAAKA,UAAU,YAAf,SACA,iCACI,sBAAKA,UAAU,OAAf,UACI,uBAAOA,UAAU,aAAaoP,QAAQ,cAAtC,mBACA,uBAAO7N,KAAK,QAAQvB,UAAU,eAAesI,SAAU,SAACpI,GAAD,OAAO+N,EAAS/N,EAAE2F,OAAO7D,QAAQW,GAAG,cAAc6F,YAAa9H,EAAKe,QAAQgH,WAGvI,sBAAKzI,UAAU,MAAf,UACI,sBAAKA,UAAU,gBAAf,UACI,uBAAOA,UAAU,aAAaoP,QAAQ,YAAtC,uBACA,uBAAO7N,KAAK,QAAQvB,UAAU,eAAewI,YAAa9H,EAAKe,QAAQkH,UAAWL,SAAU,SAACpI,GAAD,OAAOgO,EAAahO,EAAE2F,OAAO7D,QAAQW,GAAG,iBAExI,sBAAK3C,UAAU,gBAAf,UACI,uBAAOA,UAAU,aAAaoP,QAAQ,aAAtC,kBACR,yBAAQzM,GAAG,aAAa3C,UAAU,eAAlC,UACI,wBAAQ0P,UAAQ,EAAhB,uBACA,kDAKJ,sBAAMzP,QAAS+O,EAAYhP,UAAU,kBAArC,mCAOI,qBAAKA,UAAU,gBAAgB2C,GAAG,WAAWuE,KAAK,WAAlD,SACI,qBAAKlH,UAAU,OAAf,SACI,sBAAKA,UAAU,YAAf,UACI,oBAAIA,UAAU,aAAd,2BAEA,iCACI,sBAAKA,UAAU,OAAf,UACI,uBAAOA,UAAU,aAAaoP,QAAQ,uBAAtC,iCACA,uBAAO7N,KAAK,WAAW+G,SAAW,SAACpI,GAAD,OAAOqO,EAAmBrO,EAAE2F,OAAO7D,QAAShC,UAAU,eAAe2C,GAAG,yBAC1G,gCAAO,mBAAGL,KAAK,IAAR,wCAEX,sBAAKtC,UAAU,OAAf,UACI,uBAAOA,UAAU,aAAaoP,QAAQ,mBAAtC,kCACA,uBAAO7N,KAAK,WAAW+G,SAAW,SAACpI,GAAD,OAAOiO,EAAYjO,EAAE2F,OAAO7D,QAAShC,UAAU,eAAe2C,GAAG,wBAEvG,sBAAK3C,UAAU,OAAf,UACI,uBAAOA,UAAU,aAAaoP,QAAQ,oBAAtC,oCACA,uBAAO7N,KAAK,WAAW+G,SAAW,SAACpI,GAAD,OAAOmO,EAAmBnO,EAAE2F,OAAO7D,QAAShC,UAAU,eAAe2C,GAAG,yBAE9G,sBAAM1C,QAAUgP,EAAiBjP,UAAU,kBAA3C,gDCrOzB,SAAS2P,KAEpB,IAAQjP,EAASuB,IAATvB,KAER,OACI,uBAAMV,UAAU,UAAhB,UACA,sBAAKA,UAAU,sBAAf,UAEI,oBAAIA,UAAU,UAAd,qBAEA,sBAAKA,UAAU,MAAf,UACI,qBAAKA,UAAU,oBAAf,SACI,sBAAKA,UAAU,YAAf,UACI,qBAAKA,UAAU,cAAf,SACI,oBAAIA,UAAU,kBAAd,4BAEJ,sBAAKA,UAAU,wBAAf,UACI,qBAAK4C,IAAI,yBAAyBC,IAAI,mBAAmB7C,UAAU,gCAAgCqP,MAAM,MAAMC,OAAO,QACtH,oBAAItP,UAAU,kBAAd,SAAiCU,EAAKe,QAAQgE,IAAI,IAAI/E,EAAKe,QAAQiE,SACnE,qBAAK1F,UAAU,kBAAf,SAAkCU,EAAKe,QAAQgH,QAE/C,8BACI,mBAAGzI,UAAU,yBAAyBsC,KAAK,YAA3C,uCAGR,oBAAItC,UAAU,SACd,sBAAKA,UAAU,YAAf,UACI,oBAAIA,UAAU,gBAAd,wBAEIU,EAAKe,QAAQ0E,MAAMf,KAAI,SAAC8B,EAAK5B,GAAN,OACnB,sBAAkBsK,IAAE,EAACtN,KAAK,IAAI4C,cAAY,QAAQgF,cAAY,YAAYlK,UAAU,8BAApF,SAAmHkH,EAAK/D,OAA7GmC,SAIvB,oBAAItF,UAAU,SACd,sBAAKA,UAAU,YAAf,UACI,oBAAIA,UAAU,gBAAd,gCACA,qBAAIA,UAAU,qBAAd,UACI,qBAAIA,UAAU,OAAd,UAAqB,cAAC,IAAD,CAAaL,KAAK,eAAvC,QAA2D,sBAAMmD,MAAO,CAAC+M,MAAO,WAArB,SAAkCnP,EAAKe,QAAQ8G,MAA1G,OAEA,qBAAIvI,UAAU,OAAd,UAAqB,cAAC,IAAD,CAAaL,KAAK,UAAvC,cAA4D,sBAAMmD,MAAO,CAAC+M,MAAO,WAArB,SAAkCnP,EAAKe,QAAQkH,YAA3G,kBAOhB,qBAAK3I,UAAU,oBAAf,SACI,sBAAKA,UAAU,OAAf,UACI,qBAAKA,UAAU,cAAf,SAEI,oBAAIA,UAAU,kBAAd,0BAEJ,sBAAKA,UAAU,kBAAf,UAEI,sBAAKA,UAAU,2BAAf,UACI,qBAAK4C,IAAI,yBAAyByM,MAAM,KAAKC,OAAO,KAAKtP,UAAU,sBAAsB6C,IAAI,mBAC7F,sBAAK7C,UAAU,cAAf,UACI,uBAAOA,UAAU,wBAAjB,oBADJ,kBAGI,uBAAOA,UAAU,aAAjB,2BAAmD,6BAM3D,uBACA,mBAAGsC,KAAK,IAAItC,UAAU,4BAAtB,qCAOpB,qBAAKA,UAAU,aAAa2C,GAAG,WAAWyH,SAAS,KAAKlD,KAAK,SAASmD,cAAY,OAAlF,SACI,qBAAKrK,UAAU,eAAekH,KAAK,WAAnC,SACI,qBAAKlH,UAAU,gBAAf,SACI,qBAAKA,UAAU,eAAf,SACI,qBAAKA,UAAU,mBAAf,SACjB,sBAAKA,UAAU,OAAf,UACC,sBAAKA,UAAU,eAAf,UACC,oBAAIA,UAAU,cAAd,0CACA,wBAAQuB,KAAK,SAASvB,UAAU,YAAYsK,eAAa,QAAQC,aAAW,aAE7E,qBAAKvK,UAAU,YAAf,SAC4B,uBAAOA,UAAU,QAAjB,SACI,kCACI,6BACI,uDAEJ,6BACI,gF,kCCvFjC,SAAS8P,KAEvBC,aAAY,CAAC,UAAU,SAACR,GACN,UAAdA,EAAMS,KACRC,EAAMV,MAIR,IAAQ7O,EAASuB,IAATvB,KACR,EAA8BH,IAAM8B,UAAS,GAA7C,mBAAO6N,EAAP,KAAgBC,EAAhB,KAMA,EAA0B5P,IAAM8B,SAAS,IAAzC,mBAAOoG,EAAP,KAAcwF,EAAd,KACA,EAAgC1N,IAAM8B,SAAS,IAA/C,mBAAOqG,EAAP,KAAiByF,EAAjB,KAEMrM,EAAWK,IAEX8N,EAAK,uCAAG,WAAO/P,GAAP,iBAAA4D,EAAA,6DACbqM,GAAW,GACXjQ,EAAEkQ,iBACI1M,EAAO,CAAE+E,QAAOC,YAHT,SAKD,8DALC,SAMM3E,IAAM,CACtBC,OAAQ,OACRC,IAHS,8DAITP,SATU,OAMNQ,EANM,OAYZU,IAAMC,QAAQ,UAAW,CACxBE,SAAU,YACVC,UAAW,IACXC,WAAW,IAGZnD,EAAS,CAAEP,KAAK,QAASE,QAASyC,EAAIR,KAAK1F,QAE3CmC,OAAOC,SAASC,QAAQ,KApBZ,kDAuBX8P,GAAW,GAEXvL,IAAMzD,MAAM,KAAI8G,SAASvE,KAAKoB,QAAS,CACtCC,SAAU,YACVC,UAAW,IACXC,WAAW,IA5BD,0DAAH,sDAkCX,OAAIvE,EAgEF,cAAC,IAAM0C,SAAP,IA9DK,uBAAMpD,UAAU,eAAhB,UACN,cAAC,IAAD,IACA,qBAAKA,UAAU,+BAAf,SACC,qBAAKA,UAAU,aAAf,SACC,qBAAKA,UAAU,oDAAf,SACC,sBAAKA,UAAU,4BAAf,UAEC,sBAAKA,UAAU,mBAAf,UACC,oBAAIA,UAAU,KAAd,uBACA,mBAAGA,UAAU,OAAb,yDAKD,qBAAKA,UAAU,OAAf,SACC,qBAAKA,UAAU,YAAf,SACC,sBAAKA,UAAU,SAAf,UACC,qBAAKA,UAAU,cAAf,SACC,qBAAK4C,IAAI,uBAAuBC,IAAI,OAAO7C,UAAU,aAAaqP,MAAM,MAAMC,OAAO,UAEtF,iCACC,sBAAKtP,UAAU,OAAf,UACC,uBAAOA,UAAU,aAAjB,mBACA,uBAAOA,UAAU,+BAA+BuB,KAAK,QAAQ+G,SAAU,SAACpI,GAAD,OAAO+N,EAAS/N,EAAE2F,OAAO7D,QAAQoH,KAAK,QAAQZ,YAAY,0BAElI,sBAAKxI,UAAU,OAAf,UACC,uBAAOA,UAAU,aAAjB,2BACA,uBAAOA,UAAU,+BAA+BuB,KAAK,WAAW+G,SAAU,SAACpI,GAAD,OAAOiO,EAAYjO,EAAE2F,OAAO7D,QAAQoH,KAAK,WAAWZ,YAAY,8BAC1I,gCACU,mBAAGlG,KAAK,IAAR,yCAIX,qBAAKtC,UAAU,mBAAf,SACE,cAACqQ,GAAA,EAAD,CAAQC,QAAQ,UAAUC,OAAK,EAACtQ,QAASgQ,EAAOO,SAAUN,EAA1D,SACAA,EACA,cAACO,GAAA,EAAD,CACAC,GAAG,OACHC,UAAU,SACVC,KAAK,KACL1J,KAAK,SACLmD,cAAY,SANL,oC,6CCxFbwG,GAASvN,cAAH,gIA2JGwN,GApJIvQ,IAAMwQ,YAAW,SAACvR,EAAOwR,GAExC,MAAkCzQ,IAAM8B,SAAS,IAAjD,mBAAO4O,EAAP,KAAkBC,EAAlB,KACA,EAA8B3Q,IAAM8B,UAAS,GAA7C,mBAAO6N,EAAP,KAAgBC,EAAhB,KACA,EAAgC5P,IAAM8B,SAAS,IAA/C,mBAGA,GAHA,UAG8CmB,0BAChDqN,KADgBM,EAAd,EAAQzN,KAAR,EAAsBvC,MAKtBZ,IAAMkE,WAAU,WACZ,GAAG0M,EAAO,CACN,IADM,EACFC,EAAa,GADX,cAESD,EAAOA,QAFhB,IAEV,IAAI,EAAJ,qBAAiC,CAAC,IAAxBE,EAAuB,QAC7BD,EAAWhN,KAAK,CACZmE,IAAK8I,EAAM5K,YAAY8B,IACvB9C,IAAK4L,EAAM5K,YAAYhB,IACvBC,OAAQ2L,EAAM5K,YAAYf,OAC1BpE,OAAQ+P,EAAM/P,OACdgQ,KAAM,IAAIvQ,KAAKsQ,EAAME,WAAW/L,oBAR9B,8BAYV0L,EAAa,CACXM,QAAS,CACP,CACEpK,MAAO,MACPqK,MAAO,OAET,CACErK,MAAO,MACPqK,MAAO,OAET,CACErK,MAAO,SACPqK,MAAO,UAET,CACErK,MAAO,SACPqK,MAAO,UAET,CACErK,MAAO,OACPqK,MAAO,OACPC,KAAM,SAGVC,KAAMP,OAGV,CAACD,IAEL,IAAMS,EAAW,uCAAG,oCAAA9N,EAAA,sEAET,mDAFS,SAGFC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eAC1D8F,OAAQ,MACRC,IAJU,qDAFS,OAGdC,EAHc,OASVkN,EAAa,GATH,cAUKlN,EAAIR,KAAKyN,QAVd,IAUd,IAAI,EAAJ,qBAAUE,EAAyB,QAC/BD,EAAWhN,KAAK,CACZmE,IAAK8I,EAAM5K,YAAc4K,EAAM5K,YAAY8B,IAAM,KACjD9C,IAAK4L,EAAM5K,YAAc4K,EAAM5K,YAAYhB,IAAM,KACjDC,OAAQ2L,EAAM5K,YAAc4K,EAAM5K,YAAYf,OAAS,KACvDpE,OAAQ+P,EAAM/P,OACdgQ,KAAM,IAAIvQ,KAAKsQ,EAAME,WAAW/L,mBAhB1B,8BAoBd0L,EAAa,CACXM,QAAS,CACP,CACEpK,MAAO,MACPqK,MAAO,OAET,CACErK,MAAO,MACPqK,MAAO,OAET,CACErK,MAAO,SACPqK,MAAO,UAET,CACErK,MAAO,SACPqK,MAAO,UAET,CACErK,MAAO,OACPqK,MAAO,OACPC,KAAM,SAGVC,KAAMP,IAGRjB,GAAW,GA/CG,kDAkDnBjP,QAAQsD,IAAR,MAlDmB,0DAAH,qDA0Df,OAJFjE,IAAMkE,WAAU,WACdmN,MACA,IAGE,qCACA,cAAC,IAAD,IACE,qBAAK5R,UAAU,MAAf,SAEIkQ,EACA,qBAAKlQ,UAAU,gCAAf,SACA,eAAC6R,GAAA,EAAD,CAAKC,GAAG,OAAR,UACA,cAACrB,GAAA,EAAD,CACLC,GAAG,OACHC,UAAU,SACVC,KAAK,KACEN,QAAQ,UACfpJ,KAAK,SACLmD,cAAY,SAPP,SASA,cAAC,KAAD,CACA2G,IAAKA,EACLlO,MAAO,CAAC,WAAa,MACrBmH,YAAU,EACV8H,OAAK,EACLC,eAAgB,CAAC,EAAG,GAAI,IACxBC,SAAO,EACPC,YAAa,EACbxO,KAAMuN,EACNkB,QAAM,EACNC,cAAY,EACZC,MAAO,CAAC,OAAQ,QAChBC,YAAU,YCvJhBzB,GAASvN,cAAH,gIAMG,SAASiP,KAEpB,MAAgChS,IAAM8B,SAAS,IAA/C,mBAAmBmQ,GAAnB,WAEHjS,IAAMkE,WAAU,WACfmN,MACC,IAEC,MAA8CpO,0BAChDqN,IADgBM,EAAd,EAAQzN,KAAR,EAAsBvC,MAItBZ,IAAMkE,WAAU,WACT0M,GACCqB,EAAUrB,EAAOA,UAEvB,CAACA,IAEN,IAAMS,EAAW,uCAAG,WAAO1R,GAAP,eAAA4D,EAAA,sEAEP,mDAFO,SAGAC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,qDAFO,OASC,OANbC,EAHY,QASV8C,SACPwL,EAAUtO,EAAIR,KAAKyN,QACjBjQ,QAAQsD,IAAIN,IAXG,gDAejBhD,QAAQsD,IAAR,MAfiB,yDAAH,sDAoBd,OACI,sBAAMxE,UAAU,UAAhB,SACA,sBAAKA,UAAU,sBAAf,UAEI,qBAAKA,UAAU,mBAAf,SACI,qBAAKA,UAAU,6BAAf,SACZ,oBAAIA,UAAU,UAAd,oCAIQ,qBAAKA,UAAU,MAAf,SACN,qBAAKA,UAAU,mBAAf,SACC,sBAAKA,UAAU,OAAf,UACC,qBAAKA,UAAU,cAAf,SACC,oBAAIA,UAAU,aAAd,gCAED,cAAC,GAAD,gB,yJC1DO,SAASyS,GAAT,GAAmC,IAAbC,EAAY,EAAZA,SAEjCxR,QAAQsD,IAAIkO,GACZ,MAAoCnS,IAAM8B,SAAS,IAAnD,mBAAOsQ,EAAP,KAAqBC,EAArB,KAEMC,EAAY,uCAAG,8BAAA/O,EAAA,6DACjB5C,QAAQsD,IAAI,CAAEkO,SAAUC,IADP,SAGhB1O,EAHgB,6DAG2CyO,EAAS/P,IAHpD,SAIJoB,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,MACUP,KAAK,CAAEgP,SAAUC,KARR,OAIhBzO,EAJgB,OAWbU,IAAMC,QAAQ,UAAW,CACrBE,SAAU,YACVC,UAAW,IACXC,WAAW,IAGvB/D,QAAQsD,IAAIN,EAAIR,MACJvD,OAAOC,SAASC,QAAQ,cAlBf,kDAsBrBa,QAAQsD,IAAR,MACYI,IAAMzD,MAAM,KAAI8G,SAASvE,KAAKoB,QAAS,CACnCC,SAAU,YACVC,UAAW,IACXC,WAAW,IA1BN,0DAAH,qDA+BlB,OACI,cAAC,IAAM7B,SAAP,UACA,eAAC0P,GAAA,EAAD,WACA,cAAC,IAAD,IAEY,eAACC,GAAA,EAAD,WACI,eAACA,GAAA,EAAKC,OAAN,WACA,sBAAKhT,UAAU,WAAf,UACI,uBAAOA,UAAU,uCAAjB,6BACA,qBAAKA,UAAU,WAAf,SACI,uBAAOuB,KAAK,OAAOvB,UAAU,eAAewI,YAAY,kBAAkBK,aAAc6J,EAASO,OACjG3K,SAAU,SAACpI,GAAD,OAAO0S,EAAY,2BAAID,GAAL,IAAmBM,OAAQ/S,EAAE2F,OAAO7D,iBAIxE,sBAAKhC,UAAU,WAAf,UACI,uBAAOA,UAAU,uCAAjB,0BACA,qBAAKA,UAAU,WAAf,SACI,uBAAOuB,KAAK,OAAOvB,UAAU,eAAewI,YAAY,eAAeK,aAAc6J,EAASQ,OAC9F5K,SAAU,SAACpI,GAAD,OAAO0S,EAAY,2BAAID,GAAL,IAAmBO,OAAQhT,EAAE2F,OAAO7D,iBAKxE,sBAAKhC,UAAU,WAAf,UACI,uBAAOA,UAAU,uCAAjB,8BACA,qBAAKA,UAAU,WAAf,SACI,uBAAOuB,KAAK,SAASvB,UAAU,eAAewI,YAAY,0BAA0BK,aAAc6J,EAASS,QAC3G7K,SAAU,SAACpI,GAAD,OAAO0S,EAAY,2BAAID,GAAL,IAAmBQ,QAA0B,EAAjBjT,EAAE2F,OAAO7D,oBAIzE,cAAC+Q,GAAA,EAAKK,KAAN,UACI,cAAC/C,GAAA,EAAD,CAAQC,QAAQ,UAAUrQ,QAAS4S,EAAnC,mC,kCC5DbQ,GAfO,SAAA7T,GACpB,IAAM4F,EAAMkO,eAYZ,OAVA7O,qBAAU,WACR,IAAM8O,EAAgB,IAAIC,KAAJ,aACpBC,SAAUjU,EAAMiU,UACbjU,IAIL,OADA4F,EAAIsO,WAAWH,GACR,kBAAMnO,EAAIuO,cAAcJ,MAC9B,CAAC/T,IAEG,MCLFoU,GAAaC,KAAbD,UAEQ,SAASE,GAAT,GAAkD,IAAnCC,EAAkC,EAAlCA,UAAW7D,EAAuB,EAAvBA,QAEjC8D,GAFwD,EAAd7D,WAEnC8D,oCAEb,EAAwB1T,IAAM8B,UAAS,GAAvC,mBAAO6R,EAAP,KAAaC,EAAb,KACA,EAAgC5T,IAAM8B,UAAS,GAA/C,mBAAO+R,EAAP,KAAiBC,EAAjB,KACA,EAAgC9T,IAAM8B,SAAS,IAA/C,mBAAOqQ,EAAP,KAAiBE,EAAjB,KAEM0B,EAAc,uCAAG,WAAO3R,GAAP,iBAAAmB,EAAA,6DACrB5C,QAAQsD,IAAI7B,GADS,SAGhBsB,EAHgB,6DAG2CtB,GAH3C,SAIJoB,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,SACRC,QAPmB,OAIhBC,EAJgB,OAUnBhD,QAAQsD,IAAIN,EAAIR,MAEA,MAAfQ,EAAI8C,QACP7G,OAAOC,SAASC,QAAQ,cAbH,kDAiBrBa,QAAQsD,IAAR,MAjBqB,0DAAH,sDAqBd+P,EAAe,SAACC,GACpB,IADgC,EAC5BC,EAAQ,GADoB,cAEZD,GAFY,IAEhC,IAAI,EAAJ,qBAA4B,CAAC,IAAnBE,EAAkB,QAC1BD,EAAMrQ,KAAK,CAACsQ,EAAOC,IAAKD,EAAOE,OAHD,8BAMhC,OAAOH,GAGT,OACE,eAAC3B,GAAA,EAAD,WAEI5C,EACA,qBAAKlQ,UAAU,gCAAf,SACA,eAAC6R,GAAA,EAAD,CAAKC,GAAG,OAAR,UACA,cAACrB,GAAA,EAAD,CACHC,GAAG,OACHC,UAAU,SACVC,KAAK,KACAN,QAAQ,UACbpJ,KAAK,SACLmD,cAAY,SAPT,SASF,eAACwK,GAAA,EAAD,CAAeC,OAAQ,CAAC,UAAW,UAAWC,KAAM,EAAGC,aAAa,EAApE,UACE,eAACnB,GAAA,EAAD,CAAe9O,SAAS,cAAxB,UACE,cAAC6O,GAAD,CAAWqB,SAAO,EAAC7L,KAAK,MAAxB,SACE,cAAC8L,GAAA,EAAD,CACAC,YAAY,yEACZlR,IAAI,yDAGN,cAAC2P,GAAD,CAAWxK,KAAK,YAAhB,SACE,cAAC8L,GAAA,EAAD,CACAC,YAAY,4EACZlR,IAAI,uGAIR,cAACmR,GAAA,EAAD,CAAarQ,SAAS,aAAasQ,WAAW,IAAIC,YAAY,MAE9D,cAAC,GAAD,CACE7B,SAAUO,EACVuB,YAAY,EACZC,WAAW,EACXC,YAAa,cAAG5W,MAAH,SAAkB6W,OAAoBtO,OACnDuO,WAAY,EACZC,iBAAiB,EACjBC,aAAa,EACb7Q,WAAW,EACX8Q,YAAa,wBACbC,YAAY,IAIdhC,EAAU3O,KAAI,SAACsN,EAAUpN,GAAX,OACR,cAAC0Q,GAAA,EAAD,CAAQjR,SAAU,CAAC2N,EAASoC,OAAOH,IAAIjC,EAASoC,OAAOF,KAAvD,SACE,eAACqB,GAAA,EAAD,mBACQvD,EAASO,OADjB,IACyB,uBACvB,cAACiD,GAAA,EAAD,CAAKlW,UAAU,4BAAf,SACE,eAAC6R,GAAA,EAAD,CAAKC,GAAG,OAAR,UACA,cAACzB,GAAA,EAAD,CAAQC,QAAQ,SAASrQ,QAAS,WAAQ2S,EAAYF,GAAWyB,GAAQ,IAAzE,SACI,cAAC,IAAD,CAAaxU,KAAK,YAGtB,cAAC0Q,GAAA,EAAD,CAAQC,QAAQ,UAAUrQ,QAAS,WAAQ2S,EAAYF,GAAW2B,GAAY,IAA9E,SACE,cAAC,IAAD,CAAa1U,KAAK,oBAVwC2F,MAoB1EyO,EAAU3O,KAAI,SAACsN,EAAUpN,GAAX,OACd,cAAC6Q,GAAA,EAAD,CAAqBC,YAAa,CAAEvG,MAAO,QAAUwG,UAAW9B,EAAa7B,EAAS4D,SAAtF,SACE,cAACC,GAAA,EAAD,CAASC,QAAM,EAAf,SAAiB9D,EAASO,UADd3N,SAOZ,eAACmR,GAAA,EAAD,CAAOvC,KAAMA,EAAMwC,OAAQ,kBAAMvC,GAAQ,IAAzC,UACE,cAACsC,GAAA,EAAMzD,OAAP,UACA,cAACyD,GAAA,EAAME,MAAP,6BAEA,eAACF,GAAA,EAAMrD,KAAP,2CAA0CV,EAASO,OAAnD,OACA,eAACwD,GAAA,EAAM9Q,OAAP,WACA,cAAC0K,GAAA,EAAD,CAAQC,QAAQ,SAASrQ,QAAS,kBAAMkU,GAAQ,IAAhD,mBAGA,cAAC9D,GAAA,EAAD,CAAQC,QAAQ,UAAUrQ,QAAS,WAAQqU,EAAe5B,EAAS/P,KAAnE,gCAMF,eAAC8T,GAAA,EAAD,CACAvC,KAAME,EACNxD,KAAK,KACL8F,OAAQ,kBAAMrC,GAAY,IAC1BuC,gBAAgB,aAChBzR,kBAAgB,qCALhB,UAOA,cAACsR,GAAA,EAAMzD,OAAP,UACE,cAACyD,GAAA,EAAME,MAAP,CAAahU,GAAG,qCAAhB,iCAIF,cAAC8T,GAAA,EAAMrD,KAAP,CAAYpT,UAAU,YAAtB,SACC,cAAC,GAAD,CAAe0S,SAAUA,Y,gECjJ3BkB,GAAaC,KAAbD,UAEQ,SAASnB,KACpB,IAAM3M,EAAqBC,cAE3B,EAAwBxF,IAAM8B,UAAS,GAAvC,mBAAO6R,EAAP,KAAaC,EAAb,KACA,EAA8B5T,IAAM8B,SAAS,MAA7C,mBAAOwU,EAAP,KAAgBC,EAAhB,KACA,EAA2BvW,IAAM8B,SAAS,IAA1C,mBAAO4Q,EAAP,KAAe8D,EAAf,KACA,EAA2BxW,IAAM8B,SAAS,IAA1C,mBAAO6Q,EAAP,KAAe8D,EAAf,KACA,EAAwCzW,IAAM8B,SAAS,IAAvD,mBAAO4U,EAAP,KAAqBC,EAArB,KACA,EAAsC3W,IAAM8B,SAAS,MAArD,mBAAO8U,EAAP,KAAoBC,EAApB,KACA,EAAgC7W,IAAM8B,SAAS,IAA/C,mBAAOgV,EAAP,KAAiBC,EAAjB,KAmBA,EAAkC/W,IAAM8B,SAAS,IAAjD,mBAAOkV,EAAP,KAGMC,GAHN,KAGuB,uCAAG,sCAAA1T,EAAA,sEAEhB,yDAFgB,SAGTC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,2DAFgB,OAW3B,GARMC,EAHqB,OAS3BhD,QAAQsD,IAAIN,EAAIR,KAAKuT,cAEF,MAAf/S,EAAI8C,OAAgB,CACnByQ,EAAuB,GADJ,cAEEvT,EAAIR,KAAKuT,cAFX,IAEvB,IAAI,EAAJ,qBAAUE,EAAqC,QAC1ChQ,EAAM,CAAEnF,MAAOmV,EAAa/P,MAAO+P,EAAYlE,OAAO,MAAOkE,EAAYjE,QAC7EuE,EAAqBrT,KAAK+C,GAJJ,8BAMvB+P,EAAgBO,GAjBU,gDAqB1BvW,QAAQsD,IAAR,MArB0B,yDAAH,sDAyBjBkT,EAAW,uCAAG,4BAAA5T,EAAA,6DAChB5C,QAAQsD,IAAI+S,GADI,wEAIHxT,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,OACRC,IAPkB,sDAQRP,KAAK,CAAEqQ,UAAWwD,KARV,OAWF,OAPbrT,EAJe,QAWb8C,SACP9F,QAAQsD,IAAIN,EAAIR,MACJvD,OAAOC,SAASC,QAAQ,eAbhB,gDAiBpBa,QAAQsD,IAAR,MAjBoB,yDAAH,qDAqBjBjE,IAAMkE,WAAU,WACZ+S,MACF,IAsDF,OACI,eAAC,IAAMpU,SAAP,WACA,eAAC0P,GAAA,EAAD,WACU+D,EACE,cAAC9D,GAAA,EAAD,UACI,cAACA,GAAA,EAAKK,KAAN,UACI,eAAC,KAAD,CAAe0B,OAAQ,CAAC,UAAW,UAAWC,KAAM,EAAGC,aAAa,EAApE,UACA,eAAC,KAAD,CAAejQ,SAAS,cAAxB,UACA,cAAC,GAAD,CAAWkQ,SAAO,EAAC7L,KAAK,MAAxB,SACI,cAAC,KAAD,CACA+L,YAAY,yEACZlR,IAAI,yDAGR,cAAC,GAAD,CAAWmF,KAAK,YAAhB,SACI,cAAC,KAAD,CACA+L,YAAY,4EACZlR,IAAI,uGAIR,cAAC,KAAD,CAAac,SAAS,aAAasQ,WAAW,IAAIC,YAAY,MAG9D,cAACqC,GAAA,EAAD,UACI,cAAC,KAAD,CACA5S,SAAS,WACT6S,UA/EV,SAAC1X,GACfgB,QAAQsD,IAAItE,GAEZ,IAAQ2X,EAAqB3X,EAArB2X,UAAWC,EAAU5X,EAAV4X,MAEnB,GAAkB,YAAdD,EAAyB,CAC3B,IAAQE,EAAgBD,EAAhBC,YAERR,EAAUnT,KAAK,CAAEzB,GAAIoV,EAAaC,WAAYnB,EAAQlU,GAAIsV,aAAcpB,EAAQqB,KAAMxF,SAAU,CAACO,OAAQ,GAAIC,OAAQ,GAAIC,QAASgF,QAAUL,EAAMM,cAAetD,OAAQgD,EAAMO,YAAa/B,QAASwB,EAAMQ,aAAa,KAG1NnE,GAAQ,GACRjT,QAAQsD,IAAI+S,IAoEYgB,SAjEV,SAACrY,GAMnB,IAJA,IACcsY,EACVtY,EADAuY,OAAUD,QAGNrU,EAAE,EAAGA,EAAEoT,EAAU/U,OAAQ2B,IAC7B,IAAI,IAAJ,MAAmBuU,OAAOC,OAAOH,GAAjC,eAA0C,CAAtC,IAAMV,EAAK,KAERP,EAAUpT,GAAGxB,KAAOmV,EAAMC,aACzBR,EAAUqB,OAAOzU,EAAE,EAAE,CAAExB,GAAImV,EAAMC,YAAaC,WAAYnB,EAAQlU,GAAI+P,SAAU,CAACO,OAAQsE,EAAUpT,GAAGuO,SAASjN,IAAKyN,OAAQqE,EAAUpT,GAAGuO,SAASQ,QAAS4B,OAAQgD,EAAMO,YAAa/B,QAASwB,EAAMQ,aAAa,KAK1NpX,QAAQsD,IAAI+S,IAmDYsB,UAhDT,SAAC3Y,GAEpB,IACcsY,EACVtY,EADAuY,OAAUD,QAGdtX,QAAQsD,IAAIkU,OAAOC,OAAOH,IAE1B,IAAI,IAAIrU,EAAE,EAAGA,EAAEoT,EAAU/U,OAAQ2B,IAC7B,IAAI,IAAJ,MAAmBuU,OAAOC,OAAOH,GAAjC,eAA0C,CAAtC,IAAMV,EAAK,KAERP,EAAUpT,GAAGxB,KAAOmV,EAAMC,aACzBR,EAAUqB,OAAOzU,EAAE,GAI3BjD,QAAQsD,IAAI,SAAS+S,IAiCGuB,MAAO,SAAC5Y,GAAD,OAAOgB,QAAQsD,IAAItE,IAC1B6Y,KAAM,CACFC,WAAW,EACXC,QAAQ,EACRC,cAAc,EACdC,QAAQ,EACRC,UAAU,cAQhB,GAEV,eAACrG,GAAA,EAAD,WACI,eAACA,GAAA,EAAKC,OAAN,WACA,cAAC,IAAD,CAAQhT,UAAU,OACdwI,YAAY,yBACjCI,mBAAmB,EACnBE,WAAYhD,EACZvH,QAAS0Y,EACY3O,SA3KS,SAACpI,GAC9BgB,QAAQsD,IAAItE,GACZ,IAFoC,EAEhCmZ,EAAmB,GAFa,cAGrBnZ,EAAE8B,MAAMqV,UAHa,IAG1C,IAAI,EAAJ,qBAAsC,CAAC,IAA7BR,EAA4B,QACjC1P,EAAM,CAAEnF,MAAO6U,EAASzP,MAAOyP,EAAQ5D,OAAO,MAAO4D,EAAQ3D,QACjEmG,EAAiBjV,KAAK+C,IALmB,8BAOpCmQ,EAAY+B,GACZjC,EAAelX,EAAE8B,OACjBd,QAAQsD,IAAI6U,EAAkBlC,IAmKVtO,aAAcoO,EAAa,KAE7BE,EACF,cAAC,IAAD,CAAQnX,UAAU,OACdwI,YAAY,qBACjCI,mBAAmB,EACnBE,WAAYhD,EACZvH,QAAS8Y,EAEY/O,SAzLK,SAACpI,GAChC4W,EAAW5W,EAAE8B,UAyLJ,MAEa,cAAC+Q,GAAA,EAAKK,KAAN,UAEI,cAAC/C,GAAA,EAAD,CAAQC,QAAQ,UAAUrQ,QAASyX,EAAnC,iCASpB,eAACjB,GAAA,EAAD,CAAOvC,KAAMA,EAAMwC,OAAQ,kBAAMvC,GAAQ,IAAzC,UACI,cAACsC,GAAA,EAAMzD,OAAP,UACA,cAACyD,GAAA,EAAME,MAAP,6BAEA,eAACF,GAAA,EAAMrD,KAAP,WACA,sBAAKpT,UAAU,WAAf,UACI,uBAAOA,UAAU,uCAAjB,6BACA,qBAAKA,UAAU,WAAf,SACI,uBAAOuB,KAAK,OAAOvB,UAAU,eAAesI,SAAU,SAACpI,GAAD,OAAO6W,EAAS7W,EAAE2F,OAAO7D,eAGvF,sBAAKhC,UAAU,MAAf,UACI,uBAAOA,UAAU,uCAAjB,0BACA,qBAAKA,UAAU,WAAf,SACI,uBAAOuB,KAAK,OAAOvB,UAAU,eAAesI,SAAU,SAACpI,GAAD,OAAO8W,EAAS9W,EAAE2F,OAAO7D,kBAIvF,eAACyU,GAAA,EAAM9Q,OAAP,WAEA,cAAC0K,GAAA,EAAD,CAAQC,QAAQ,UAAUrQ,QAAS,WAAQsX,EAAUA,EAAU/U,OAAS,GAAGkQ,SAASO,OAASA,EAAQsE,EAAUA,EAAU/U,OAAS,GAAGkQ,SAASQ,OAASA,EAAQ6D,EAAS,IAAKC,EAAS,IAAK7C,GAAQ,IAAnM,yBAGA,cAAC9D,GAAA,EAAD,CAAQC,QAAQ,SAASrQ,QAAS,kBAAMkU,GAAQ,IAAhD,6B,mBCvONmF,GAAYhW,cAAH,8KAaTiW,GAAejW,cAAH,+VAyBH,SAASkW,KACpB,IAAM1T,EAAqBC,cAE3B,EAAwBxF,IAAM8B,UAAS,GAAvC,mBAAO6R,EAAP,KAAaC,EAAb,KACA,EAAsC5T,IAAM8B,UAAS,GAArD,mBAAO8U,EAAP,KAAoBC,EAApB,KACA,EAA8B7W,IAAM8B,SAAS,IAA7C,mBAAgByU,GAAhB,WACA,EAAwCvW,IAAM8B,SAAS,IAAvD,mBAAO4U,EAAP,KAAqBC,EAArB,KACA,EAAgC3W,IAAM8B,SAAS,IAA/C,mBAAOgV,EAAP,KAAiBC,EAAjB,KACA,EAAkC/W,IAAM8B,SAAS,IAAjD,mBAAO0R,EAAP,KAAkB0F,EAAlB,KACA,EAAgClZ,IAAM8B,SAAS,GAA/C,mBAAOqX,EAAP,KAAiBC,EAAjB,KACA,EAA8BpZ,IAAM8B,UAAS,GAA7C,mBAAO6N,EAAP,KAAgBC,EAAhB,KAEA,EAAqD3M,0BACvD8V,IADgBM,EAAd,EAAQlW,KAIR,GAJA,EAA6BvC,MAI4BqC,0BAC3D+V,KADgBM,EAAd,EAAQnW,KAAR,EAAgCvC,MAIhCD,QAAQsD,IAAI,mBAAmBqV,GAE/B,IA4BMrC,EAAiB,uCAAG,sCAAA1T,EAAA,sEAEhB,yDAFgB,SAGTC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,2DAFgB,OAW3B,GARMC,EAHqB,OAS3BhD,QAAQsD,IAAIN,EAAIR,KAAKuT,cAEF,MAAf/S,EAAI8C,OAAgB,CACnByQ,EAAuB,GADJ,cAEEvT,EAAIR,KAAKuT,cAFX,IAEvB,IAAI,EAAJ,qBAAUE,EAAqC,QAC1ChQ,EAAM,CAAEnF,MAAOmV,EAAa/P,MAAO+P,EAAYlE,OAAO,MAAOkE,EAAYjE,QAC7EuE,EAAqBrT,KAAK+C,GAJJ,8BAMvB+P,EAAgBO,GAjBU,gDAqB1BvW,QAAQsD,IAAR,MArB0B,yDAAH,qDAyBjBsV,EAAc,uCAAG,4BAAAhW,EAAA,sEAEb,sDAFa,SAGNC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,wDAFa,OAGlBC,EAHkB,OASxBhD,QAAQsD,IAAI,iBAAiBN,EAAIR,KAAKqQ,WAGtC0F,EAAavV,EAAIR,KAAKqQ,WAGb7S,QAAQsD,IAAIuP,GAEZ5D,GAAW,GAjBI,kDAoBvBjP,QAAQsD,IAAR,MApBuB,0DAAH,qDAoDpB,OA5BAjE,IAAMkE,WAAU,WACTmV,IACC1Y,QAAQsD,IAAIoV,GACZH,EAAaG,EAAc7F,cAGjC,CAAC6F,IAEHrZ,IAAMkE,WAAU,WACZ,GAAGoV,EAAiB,CAChB,IADgB,EACZpC,EAAuB,GADX,cAEAoC,EAAiB5C,cAFjB,IAEzB,IAAI,EAAJ,qBAAuD,CAAC,IAA9CE,EAA6C,QAClDhQ,EAAM,CAAEnF,MAAOmV,EAAa/P,MAAO+P,EAAYlE,OAAO,MAAOkE,EAAYjE,QAC7EuE,EAAqBrT,KAAK+C,IAJF,8BAMzB+P,EAAgBO,MAEb,CAACoC,IAEHtZ,IAAMkE,WAAU,WAMZ,OALAkV,EAAY,IACZG,IACAH,EAAY,IACZnC,IACAmC,EAAY,KACL,kBAAMA,EAAY,MAC3B,IAGE,uBAAM3Z,UAAU,UAAhB,UACI,cAAC,KAAD,CAAY6P,MAAM,UAAUP,OAAO,MAAMoK,SAAUA,IACvD,sBAAK1Z,UAAU,sBAAf,UAEI,oBAAIA,UAAU,UAAd,mCAEA,qBAAKA,UAAU,MAAf,SACI,qBAAKA,UAAU,mBAAf,SAEI,cAAC8S,GAAA,EAAD,UACI,eAACoD,GAAA,EAAD,WAEI,cAACrE,GAAA,EAAD,CAAKkI,GAAI,GAAIjI,GAAI,EAAjB,SACA,cAACiB,GAAA,EAAD,UACI,cAACA,GAAA,EAAKK,KAAN,UACI,cAACU,GAAD,CAAKC,UAAWA,EAAW7D,QAASA,UAK5C,cAAC2B,GAAA,EAAD,CAAKkI,GAAI,GAAIjI,GAAI,EAAjB,SACA,eAACiB,GAAA,EAAD,WACI,cAACA,GAAA,EAAKC,OAAN,UACI,eAAC3C,GAAA,EAAD,CAAQC,QAAQ,UAAUM,KAAK,UAAUL,OAAK,EAACtQ,QAAS,kBAAMkU,GAAQ,IAAtE,UACI,cAAC,IAAD,CAAaxU,KAAK,QAAQ,cAAC,IAAD,CAAaA,KAAK,cAGpD,eAACoT,GAAA,EAAKK,KAAN,WAEA,qBAAKpT,UAAU,WAAf,SAEI,qBAAKA,UAAU,YAAf,SACI,qBAAKA,UAAU,QAAf,SACA,cAAC,IAAD,CAAQA,UAAU,OACdwI,YAAY,yBACZI,mBAAmB,EACnBE,WAAYhD,EACZvH,QAAS0Y,EACT3O,SAhJP,SAACpI,GAG9BgB,QAAQsD,IAAI,WAAWoK,SAASoL,uBAAuB,4FAA4F,GAAGC,SAAU,GAEhK9J,GAAW,GACXjP,QAAQsD,IAAItE,GACZ,IAPoC,EAOhCmZ,EAAmB,GACnBa,EAAe,GARiB,cASrBha,EAAE8B,MAAMqV,UATa,IAS1C,IAAI,EAAJ,qBAAsC,CAAC,IAA7BR,EAA4B,QACjC1P,EAAM,CAAEnF,MAAO6U,EAASzP,MAAOyP,EAAQ5D,OAAO,MAAO4D,EAAQ3D,QACjEmG,EAAiBjV,KAAK+C,GACb+S,EAAa9V,KAAb,MAAA8V,EAAY,aAASrD,EAAQ9C,aAZG,8BAcpC7S,QAAQsD,IAAI0V,GACZ5C,EAAY+B,GACZjC,EAAelX,EAAE8B,OACjByX,EAAaS,GACb/J,GAAW,IA+HyBtH,aAAcoO,EAAa,WAMrCE,EACF,qBAAKnX,UAAU,WAAf,SAEI,qBAAKA,UAAU,YAAf,SACI,qBAAKA,UAAU,QAAf,SACA,cAAC,IAAD,CAAQA,UAAU,OACdwI,YAAY,qBACZI,mBAAmB,EACnBE,WAAYhD,EACZvH,QAAS8Y,EAET/O,SA7IX,SAACpI,GAC1BiQ,GAAW,GACjB2G,EAAW5W,EAAE8B,OACPyX,EAAavZ,EAAE8B,MAAM+R,WACrB5D,GAAW,YA6IsB,oBAW7B,qBAAKnQ,UAAU,aAAa2C,GAAG,WAAWyH,SAAS,KAAKlD,KAAK,SAASmD,cAAY,OAAlF,SACI,qBAAKrK,UAAU,eAAekH,KAAK,WAAnC,SAEI,qBAAKlH,UAAU,gBAAf,SACI,qBAAKA,UAAU,eAAf,SAEI,qBAAKA,UAAU,mBAAf,SAEjB,sBAAKA,UAAU,OAAf,UAEF,sBAAKA,UAAU,eAAf,UACI,oBAAIA,UAAU,cAAd,8BACA,wBAAQuB,KAAK,SAASvB,UAAU,YAAYsK,eAAa,QAAQC,aAAW,aAE7E,qBAAKvK,UAAU,8BAanB,eAACyW,GAAA,EAAD,CACAvC,KAAMA,EACNtD,KAAK,KACL8F,OAAQ,kBAAMvC,GAAQ,IACtByC,gBAAgB,aAChBzR,kBAAgB,qCALhB,UAOA,cAACsR,GAAA,EAAMzD,OAAP,UACE,cAACyD,GAAA,EAAME,MAAP,CAAahU,GAAG,qCAAhB,gCAIF,cAAC8T,GAAA,EAAMrD,KAAP,CAAYpT,UAAU,YAAtB,SACC,cAAC,GAAD,Y,qBChSHma,GAAoB5Z,IAAMC,gBAC1B4Z,GAAuB7Z,IAAMC,gBAS/B2W,GAAclZ,aAAaC,QAAQ,qBAEnCiZ,KACAA,GAAc,WAIlB,IAAMkD,GAAe,SAAChZ,EAAOC,GACzB,OAAOA,EAAOC,MACV,IAAK,eACD,OAAO,2BACAF,GADP,IAEIiZ,SAAUhZ,EAAOG,UAEzB,IAAK,kBACD,OAAO,2BACAJ,GADP,IAEIkZ,aAAcjZ,EAAOG,UAE7B,IAAK,cACD,OAAO,2BACAJ,GADP,IAEImZ,QAASlZ,EAAOG,UAExB,IAAK,kBACD,OAAO,2BACAJ,GADP,IAEIoZ,YAAanZ,EAAOG,UAE5B,IAAK,YACD,OAAO,2BACAJ,GADP,IAEIqZ,UAAWpZ,EAAOG,UAE1B,IAAK,aACD,OAAO,2BACAJ,GADP,IAEIsZ,OAAQrZ,EAAOG,UAEvB,IAAK,cACD,OAAO,2BACAJ,GADP,IAEIwV,QAASvV,EAAOG,UAExB,IAAK,kBAED,OADAxD,aAAauD,QAAQ,oBAAoBF,EAAOG,SACzC,2BACAJ,GADP,IAEI8V,YAAa7V,EAAOG,UAG5B,QACI,MAAM,IAAIC,MAAJ,+BAAkCJ,EAAOC,SAI9CqZ,GAAgB,SAAC,GAAkB,IAAhBhZ,EAAe,EAAfA,SAC5B,EAA0BrB,IAAMsB,WAAWwY,GAAc,CAAEM,OAhElD,KAgE0D9D,QA7DzD,KA6DkEM,eAAauD,UA9D7E,KA8DwFD,YA/DtF,KA+DmGD,QA5DvG,KA4DgHD,aA3D3G,KA2DyHD,SA1D7H,OA0DX,mBAAOjZ,EAAP,KAAcS,EAAd,KAEA,OACI,cAACsY,GAAqBrY,SAAtB,CAA+BC,MAAOF,EAAtC,SACI,cAACqY,GAAkBpY,SAAnB,CAA4BC,MAAOX,EAAnC,SACKO,OAMJiZ,GAAgB,kBAAMta,IAAM2B,WAAWiY,KACvCW,GAAmB,kBAAMva,IAAM2B,WAAWkY,K,UC3ExC,SAASW,KAEvB,IAAMjZ,EAAWgZ,KAEhB,OACC,yBAAS9a,UAAU,kBAAnB,SACM,8BACL,qBAAKA,UAAU,uBAAf,SACA,qBAAKA,UAAU,YAAf,SACC,qBAAK2C,GAAG,YAAYG,MAAO,CAAC,OAAS,SAAU9C,UAAU,gBAAzD,SACC,cAAC,UAAD,CACCgb,WAAS,OACT5V,IAAK6V,KAELC,gBAAiB,SAAChb,GAAD,OAAO4B,EAAS,CAAEP,KAAK,kBAAmBE,QAASvB,EAAE2F,OAAOsV,yBCbrE,SAASC,KAEpB,IAAMtZ,EAAWgZ,KACTJ,EAAcG,KAAdH,UAEXxZ,QAAQsD,IAAIkW,GAET,IAAM5U,EAAqBC,cAG9B,EAAwCxF,IAAM8B,SAAS,MAAvD,mBAAO4U,EAAP,KAAqBC,EAArB,KACA,EAAsC3W,IAAM8B,SAAS,MAArD,mBAAO8U,EAAP,KAAoBC,EAApB,KACA,EAAgC7W,IAAM8B,SAAS,MAA/C,mBAAOgV,EAAP,KAAiBC,EAAjB,KACA,EAA8B/W,IAAM8B,SAAS,MAA7C,mBAAOwU,EAAP,KAAgBC,EAAhB,KACG,EAAkCvW,IAAM8B,SAAS,IAAjD,mBAAO0R,EAAP,KAAkB0F,EAAlB,KACA,EAAkDlZ,IAAM8B,SAAS,IAAjE,mBACH,GADG,UACmB9B,IAAM8B,SAAS,KAArC,mBAEG,GAFH,UAEmC9B,IAAM8B,UAAS,IAA/C,mBAAOmO,EAAP,KAiDGsJ,GAjDH,KAiDiB,uCAAG,sCAAAhW,EAAA,sEAEV,iEAFU,SAGHC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,mEAFU,OAGfC,EAHe,OASjBuT,EAAuB,GATN,cAUIvT,EAAIR,KAAKuT,cAVb,IAUrB,IAAI,EAAJ,qBAAUE,EAAqC,QAC1ChQ,EAAM,CAAEnF,MAAOmV,EAAa/P,MAAO+P,EAAYlE,OAAO,IAAIkE,EAAYjE,QAC1EuE,EAAqBrT,KAAK+C,GAZN,8BAcrB+P,EAAgBO,GACPvW,QAAQsD,IAAIiT,GAfA,kDAkBpBvW,QAAQsD,IAAR,MAlBoB,0DAAH,sDA4BnB,OANEjE,IAAMkE,WAAU,WACR+L,GACAsJ,MAEN,CAACtJ,IAGH,gCACQ,sBAAKxQ,UAAU,WAAf,UACI,uBAAOA,UAAU,uCAAjB,yBAGZ,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAU,QAAf,SACC,cAAC,IAAD,CACCwI,YAAY,yBACZM,WAAYhD,EACZvH,QAAS0Y,EACT3O,SA1E8B,SAACpI,GAC9B,IAAImZ,EAAmB,GACvBnY,QAAQsD,IAAItE,GAFwB,oBAGrBA,EAAE8B,MAAMqV,UAHa,IAG1C,IAAI,EAAJ,qBAAsC,CAAC,IAA7BR,EAA4B,QACjC1P,EAAM,CAAEnF,MAAO6U,EAASzP,MAAOyP,EAAQ5D,OAAO,MAAO4D,EAAQ3D,QACjEmG,EAAiBjV,KAAK+C,IALmB,8BAOpCmQ,EAAY+B,GACZjC,EAAelX,EAAE8B,OACjBd,QAAQsD,IAAI6U,EAAkBlC,aAuEjCA,EACF,sBAAKnX,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,qBAGZ,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAU,QAAf,SACC,cAAC,IAAD,CACCwI,YAAY,qBACZK,aAAcwO,EAAS,GACvBvO,WAAYhD,EACZvH,QAAS8Y,EACT/O,SAzGuB,SAACpI,GACvB4B,EAAS,CAAEP,KAAM,YAAaE,QAAQ,2BAAMiZ,GAAP,IAAkBzC,aAAc/X,EAAE8B,MAAMkW,SAC7EpB,EAAW5W,EAAE8B,OACnB,IAHmC,EAG/BqZ,EAAoB,GAHW,cAKbnb,EAAE8B,MAAM+R,WALK,IAKnC,IAAI,EAAJ,qBAAwC,CAAC,IAA/BrB,EAA8B,QACnCvL,EAAM,CAAEnF,MAAO0Q,EAAUtL,MAAOsL,EAASO,OAAO,MAAOP,EAASQ,QACpEmI,EAAkBjX,KAAK+C,IAPW,8BASnCsS,EAAa4B,GACPna,QAAQsD,IAAI6W,aAmGR,GAEPxE,EACF,sBAAK7W,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,uBAGZ,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAU,QAAf,SACC,cAAC,IAAD,CACCwI,YAAY,uBACZM,WAAYhD,EACZiD,SAAO,EACPxK,QAASwV,EACTzL,SAlGwB,SAACpI,GAC9B,IADoC,EAChCob,EAAY,GADoB,cAErBpb,GAFqB,IAEpC,IAAI,EAAJ,qBAAiB,CAChBob,EAAYA,EADI,QACUlU,MAAMxI,MAAM,KAAK,GAAK,KAHb,8BAMpC,IANoC,EAMhC2c,EAAiB,EANe,cAOrBrb,GAPqB,IAOpC,IAAI,EAAJ,qBAAiB,CAChBqb,GADgB,QACEvZ,MAAMmR,SARW,8BAWpCjS,QAAQsD,IAAI8W,GACZxZ,EAAS,CAAEP,KAAM,YAAaE,QAAQ,2BAAMiZ,GAAP,IAAkBC,OAAO,2BAAOD,EAAUC,QAAlB,IAA2BlV,IAAK6V,EAAUE,OAAQD,mBAAkBxH,UAAW7T,EAAEkF,KAAI,SAAAyC,GAAC,OAAIA,EAAE7F,MAAMW,oBA0FrJ,MCtJG,SAAS8Y,KAEpB,MAA4Blb,IAAM8B,SAAS,IAA3C,mBAAOsY,EAAP,KAEM7Y,GAFN,KAEiBgZ,MACTJ,EAAcG,KAAdH,UAELgB,EAAe,WACpB5Z,EAAS,CAACP,KAAM,YAAaE,QAAQ,2BAAKiZ,GAAN,IAAiBC,cAGrD,OACE,gCACD,sBAAK3a,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,8BACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAewI,YAAY,mBAC1DF,SAAU,SAACpI,GAAOya,EAAOgB,cAAgC,EAAjBzb,EAAE2F,OAAO7D,MAAY0Z,YAGtD,sBAAK1b,UAAU,WAAf,UACI,uBAAOA,UAAU,uCAAjB,2CACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAewI,YAAY,gCAC1DF,SAAU,SAACpI,GAAQya,EAAOiB,yBAA2C,EAAjB1b,EAAE2F,OAAO7D,MAAY0Z,YAG3E,sBAAK1b,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,iCACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAewI,YAAY,sBAC1DF,SAAU,SAACpI,GAAQya,EAAOkB,wBAA0C,EAAjB3b,EAAE2F,OAAO7D,MAAW0Z,YAGhE,sBAAK1b,UAAU,WAAf,UACI,uBAAOA,UAAU,uCAAjB,8BACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAewI,YAAY,mBAC1DF,SAAU,SAACpI,GAAQya,EAAOmB,wBAA0C,EAAjB5b,EAAE2F,OAAO7D,MAAW0Z,eCtC7D,SAASK,KAEvB,IAAQrB,EAAcG,KAAdH,UAERxZ,QAAQsD,IAAIkW,GAET,MAAkCna,IAAM8B,SAAS,IAAjD,mBACH,GADG,UAC6B9B,IAAM8B,SAAS,CAACd,KAAM,8BAA+Bya,SAAU,EAAGC,KAAM,KAAxG,mBAAOC,EAAP,KACA,GADA,KAC4B3b,IAAM8B,SAAS,CAACd,KAAM,SAAUya,SAAU,EAAGC,KAAM,KAA/E,mBAAOE,EAAP,KACA,GADA,KAC4C5b,IAAM8B,SAAS,CAACd,KAAM,iBAAkBya,SAAU,EAAGC,KAAM,KAAvG,mBAAOG,EAAP,KACA,GADA,KACkC7b,IAAM8B,SAAS,CAACd,KAAM,mBAAoBya,SAAU,EAAGC,KAAM,KAA/F,mBAAOI,EAAP,KACA,GADA,KACsB9b,IAAM8B,SAAS,CAACd,KAAM,cAAeya,SAAU,EAAGC,KAAM,KAA9E,mBAAOK,EAAP,KAEMxa,GAFN,KAEiBgZ,MAEXY,EAAe,WACpB5Z,EAAS,CAAEP,KAAM,YAAaE,QAAQ,2BAAKiZ,GAAN,IAAiB6B,gBAAiB,CAACL,EAAUC,EAAQC,EAAgBC,EAAWC,QAOrH,OAJD/b,IAAMkE,WAAU,WACfiX,MACC,IAGC,gCACQ,sBAAK1b,UAAU,WAAf,UACI,uBAAOA,UAAU,uCAAjB,sBACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAewI,YAAY,gBAC1DF,SAAU,SAACpI,GAAQgc,EAASF,SAA2B,EAAjB9b,EAAE2F,OAAO7D,MAAW0Z,SAE/C,qBAAK1b,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAewI,YAAY,aAC1DF,SAAU,SAACpI,GAAQgc,EAASD,KAAuB,EAAjB/b,EAAE2F,OAAO7D,MAAY0Z,YAGhD,sBAAK1b,UAAU,WAAf,UACI,uBAAOA,UAAU,uCAAjB,oBACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAewI,YAAY,gBAC1DF,SAAU,SAACpI,GAAQic,EAAOH,SAA2B,EAAjB9b,EAAE2F,OAAO7D,MAAY0Z,SAE9C,qBAAK1b,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAewI,YAAY,aAC1DF,SAAU,SAACpI,GAAQic,EAAOF,KAAuB,EAAjB/b,EAAE2F,OAAO7D,MAAY0Z,YAG9C,sBAAK1b,UAAU,WAAf,UACI,uBAAOA,UAAU,uCAAjB,4BACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAewI,YAAY,gBAC1DF,SAAU,SAACpI,GAAQkc,EAAeJ,SAA2B,EAAjB9b,EAAE2F,OAAO7D,MAAY0Z,SAEtD,qBAAK1b,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAewI,YAAY,aAC1DF,SAAU,SAACpI,GAAQkc,EAAeH,KAAuB,EAAjB/b,EAAE2F,OAAO7D,MAAY0Z,YAGtD,sBAAK1b,UAAU,WAAf,UACI,uBAAOA,UAAU,uCAAjB,8BACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAewI,YAAY,aAC1DF,SAAU,SAACpI,GAAQmc,EAAUL,SAA2B,EAAjB9b,EAAE2F,OAAO7D,MAAW0Z,SAEhD,qBAAK1b,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAewI,YAAY,aAC1DF,SAAU,SAACpI,GAAQmc,EAAUJ,KAAuB,EAAjB/b,EAAE2F,OAAO7D,MAAY0Z,YAGjD,sBAAK1b,UAAU,WAAf,UACI,uBAAOA,UAAU,uCAAjB,yBACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAewI,YAAY,gBAC1DF,SAAU,SAACpI,GAAQoc,EAAIN,SAA2B,EAAjB9b,EAAE2F,OAAO7D,MAAY0Z,SAE3C,qBAAK1b,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAewI,YAAY,aAC1DF,SAAU,SAACpI,GAAQoc,EAAIL,KAAuB,EAAjB/b,EAAE2F,OAAO7D,MAAY0Z,eC1ExC,SAASc,KAEvB,IAAQ9B,EAAcG,KAAdH,UACRxZ,QAAQsD,IAAIkW,GACT,MAA0Bna,IAAM8B,SAAS,CAAEoa,aAAc,GAAIC,WAAY,IAAzE,mBAAOC,EAAP,UACc7B,KAEjB5Z,QAAQsD,IAAIkW,GAET,IAAMkC,EAAS,uCAAG,sBAAA9Y,EAAA,sEAGR,oDAHQ,SAIDC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,OACRC,IAJQ,oDAKVP,KAAK,2BAAKgX,GAAN,IAAiBC,OAAO,2BAAMD,EAAUC,QAAYgC,OARtC,cAWnB/X,IAAMC,QAAQ,UAAW,CACxBE,SAAU,YACVC,UAAW,IACXC,WAAW,IAGZ9E,OAAOC,SAASC,QAAQ,YAjBL,gDAoBnBa,QAAQsD,IAAI,KAAIM,SAEhBF,IAAMzD,MAAM,KAAI2D,QAAS,CACxBC,SAAU,YACVC,UAAW,IACXC,WAAW,IAzBO,yDAAH,qDA8BjB,OACE,gCACI,cAAC,IAAD,IACI,sBAAKjF,UAAU,WAAf,UACI,uBAAOA,UAAU,uCAAjB,mBACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,OAAOvB,UAAU,eAAewI,YAAY,SACxDF,SAAU,SAACpI,GAAQyc,EAAMF,aAAcvc,EAAE2F,OAAO7D,WAErC,qBAAKhC,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAewI,YAAY,aAC1DF,SAAU,SAACpI,GAAQyc,EAAMD,WAA6B,EAAjBxc,EAAE2F,OAAO7D,cAIvC,qBAAKhC,UAAU,WAAf,SACR,qBAAKA,UAAU,WAAf,SACC,sBAAOA,UAAU,kBAAkBC,QAAS,kBAAM2c,KAAlD,2B,gCCrDU,SAASC,KAEvB,IAAMC,EAAQ,CACb,CAAE1T,KAAM,SAAU2T,UAAW,cAACtB,GAAD,KAC7B,CAAErS,KAAM,YAAa2T,UAAW,cAAC3B,GAAD,KAChC,CAAEhS,KAAM,iBAAkB2T,UAAW,cAAChB,GAAD,KACrC,CAAE3S,KAAM,QAAS2T,UAAW,cAACP,GAAD,MAG1B,OACF,qBAAKxc,UAAU,gBAAf,SACO,cAAC,KAAD,CACL8c,MAAOA,EACPE,cAAc,6BACdC,cAAc,4BACdC,iBAAiB,MCnBN,SAASC,KAEpB,IAAOxC,EAAUE,KAAVF,OAEDyC,EAAa,WAgCf,MAAO,CAAClB,SA9BS,CACb3a,KAAM,8BACNya,SAAUrB,EAASA,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAA0B,gCAAfA,EAAM9b,QAAwC,GAAGya,SAAW,GACxHC,KAAMtB,EAASA,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAA0B,gCAAfA,EAAM9b,QAAwC,GAAG0a,KAAO,IA2BnGK,IAzBL,CACR/a,KAAM,cACNya,SAAUrB,EAASA,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAA0B,gBAAfA,EAAM9b,QAAwB,GAAGya,SAAW,GACxGC,KAAMtB,EAASA,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAA0B,gBAAfA,EAAM9b,QAAwB,GAAG0a,KAAO,IAsB/EG,eApBE,CACnB7a,KAAM,iBACNya,SAAUrB,EAASA,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAA0B,mBAAfA,EAAM9b,QAA2B,GAAGya,SAAW,GAC3GC,KAAMtB,EAASA,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAA0B,mBAAfA,EAAM9b,QAA2B,GAAG0a,KAAO,IAiBnEI,UAdlB,CACd9a,KAAM,mBACNya,SAAUrB,EAASA,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAA0B,qBAAfA,EAAM9b,QAA6B,GAAGya,SAAW,GAC7GC,KAAMtB,EAASA,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAA0B,qBAAfA,EAAM9b,QAA6B,GAAG0a,KAAO,IAW3DE,OAT/B,CACX5a,KAAM,SACNya,SAAUrB,EAASA,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAA0B,WAAfA,EAAM9b,QAAmB,GAAGya,SAAW,GACnGC,KAAMtB,EAASA,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAA0B,WAAfA,EAAM9b,QAAmB,GAAG0a,KAAO,IAM1CU,MAJvC,CACVF,aAAc9B,GAAUA,EAAO8B,aAAe9B,EAAO8B,aAAe,GACpEC,WAAY/B,GAAUA,EAAO+B,WAAa/B,EAAO+B,WAAa,KAKtE,EAAgCnc,IAAM8B,SAAS+a,IAAalB,UAA5D,mBAAOA,EAAP,KAAiBoB,EAAjB,KAEA,EAAsB/c,IAAM8B,SAAS+a,IAAad,KAAlD,mBAAOA,EAAP,KAAYiB,EAAZ,KAEA,EAA4Chd,IAAM8B,SAAS+a,IAAahB,gBAAxE,mBAAOA,EAAP,KAAuBoB,EAAvB,KAEA,EAAkCjd,IAAM8B,SAAS+a,IAAaf,WAA9D,mBAAOA,EAAP,KAAkBoB,EAAlB,KAEA,EAA4Bld,IAAM8B,SAAS+a,IAAajB,QAAxD,mBAAOA,EAAP,KAAeuB,EAAf,KAEA,EAA0Bnd,IAAM8B,SAAS+a,IAAaT,OAAtD,mBAAOA,EAAP,KAAcgB,EAAd,KAEMC,EAAY,uCAAG,4BAAA9Z,EAAA,6DAEjB5C,QAAQsD,IAAI,CAACmW,OAAO,eAAKgC,GAAQJ,gBAAiB,CAACL,EAAUI,EAAKF,EAAgBC,EAAWF,KAF5E,SAIhBlY,EAJgB,2DAI0C0W,EAAOhY,IAJjD,SAKJoB,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,MACFP,KAAM,CAACiX,OAAO,eAAKgC,GAAQJ,gBAAiB,CAACL,EAAUI,EAAKF,EAAgBC,EAAWF,MATlE,cAYrBvX,IAAMC,QAAQ,UAAW,CACzBE,SAAU,YACVC,UAAW,IACXC,WAAW,IAGH9E,OAAOC,SAASC,QAAQ,YAlBX,kDAqBtBa,QAAQsD,IAAI,KAAIyD,SAASvE,KAAKoB,SAE9BF,IAAMzD,MAAM,KAAI8G,SAASvE,KAAKoB,QAAS,CACtCC,SAAU,YACVC,UAAW,IACXC,WAAW,IA1BU,0DAAH,qDA2ClB,OAZF1E,IAAMkE,WAAU,WACd,GAAc,OAAXkW,EAAgB,CACf,IAAMkD,EAAIT,IACVE,EAAYO,EAAE3B,UACdqB,EAAOM,EAAEvB,KACTmB,EAAaI,EAAExB,WACfqB,EAAUG,EAAE1B,QACZqB,EAAkBK,EAAEzB,gBACpBuB,EAASE,EAAElB,UAEf,CAAChC,IAGG,gCACI,cAAC,IAAD,IACA,sBAAK3a,UAAU,WAAf,UACI,uBAAOA,UAAU,uCAAjB,sBACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAewI,YAAY,gBAAgBF,SAAU,SAACpI,GAAD,OAAOgc,EAASF,SAA2B,EAAjB9b,EAAE2F,OAAO7D,OACxG6G,aAAcqT,EAASF,aAE3B,qBAAKhc,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAewI,YAAY,aAAaF,SAAU,SAACpI,GAAD,OAAOgc,EAASD,KAAuB,EAAjB/b,EAAE2F,OAAO7D,OACjG6G,aAAcqT,EAASD,YAG/B,sBAAKjc,UAAU,WAAf,UACI,uBAAOA,UAAU,uCAAjB,oBACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAewI,YAAY,gBAAgBF,SAAU,SAACpI,GAAD,OAAOic,EAAOH,SAA2B,EAAjB9b,EAAE2F,OAAO7D,OACtG6G,aAAcsT,EAAOH,aAEzB,qBAAKhc,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAewI,YAAY,aAAaF,SAAU,SAACpI,GAAD,OAAOic,EAAOF,KAAuB,EAAjB/b,EAAE2F,OAAO7D,OAC/F6G,aAAcsT,EAAOF,YAG7B,sBAAKjc,UAAU,WAAf,UACI,uBAAOA,UAAU,uCAAjB,4BACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAewI,YAAY,gBAAgBF,SAAU,SAACpI,GAAD,OAAOkc,EAAeJ,SAA2B,EAAjB9b,EAAE2F,OAAO7D,OAC9G6G,aAAcuT,EAAeJ,aAEjC,qBAAKhc,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAewI,YAAY,aAAaF,SAAU,SAACpI,GAAD,OAAOkc,EAAeH,KAAuB,EAAjB/b,EAAE2F,OAAO7D,OACvG6G,aAAcuT,EAAeH,YAGrC,sBAAKjc,UAAU,WAAf,UACI,uBAAOA,UAAU,uCAAjB,8BACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAewI,YAAY,kBAAkBF,SAAU,SAACpI,GAAD,OAAOmc,EAAUL,SAA2B,EAAjB9b,EAAE2F,OAAO7D,OAC3G6G,aAAcwT,EAAUL,aAE5B,qBAAKhc,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAewI,YAAY,aAAaF,SAAU,SAACpI,GAAD,OAAOmc,EAAUJ,KAAuB,EAAjB/b,EAAE2F,OAAO7D,OAClG6G,aAAcwT,EAAUJ,YAGhC,sBAAKjc,UAAU,WAAf,UACI,uBAAOA,UAAU,uCAAjB,yBACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAewI,YAAY,gBAAgBF,SAAU,SAACpI,GAAD,OAAOoc,EAAIN,SAA2B,EAAjB9b,EAAE2F,OAAO7D,OACnG6G,aAAcyT,EAAIN,aAEtB,qBAAKhc,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAewI,YAAY,aAAaF,SAAU,SAACpI,GAAD,OAAOoc,EAAIwB,WAA6B,EAAjB5d,EAAE2F,OAAO7D,OAClG6G,aAAcyT,EAAIL,YAG1B,sBAAKjc,UAAU,WAAf,UACI,uBAAOA,UAAU,uCAAjB,mBACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,OAAOvB,UAAU,eAAewI,YAAY,SAASF,SAAU,SAACpI,GAAD,OAAOyc,EAAMF,aAAcvc,EAAE2F,OAAO7D,OAChG6G,aAAc8T,EAAMF,iBAExB,qBAAKzc,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAewI,YAAY,aAAaF,SAAU,SAACpI,GAAD,OAAOyc,EAAMD,WAA6B,EAAjBxc,EAAE2F,OAAO7D,OACpG6G,aAAc8T,EAAMD,kBAG5B,qBAAK1c,UAAU,WAAf,SACR,qBAAKA,UAAU,WAAf,SACC,sBAAMC,QAAS,SAACC,GAAD,OAAO0d,KAAiB5d,UAAU,kBAAjD,2B,kCC/JC+d,GAAUza,cAAH,6cAmaE0a,GApYGzd,IAAMwQ,YAAW,SAACvR,EAAOwR,GAEzC,MAAkCzQ,IAAM8B,SAAS,IAAjD,mBAAO4O,EAAP,KAAkBC,EAAlB,KAEA,EAA4B3Q,IAAM8B,SAAS,IAA3C,mBAAOsY,EAAP,KAAesD,EAAf,KACA,EAAwB1d,IAAM8B,UAAS,GAAvC,mBAAO6R,EAAP,KAAaC,EAAb,KACMrS,EAAWgZ,KAEjB,EAA+CtX,0BAC/Cua,IADcG,EAAd,EAAQxa,KAIFya,GAJN,EAAuBhd,MAIL,uCAAG,4BAAA2C,EAAA,sEAEdG,EAFc,2DAE2C0W,EAAOhY,IAFlD,SAGFoB,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,SACRC,QANiB,OASD,MATC,OASZ+C,SACPpC,IAAMC,QAAQ,UAAW,CACxBE,SAAU,YACVC,UAAW,IACXC,WAAW,IAGR9E,OAAOC,SAASC,QAAQ,aAhBT,gDAoBnBuE,IAAMzD,MAAM,KAAI8G,SAASvE,KAAKoB,QAAS,CACtCC,SAAU,YACVC,UAAW,IACXC,WAAW,IAEZkP,GAAQ,GAzBW,yDAAH,sDA6BZiK,EAAY,uCAAG,oCAAAta,EAAA,sEAGT,oDAHS,SAIFC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACzD8F,OAAQ,MACRC,IAJS,sDAHS,OAIdC,EAJc,OAUfhD,QAAQsD,IAAI,YAAYN,GAEpBga,EAAU,GAZC,cAaKha,EAAIR,KAAKwa,SAbd,IAaf,IAbe,mBAaLvD,EAbK,QAcTW,EAAY,GAdH,cAeEX,EAAO5G,WAfT,IAeb,IAAI,EAAJ,qBAAgC,CAC9BuH,EAAYA,EADkB,QACJrI,OAAS,KAhBxB,8BAkBbiL,EAAQ9Z,KAAK,CACTqB,IAAK6V,EAAUE,OACf9I,SACA,oBAAI1S,UAAU,QAAwB8C,MAAO,CAAC,cAAgB,QAA9D,SAEI6X,EAAO5G,UAAU3O,KAAI,SAACsN,EAAUpN,GAAX,OACnB,gCAAiB,kCAAKoN,EAASO,OAAd,OAA2B0H,EAAO5G,UAAUvR,OAAS,EAAI8C,EAAQ,uBAAQ,KAAhFA,OAHWqV,EAAOhY,IAOlC0b,OAAQ1D,EAAOgB,cACf2C,SAAU3D,EAAOY,eACjBgD,QAAS5D,EAAOiB,yBAChB4C,SAAU7D,EAAOkB,wBACjB4C,SAAU9D,EAAOmB,wBACjB4C,GAAI/D,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,gCAAfA,EAAM9b,QAAwC,GAAGya,SAC7F2C,GAAIhE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,gCAAfA,EAAM9b,QAAwC,GAAG0a,KAC7F2C,GAAIjE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,WAAfA,EAAM9b,QAAmB,GAAGya,SACxE6C,GAAIlE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,WAAfA,EAAM9b,QAAmB,GAAG0a,KACxE6C,IAAKnE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,gBAAfA,EAAM9b,QAAwB,GAAGya,SAC9E+C,IAAKpE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,gBAAfA,EAAM9b,QAAwB,GAAG0a,KAC9E+C,IAAKrE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,qBAAfA,EAAM9b,QAA6B,GAAGya,SACnFiD,IAAKtE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,qBAAfA,EAAM9b,QAA6B,GAAG0a,KACnFiD,GAAIvE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,mBAAfA,EAAM9b,QAA2B,GAAGya,SAChFmD,GAAIxE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,mBAAfA,EAAM9b,QAA2B,GAAG0a,KAChFmD,GAAIzE,EAAO8B,aACX4C,GAAI1E,EAAO+B,WACX4C,SAAU,sBAAMrf,QAAS,kBAAM6B,EAAS,CAAEP,KAAK,aAAcE,QAASkZ,KAAWzV,cAAY,QAAQgF,cAAY,SAAvG,SAAgH,cAAC,IAAD,CAAavK,KAAK,aAC5I4f,UAAY,sBAAMtf,QAAS,WAAQge,EAAUtD,GAASxG,GAAQ,IAAlD,SAA4D,cAAC,IAAD,CAAaxU,KAAK,iBAjC5F,EAAJ,qBAAsC,IAbvB,8BAkDfuR,EAAa,CACXM,QAAS,CACP,CACEpK,MAAO,MACPqK,MAAO,MACPpC,MAAO,KAET,CACEjI,MAAO,WACPqK,MAAO,YAET,CACErK,MAAO,qBACPqK,MAAO,SACPpC,MAAO,KAET,CACEjI,MAAO,0BACPqK,MAAO,WACPpC,MAAO,KAET,CACEjI,MAAO,gCACPqK,MAAO,UACPpC,MAAO,KAET,CACEjI,MAAO,sBACPqK,MAAO,WACPpC,MAAO,KAET,CACEjI,MAAO,uBACPqK,MAAO,WACPpC,MAAO,KAET,CACEjI,MAAO,oBACPqK,MAAO,MAET,CACErK,MAAO,mBACPqK,MAAO,MAET,CACErK,MAAO,kBACPqK,MAAO,MAET,CACErK,MAAO,iBACPqK,MAAO,MAET,CACErK,MAAO,uBACPqK,MAAO,OAET,CACErK,MAAO,sBACPqK,MAAO,OAET,CACErK,MAAO,6BACPqK,MAAO,OAET,CACErK,MAAO,8BACPqK,MAAO,OAET,CACErK,MAAO,0BACPqK,MAAO,MAET,CACErK,MAAO,yBACPqK,MAAO,MAET,CACErK,MAAO,oBACPqK,MAAO,MAET,CACErK,MAAO,qBACPqK,MAAO,MAET,CACErK,MAAO,WACPqK,MAAO,WACPC,KAAO,WACPrC,MAAO,IAET,CACEjI,MAAO,YACPqK,MAAO,YACPC,KAAO,WACPrC,MAAO,KAGXsC,KAAMuM,IAKV1e,EAAM2Q,YAAW,GAxJA,kDA2JnBjP,QAAQsD,IAAR,MA3JmB,0DAAH,qDAoThB,OApJFjE,IAAMkE,WAAU,WAEd,GADAvD,QAAQsD,IAAI0Z,GACTA,EAAQ,CACX,IADW,EACPsB,EAAc,GADP,cAEStB,EAAQA,SAFjB,2BAEDvD,EAFC,QAGLW,EAAY,GAHP,cAIMX,EAAO5G,WAJb,IAIT,IAAI,EAAJ,qBAAgC,CAC9BuH,EAAYA,EADkB,QACJrI,OAAS,KAL5B,8BAOTuM,EAAYpb,KAAK,CACbqB,IAAK6V,EAAUE,OACf9I,SACA,oBAAI1S,UAAU,QAAwB8C,MAAO,CAAC,cAAgB,QAA9D,SAEI6X,EAAO5G,UAAU3O,KAAI,SAACsN,EAAUpN,GAAX,OACnB,gCAAiB,kCAAKoN,EAASO,OAAd,OAA2B0H,EAAO5G,UAAUvR,OAAS,EAAI8C,EAAQ,uBAAQ,KAAhFA,OAHWqV,EAAOhY,IAOlC0b,OAAQ1D,EAAOgB,cACf2C,SAAU3D,EAAOY,eACjBgD,QAAS5D,EAAOiB,yBAChB4C,SAAU7D,EAAOkB,wBACjB4C,SAAU9D,EAAOmB,wBACjB4C,GAAI/D,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,gCAAfA,EAAM9b,QAAwC,GAAGya,SAC7F2C,GAAIhE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,gCAAfA,EAAM9b,QAAwC,GAAG0a,KAC7F2C,GAAIjE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,WAAfA,EAAM9b,QAAmB,GAAGya,SACxE6C,GAAIlE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,WAAfA,EAAM9b,QAAmB,GAAG0a,KACxE6C,IAAKnE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,gBAAfA,EAAM9b,QAAwB,GAAGya,SAC9E+C,IAAKpE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,gBAAfA,EAAM9b,QAAwB,GAAG0a,KAC9E+C,IAAKrE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,qBAAfA,EAAM9b,QAA6B,GAAGya,SACnFiD,IAAKtE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,qBAAfA,EAAM9b,QAA6B,GAAG0a,KACnFiD,GAAIvE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,mBAAfA,EAAM9b,QAA2B,GAAGya,SAChFmD,GAAIxE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,mBAAfA,EAAM9b,QAA2B,GAAG0a,KAChFmD,GAAIzE,EAAO8B,aACX4C,GAAI1E,EAAO+B,WACX4C,SAAU,sBAAMrf,QAAS,kBAAM6B,EAAS,CAAEP,KAAK,aAAcE,QAASkZ,KAAWzV,cAAY,QAAQgF,cAAY,SAAvG,SAAgH,cAAC,IAAD,CAAavK,KAAK,aAC5I4f,UAAY,sBAAMtf,QAAS,WAAQge,EAAUtD,GAASxG,GAAQ,IAAlD,SAA4D,cAAC,IAAD,CAAaxU,KAAK,iBAjChG,IAAI,EAAJ,qBAAqC,IAF1B,8BAwCXuR,EAAa,CACXM,QAAS,CACP,CACEpK,MAAO,MACPqK,MAAO,MACPpC,MAAO,KAET,CACEjI,MAAO,WACPqK,MAAO,YAET,CACErK,MAAO,qBACPqK,MAAO,SACPpC,MAAO,KAET,CACEjI,MAAO,0BACPqK,MAAO,WACPpC,MAAO,KAET,CACEjI,MAAO,gCACPqK,MAAO,UACPpC,MAAO,KAET,CACEjI,MAAO,sBACPqK,MAAO,WACPpC,MAAO,KAET,CACEjI,MAAO,uBACPqK,MAAO,WACPpC,MAAO,KAET,CACEjI,MAAO,oBACPqK,MAAO,MAET,CACErK,MAAO,mBACPqK,MAAO,MAET,CACErK,MAAO,kBACPqK,MAAO,MAET,CACErK,MAAO,iBACPqK,MAAO,MAET,CACErK,MAAO,uBACPqK,MAAO,OAET,CACErK,MAAO,sBACPqK,MAAO,OAET,CACErK,MAAO,6BACPqK,MAAO,OAET,CACErK,MAAO,8BACPqK,MAAO,OAET,CACErK,MAAO,0BACPqK,MAAO,MAET,CACErK,MAAO,yBACPqK,MAAO,MAET,CACErK,MAAO,oBACPqK,MAAO,MAET,CACErK,MAAO,qBACPqK,MAAO,MAET,CACErK,MAAO,WACPqK,MAAO,WACPC,KAAO,WACPrC,MAAO,IAET,CACEjI,MAAO,YACPqK,MAAO,YACPC,KAAO,WACPrC,MAAO,KAGXsC,KAAM6N,OAER,CAACtB,IAGH3d,IAAMkE,WAAU,WACd2Z,MACA,IAGE,sBAAKpe,UAAU,MAAf,UACE,cAAC,IAAD,IAECR,EAAM0Q,QAcL,GAZF,cAAC,KAAD,CACAc,IAAKA,EACLlO,MAAO,CAAC,WAAa,MACrBmH,YAAU,EACV8H,OAAK,EACLC,eAAgB,CAAC,EAAG,GAAI,IACxBC,SAAO,EACPC,YAAa,EACbxO,KAAMuN,EACNkB,QAAM,EACNC,cAAY,EACZE,YAAU,IAIV,eAACmE,GAAA,EAAD,CAAOvC,KAAMA,EAAMwC,OAAQ,kBAAMvC,GAAQ,IAAzC,UACE,cAACsC,GAAA,EAAMzD,OAAP,UACA,cAACyD,GAAA,EAAME,MAAP,6BAEA,eAACF,GAAA,EAAMrD,KAAP,2CAA0CuH,EAAOlV,IAAjD,OACA,eAACgR,GAAA,EAAM9Q,OAAP,WACA,cAAC0K,GAAA,EAAD,CAAQC,QAAQ,UAAUrQ,QAAS,kBAAMkU,GAAQ,IAAjD,mBAGA,cAAC9D,GAAA,EAAD,CAAQC,QAAQ,SAASrQ,QAAS,WAAQke,KAA1C,gC,4ECzYK,SAASsB,GAAYjgB,GAETe,IAAMmf,SAA3B,IACA,EAA8Bnf,IAAM8B,UAAS,GAA7C,mBAAO6N,EAAP,KAAgBC,EAAhB,KAEMwP,EAAa,uCAAG,sBAAA7b,EAAA,iJAGAC,IAAM,CACtBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IANc,kFASlBW,IAAMC,QAAQ,UAAW,CACvBE,SAAU,YACVC,UAAW,IACXC,WAAW,IAGb9E,OAAOC,SAASC,QAAQ,aAfN,gDAkBlBa,QAAQsD,IAAI,KAAIyD,SAASvE,KAAKoB,SAE9BF,IAAMzD,MAAM,KAAI8G,SAASvE,KAAKoB,QAAS,CACrCC,SAAU,YACVC,UAAW,IACXC,WAAW,IAvBK,yDAAH,qDA4BnB,OACE,gCACE,cAAC,IAAD,IACA,eAACiR,GAAA,EAAD,CAAKlW,UAAU,OAAf,UACJ,cAAC6R,GAAA,EAAD,IAGM,cAACA,GAAA,EAAD,CAAKC,GAAG,OAAR,SACE,cAACzB,GAAA,EAAD,CAASrQ,UAAU,kBAAkB4Q,KAAK,UAAU3Q,QAAS,kBAAM0f,KAAnE,SACE,cAAC,IAAD,CAAahgB,KAAK,kBAOtBuQ,EACA,qBAAKlQ,UAAU,gCAAf,SACA,eAAC6R,GAAA,EAAD,CAAKC,GAAG,OAAR,UACA,cAACrB,GAAA,EAAD,CACLC,GAAG,OACHC,UAAU,SACVC,KAAK,KACEN,QAAQ,UACfpJ,KAAK,SACLmD,cAAY,SAPP,SAQW,GACX,cAAC,GAAD,CAAkB6F,QAASA,EAASC,WAAYA,EAAYgE,QAAS3U,EAAM2U,aC5ExE,SAASyL,KAEvB,MAA8Brf,IAAM8B,SAAS,IAA7C,mBAAgBwd,GAAhB,WACA,EAAwBtf,IAAM8B,UAAS,GAAvC,mBAAO6R,EAAP,KAAaC,EAAb,KACA,EAA4B5T,IAAM8B,SAAS,IAA3C,mBAAOsY,EAAP,KACA,GADA,KACgCpa,IAAM8B,SAAS,IAA/C,mBAAOqX,EAAP,KAAiBC,EAAjB,KAEMyE,EAAY,uCAAG,4BAAAta,EAAA,sEAER,oDAFQ,SAGDC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,sDAFQ,OASA,OANbC,EAHa,QASX8C,QACP6Y,EAAW3b,EAAIR,KAAKwa,SAVF,gDAclBhd,QAAQsD,IAAR,MAdkB,yDAAH,qDAkBZ2Z,EAAY,uCAAG,4BAAAra,EAAA,sEAEbG,EAFa,2DAE4C0W,EAAOhY,IAFnD,SAGDoB,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,SACRC,QANgB,OASA,MATA,OASX+C,SACPpC,IAAMC,QAAQ,UAAW,CACxBE,SAAU,YACVC,UAAW,IACXC,WAAW,IAEZ9E,OAAOC,SAASC,QAAQ,aAfN,gDAmBlBuE,IAAMzD,MAAM,KAAI8G,SAASvE,KAAKoB,QAAS,CACtCC,SAAU,YACVC,UAAW,IACXC,WAAW,IAEZkP,GAAQ,GAxBU,yDAAH,qDA4BlB5T,IAAMkE,WAAU,WAGf,OAFAkV,EAAY,KACZyE,IACO,kBAAMzE,EAAY,MACxB,IAMC,OACI,uBAAM3Z,UAAU,UAAhB,UACL,cAAC,KAAD,CAAY6P,MAAM,UAAUP,OAAO,MAAMoK,SAAUA,IAClD,sBAAK1Z,UAAU,sBAAf,UAEC,eAACkW,GAAA,EAAD,WACC,cAACrE,GAAA,EAAD,UACC,oBAAI7R,UAAU,UAAd,mCAED,cAAC6R,GAAA,EAAD,UACC,wBAAQ7R,UAAU,8BAA8BkF,cAAY,QAAQgF,cAAY,SAAS0G,KAAK,UAA9F,SAAwG,cAAC,IAAD,CAAajR,KAAK,gBAI5H,qBAAKK,UAAU,MAAf,SAEC,qBAAKA,UAAU,SAAf,SACC,qBAAKA,UAAU,OAAf,SACC,cAAC,GAAD,CAAOkU,KAAMA,EAAMC,QAASA,UAM/B,qBAAKnU,UAAU,aAAa2C,GAAG,QAAQyH,SAAS,KAAKlD,KAAK,SAASmD,cAAY,OAA/E,SACK,qBAAKrK,UAAU,eAAekH,KAAK,WAAnC,SACC,qBAAKlH,UAAU,gBAAf,SACC,qBAAKA,UAAU,eAAf,SACC,qBAAKA,UAAU,mBAAf,SACC,sBAAKA,UAAU,OAAf,UACC,sBAAKA,UAAU,eAAf,UACC,oBAAIA,UAAU,cAAd,4BACA,wBAAQuB,KAAK,SAASvB,UAAU,YAAYsK,eAAa,QAAQC,aAAW,aAE7E,qBAAKvK,UAAU,YAAf,SACC,cAAC,GAAD,mBASP,qBAAKA,UAAU,aAAa2C,GAAG,QAAQyH,SAAS,KAAKlD,KAAK,SAASmD,cAAY,OAA/E,SACC,qBAAKrK,UAAU,eAAekH,KAAK,WAAnC,SACC,qBAAKlH,UAAU,gBAAf,SACC,qBAAKA,UAAU,eAAf,SACC,qBAAKA,UAAU,mBAAf,SACC,sBAAKA,UAAU,OAAf,UACC,sBAAKA,UAAU,eAAf,UACC,oBAAIA,UAAU,cAAd,6BACA,wBAAQuB,KAAK,SAASvB,UAAU,YAAYsK,eAAa,QAAQC,aAAW,aAE7E,qBAAKvK,UAAU,YAAf,SACC,cAACmd,GAAD,sBAUZ,eAAC1G,GAAA,EAAD,CAAOvC,KAAMA,EAAMwC,OAAQ,kBAAMvC,GAAQ,IAAzC,UACC,cAACsC,GAAA,EAAMzD,OAAP,CAAc8M,aAAW,EAAzB,SACA,cAACrJ,GAAA,EAAME,MAAP,6BAEA,eAACF,GAAA,EAAMrD,KAAP,2CAA0CuH,EAAOlV,IAAjD,OACA,eAACgR,GAAA,EAAM9Q,OAAP,WACA,cAAC0K,GAAA,EAAD,CAAQC,QAAQ,YAAYrQ,QAAS,kBAAMkU,GAAQ,IAAnD,mBAGA,cAAC9D,GAAA,EAAD,CAAQC,QAAQ,UAAUrQ,QAAS,WAAQke,KAA3C,mC,OClJU,SAAS4B,KAEpB,OACI,sBAAM/f,UAAU,qBAAhB,SAEA,qBAAKA,UAAU,+BAAf,SACI,qBAAKA,UAAU,aAAf,SACI,qBAAKA,UAAU,oDAAf,SACI,qBAAKA,UAAU,4BAAf,SAEI,sBAAKA,UAAU,cAAf,UACI,oBAAIA,UAAU,6BAAd,iBACA,mBAAGA,UAAU,KAAb,wCACA,mBAAGA,UAAU,kCAAb,6F,wBCVb,SAASggB,GAAT,GAAqC,IAAnBtgB,EAAkB,EAAlBA,MAAMugB,EAAY,EAAZA,QAAQtd,EAAI,EAAJA,GAE9C,EAAwBpC,IAAM8B,UAAS,GAAvC,mBAAO6R,EAAP,KAAaC,EAAb,KACA,EAAsC5T,IAAM8B,WAA5C,mBAAO6d,EAAP,KAAoBC,EAApB,KAEMC,EAAM,uCAAG,gCAAAtc,EAAA,4DAED,wBAAVpE,IAAkCgE,EAAO,CAAE2c,aAAcH,IAC/C,wBAAVxgB,IAAkCgE,EAAO,CAAEmY,wBAAyBqE,IAC1D,sBAAVxgB,IAAgCgE,EAAO,CAAEoY,wBAAyBoE,IACxD,8BAAVxgB,IAAwCgE,EAAO,CAAE6X,eAAgB2E,IACvD,2CAAVxgB,IAAkDgE,EAAO,CAAEkY,yBAA0BsE,IAN1E,SASPjc,EATO,4DASoDtB,GATpD,SAUKoB,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,MACFP,SAdY,OAUPQ,EAVO,OAiBbhD,QAAQsD,IAAIN,EAAIR,GAEhBkB,IAAMC,QAAQ,UAAW,CACxBE,SAAU,YACVC,UAAW,IACXC,WAAW,IAGZ9E,OAAOC,SAASC,QAAQ,oCAzBX,kDA4Bba,QAAQsD,IAAI,KAAIyD,SAASvE,KAAKoB,SAE9BF,IAAMzD,MAAM,KAAI8G,SAASvE,KAAKoB,QAAS,CACtCC,SAAU,YACVC,UAAW,IACXC,WAAW,IAjCC,0DAAH,qDAsCT,OACF,qCACM,sBAAKjF,UAAU,2BAAf,UACL,cAAC,IAAD,IACS,sBAAKA,UAAU,YAAf,UACR,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,WAAf,SACC,oBAAIA,UAAU,aAAd,SAA4BN,MAG7B,qBAAKM,UAAU,WAAf,SACC,qBAAKA,UAAU,SAAf,SACC,sBAAM8C,MAAO,CAAC,OAAU,WAAY9C,UAAU,eAAeC,QAAS,kBAAMkU,GAAQ,IAApF,SACC,qBAAKnU,UAAU,+CAAf,SACC,cAAC,IAAD,CAAaL,KAAK,oBAOvB,oBAAIK,UAAU,YAAd,SAA2BigB,UAI7B,eAACxJ,GAAA,EAAD,CAAOvC,KAAMA,EAAb,UACM,cAACuC,GAAA,EAAMzD,OAAP,UACE,eAACyD,GAAA,EAAME,MAAP,qCAAkCjX,OAElC,cAAC+W,GAAA,EAAMrD,KAAP,UACL,eAACkN,GAAA,EAAD,WACD,cAACA,GAAA,EAAWC,QAAZ,UACC,cAACD,GAAA,EAAWE,KAAZ,CAAiB1d,MAAO,CAAC2d,gBAAiB,UAAWC,YAAa,WAAlE,uBAED,cAACC,GAAA,EAAD,CAAahe,GAAG,+BAAgCkG,aAAcoX,EAAS3X,SAAW,SAACpI,GAAD,OAAOigB,EAAgC,EAAjBjgB,EAAE2F,OAAO7D,eAG3G,eAACyU,GAAA,EAAM9Q,OAAP,WACA,cAAC0K,GAAA,EAAD,CAAQC,QAAQ,SAASrQ,QAAS,kBAAMkU,GAAQ,IAAhD,mBAGA,cAAC9D,GAAA,EAAD,CAAQC,QAAQ,UAAUrQ,QAAS,WAAQmgB,KAA3C,2B,iBClFJQ,GAAWtd,cAAH,+OAYC,SAASud,KACpB,IAAO1J,EAAe0D,KAAf1D,YAEP,EAA0B5W,IAAM8B,SAAS,IAAzC,mBAAOye,EAAP,KAAcC,EAAd,KACA,EAAgCxgB,IAAM8B,SAAS,GAA/C,mBAAOqX,EAAP,KAAiBC,EAAjB,KAEA,EAAgDnW,0BAClDod,IADgBI,EAAd,EAAQtd,KAAR,EAAwBvC,MAIxBD,QAAQsD,IAAIwc,GAEZ,IAAMC,EAAa,uCAAG,WAAO9J,GAAP,iBAAArT,EAAA,sEAEjBG,EAFiB,4DAEyCkT,EAAY5U,MAAM,EAAE,GAAG2e,eAFhE,SAGLnd,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,QANoB,OAGjBC,EAHiB,OASdhD,QAAQsD,IAAIN,GACrB6c,EAAS7c,EAAIR,KAAKuc,QAAQkB,gBAVH,uDAatBjgB,QAAQsD,IAAI,KAAIyD,SAASvE,KAAKoB,SAbR,kBAcH,IAdG,yDAAH,sDAkCnB,OAhBAvE,IAAMkE,WAAU,WACTuc,GACCA,EAASA,SAAS5b,KAAI,SAAC6a,GAChBA,EAAQ9I,YAAYe,OAASf,EAAY5U,MAAM,EAAE,GAAG2e,eACnDH,EAASd,QAIvB,CAACe,IAEHzgB,IAAMkE,WAAU,WAGZ,OAFAkV,EAAY,KACZsH,EAAc9J,GACP,kBAAMwC,EAAY,MAC3B,CAACxC,IAGC,uBAAMnX,UAAU,UAAhB,UACI,cAAC,KAAD,CAAY6P,MAAM,UAAUP,OAAO,MAAMoK,SAAUA,IAC5D,sBAAK1Z,UAAU,sBAAf,UAEC,qBAAKA,UAAU,OAAf,SACC,qBAAIA,UAAU,2BAAd,6CAAiEmX,OAG1D,sBAAKnX,UAAU,MAAf,UAEQ,qBAAKA,UAAU,QAAf,SACI,cAAC+a,GAAD,MAGR,qBAAK/a,UAAU,QAAf,SACI,sBAAKA,UAAU,MAAf,UACG,cAACggB,GAAD,CAAStgB,MAAM,sBAAsBiD,GAAIme,EAAMne,GAAIsd,QAASa,EAAMjF,0BAClE,cAACmE,GAAD,CAAStgB,MAAM,oBAAoBiD,GAAIme,EAAMne,GAAIsd,QAASa,EAAMhF,0BAChE,cAACkE,GAAD,CAAStgB,MAAM,4BAA4BiD,GAAIme,EAAMne,GAAIsd,QAASa,EAAMvF,iBACxE,cAACyE,GAAD,CAAStgB,MAAM,yCAAsCiD,GAAIme,EAAMne,GAAIsd,QAASa,EAAMlF,mCAjBtG,WC/DY,SAASwF,KAEpB,IAAMtb,EAAqBC,cAC9B,EAA8BxF,IAAM8B,SAAS,IAA7C,mBAAOwU,EAAP,KAAgBC,EAAhB,KACA,EAAwCvW,IAAM8B,SAAS,IAAvD,mBAAO4U,EAAP,KAAqBC,EAArB,KAISM,EAAiB,uCAAG,sCAAA1T,EAAA,sEAEhB,yDAFgB,SAGTC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,2DAFgB,OAGrBC,EAHqB,OAUtBmd,EAAsB,GAVA,cAWDnd,EAAIR,KAAKuT,cAXR,IAW1B,IAAI,EAAJ,qBAAUE,EAAqC,QAC1ChQ,EAAM,CAAEnF,MAAO,CAACmV,EAAYxU,GAAGwU,EAAYe,MAAO9Q,MAAO+P,EAAYlE,OAAO,IAAIkE,EAAYjE,QAChGmO,EAAoBjd,KAAK+C,GAbA,8BAe1B+P,EAAgBmK,GAfU,kDAkB1BngB,QAAQsD,IAAI,KAAIyD,SAASvE,KAAKoB,SAlBJ,0DAAH,qDAsBjBwc,EAAU,uCAAG,sBAAAxd,EAAA,sEAET,qDAFS,SAGFC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,OACRC,IAJQ,qDAKEP,KAAMmT,IAPC,cAUpBjS,IAAMC,QAAQ,UAAW,CACxBE,SAAU,YACVC,UAAW,IACXC,WAAW,IAGZ9E,OAAOC,SAASC,QAAQ,aAhBJ,gDAmBnBa,QAAQsD,IAAI,KAAIyD,SAASvE,KAAKoB,SAnBX,yDAAH,qDA2BhB,OAJHvE,IAAMkE,WAAU,WACf+S,OAIM,gCACL,cAAC,IAAD,IACA,sBAAKxX,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,yBACZ,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAU,QAAf,SACC,cAAC,IAAD,CACC6I,aAAa,UACbC,WAAYhD,EACZvH,QAAS0Y,EACT3O,SAAU,SAACpI,GAAD,OAAO4W,EAAW,2BAAID,GAAL,IAAc0K,eAAgBrhB,EAAE8B,MAAM,GAAIwf,iBAAkBthB,EAAE8B,MAAM,gBAMnG,sBAAKhC,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,6BACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,OAAOvB,UAAU,eAAewI,YAAY,kBACxDF,SAAU,SAACpI,GAAD,OAAO4W,EAAW,2BAAID,GAAL,IAAc5D,OAAQ/S,EAAE2F,OAAO7D,iBAI5D,sBAAKhC,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,0BACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,OAAOvB,UAAU,eAAewI,YAAY,eACxDF,SAAU,SAACpI,GAAD,OAAO4W,EAAW,2BAAID,GAAL,IAAc3D,OAAQhT,EAAE2F,OAAO7D,iBAM5D,qBAAKhC,UAAU,WAAf,SACC,qBAAKA,UAAU,WAAf,SACC,sBAAOA,UAAU,kBAAkBC,QAAS,kBAAMqhB,KAAlD,2BC/FU,SAASG,KAEpB,MAAsClhB,IAAM8B,SAAS,IAArD,mBAAOqf,EAAP,KAAoBC,EAApB,KAEO9K,EAAWgE,KAAXhE,QAGD+K,EAAa,uCAAG,4BAAA9d,EAAA,sEAEjBG,EAFiB,4DAE0C4S,EAAQlU,IAFlD,SAGLoB,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,MACFP,KAAMge,IAPgB,cAUvB9c,IAAMC,QAAQ,UAAW,CACxBE,SAAU,YACVC,UAAW,IACXC,WAAW,IAGZ9E,OAAOC,SAASC,QAAQ,aAhBD,gDAmBvBa,QAAQsD,IAAI,KAAIyD,SAASvE,KAAKoB,SAE9BF,IAAMzD,MAAM,KAAI8G,SAASvE,KAAKoB,QAAS,CACtCC,SAAU,YACVC,UAAW,IACXC,WAAW,IAxBW,yDAAH,qDA6BnB,OACI,gCACL,cAAC,IAAD,IAEA,sBAAKjF,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,6BACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,OAAOvB,UAAU,eAAewI,YAAY,kBAAkBK,aAAcgO,EAAUA,EAAQ5D,OAAQ,GAClH3K,SAAU,SAACpI,GAAD,OAAOyhB,EAAe,2BAAI9K,GAAL,IAAc5D,OAAQ/S,EAAE2F,OAAO7D,iBAIhE,sBAAKhC,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,0BACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,OAAOvB,UAAU,eAAewI,YAAY,eAAeK,aAAcgO,EAAUA,EAAQ3D,OAAS,GAChH5K,SAAU,SAACpI,GAAD,OAAOyhB,EAAe,2BAAI9K,GAAL,IAAc3D,OAAQhT,EAAE2F,OAAO7D,iBAIhE,qBAAKhC,UAAU,WAAf,SACC,qBAAKA,UAAU,WAAf,SACC,sBAAOA,UAAU,kBAAkBC,QAAS,kBAAM2hB,KAAlD,2BCnDL,IAAMC,GAAWve,cAAH,wJAsOCwe,GA3NMvhB,IAAMwQ,YAAW,SAACvR,EAAOwR,GAE5C,MAAkCzQ,IAAM8B,SAAS,IAAjD,mBAAO4O,EAAP,KAAkBC,EAAlB,KACA,EAAwB3Q,IAAM8B,UAAS,GAAvC,mBAAO6R,EAAP,KAAaC,EAAb,KACMrS,EAAWgZ,KACjB,EAA8Bva,IAAM8B,SAAS,IAA7C,mBAAOwU,EAAP,KAAgBC,EAAhB,KACA,EAA8BvW,IAAM8B,UAAS,GAA7C,mBAAO6N,EAAP,KAAgBC,EAAhB,KAEA,EAAoD3M,0BACpDqe,IADcE,EAAd,EAAQre,KAIFse,GAJN,EAA4B7gB,MAIT,uCAAG,4BAAA2C,EAAA,sEAEfG,EAFe,4DAE2C4S,EAAQlU,IAFnD,SAGHoB,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,SACRC,QANkB,OASF,MATE,OASb+C,SACPpC,IAAMC,QAAQ,UAAW,CACxBE,SAAU,YACVC,UAAW,IACXC,WAAW,IAEZ9E,OAAOC,SAASC,QAAQ,cAfJ,gDAmBpBuE,IAAMzD,MAAM,KAAI8G,SAASvE,KAAKoB,QAAS,CACtCC,SAAU,YACVC,UAAW,IACXC,WAAW,IAEZkP,GAAQ,GAxBY,yDAAH,sDA4Bb8N,EAAa,uCAAG,oCAAAne,EAAA,sEAGV,qDAHU,SAIHC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,uDAHU,OAUrB,GAAmB,OANbC,EAJe,QAUb8C,OAAgB,CACvB9F,QAAQsD,IAAIN,EAAIR,KAAK2T,UAEbA,EAAW,GAHI,cAIEnT,EAAIR,KAAK2T,UAJX,IAInB,IAJmB,iBAITR,EAJS,QAKjBQ,EAASjT,KAAK,CACV8T,KAAMrB,EAAQqB,KACdf,YAAaN,EAAQM,YAAYlE,OACjCA,OAAQ4D,EAAQ5D,OAChBC,OAAQ2D,EAAQ3D,OAChBoM,SAAU,sBAAMrf,QAAS,kBAAM6B,EAAS,CAAEP,KAAK,cAAeE,QAASoV,KAAY3R,cAAY,QAAQgF,cAAY,SAAzG,SAAkH,cAAC,IAAD,CAAavK,KAAK,aAC9I4f,UAAY,sBAAMtf,QAAS,WAAQ6W,EAAWD,GAAU1C,GAAQ,IAApD,SAA8D,cAAC,IAAD,CAAaxU,KAAK,iBAP9F,EAAJ,qBAAwC,IAJrB,8BAenBuR,EAAa,CACXM,QAAS,CACP,CACEpK,MAAO,OACPqK,MAAO,OACPyQ,WAAY,CACV,gBAAiB,YACjB,aAAc,SAGlB,CACE9a,MAAO,cACPqK,MAAO,eAET,CACErK,MAAO,kBACPqK,MAAO,UAET,CACErK,MAAO,eACPqK,MAAO,UAET,CACIrK,MAAO,WACPqK,MAAO,WACPC,KAAO,WACPrC,MAAO,KAEX,CACIjI,MAAO,YACPqK,MAAO,YACPC,KAAO,WACPrC,MAAO,MAGbsC,KAAM0F,IAIVlH,GAAW,GAhEO,gDAmEpBjP,QAAQsD,IAAI,KAAIyD,SAASvE,KAAKoB,SAnEV,yDAAH,qDAkIjB,OA3DFvE,IAAMkE,WAAU,WACd,GAAGsd,EAAc,CACf,IADe,EACX1K,EAAW,GADA,cAEQ0K,EAAa1K,UAFrB,yBAEHR,EAFG,QAGXQ,EAASjT,KAAK,CACV8T,KAAMrB,EAAQqB,KACdf,YAAaN,EAAQM,YAAYlE,OACjCA,OAAQ4D,EAAQ5D,OAChBC,OAAQ2D,EAAQ3D,OAChBoM,SAAU,sBAAMrf,QAAS,kBAAM6B,EAAS,CAAEP,KAAK,cAAeE,QAASoV,KAAY3R,cAAY,QAAQgF,cAAY,SAAzG,SAAkH,cAAC,IAAD,CAAavK,KAAK,aAC9I4f,UAAY,sBAAMtf,QAAS,WAAQ6W,EAAWD,GAAU1C,GAAQ,IAApD,SAA8D,cAAC,IAAD,CAAaxU,KAAK,iBAPlG,IAAI,EAAJ,qBAA4C,IAF/B,8BAabuR,EAAa,CACXM,QAAS,CACP,CACEpK,MAAO,OACPqK,MAAO,OACPyQ,WAAY,CACV,gBAAiB,YACjB,aAAc,SAGlB,CACE9a,MAAO,cACPqK,MAAO,eAET,CACErK,MAAO,kBACPqK,MAAO,UAET,CACErK,MAAO,eACPqK,MAAO,UAET,CACIrK,MAAO,WACPqK,MAAO,WACPC,KAAO,WACPrC,MAAO,KAEX,CACIjI,MAAO,YACPqK,MAAO,YACPC,KAAO,WACPrC,MAAO,MAGbsC,KAAM0F,OAGZ,CAAC0K,IAEHxhB,IAAMkE,WAAU,WACdwd,MACA,IAIE,qCACA,cAAC,IAAD,IACE,qBAAKjiB,UAAU,MAAf,SAGIkQ,EACA,qBAAKlQ,UAAU,gCAAf,SACA,eAAC6R,GAAA,EAAD,CAAKC,GAAG,OAAR,UACA,cAACrB,GAAA,EAAD,CACLC,GAAG,OACHC,UAAU,SACVC,KAAK,KACEN,QAAQ,UACfpJ,KAAK,SACLmD,cAAY,SAPP,SASA,cAAC,KAAD,CACA2G,IAAKA,EACLlO,MAAO,CAAC,WAAa,MACrBmH,YAAU,EACV8H,OAAK,EACLC,eAAgB,CAAC,EAAG,GAAI,IACxBC,SAAO,EACPC,YAAa,EACbxO,KAAMuN,EACNkB,QAAM,EACNC,cAAY,EACZE,YAAU,MAGd,eAACmE,GAAA,EAAD,CAAOvC,KAAMA,EAAMwC,OAAQ,kBAAMvC,GAAQ,IAAzC,UACE,cAACsC,GAAA,EAAMzD,OAAP,UACA,cAACyD,GAAA,EAAME,MAAP,6BAEA,eAACF,GAAA,EAAMrD,KAAP,2CAA0CyD,EAAQ5D,OAAlD,OACA,eAACwD,GAAA,EAAM9Q,OAAP,WACA,cAAC0K,GAAA,EAAD,CAAQC,QAAQ,SAASrQ,QAAS,kBAAMkU,GAAQ,IAAhD,mBAGA,cAAC9D,GAAA,EAAD,CAAQC,QAAQ,UAAUrQ,QAAS,WAAQ+hB,KAA3C,sCCzLOG,OA1BjB,WACE,IAAMC,EAAe7hB,IAAMmf,SACvB,OACE,gCACE,eAACxJ,GAAA,EAAD,CAAKlW,UAAU,OAAf,UACJ,cAAC6R,GAAA,EAAD,IAEA,cAACA,GAAA,EAAD,CAAKC,GAAG,OAAR,SACQ,cAACzB,GAAA,EAAD,CAASrQ,UAAU,kBAAkB4Q,KAAK,UAAU1L,cAAY,QAAQgF,cAAY,uBAApF,SACN,mBAAGlK,UAAU,oBAGf,cAAC6R,GAAA,EAAD,CAAKkI,IAAE,EAACsI,GAAG,IAAX,SACM,cAAC,KAAD,CACEC,QAAS,kBAAM,wBAAQtiB,UAAU,uBAAuB4Q,KAAK,UAA9C,SAAwD,cAAC,IAAD,CAAajR,KAAK,eACzF4iB,QAAS,kBAAMH,EAAaI,SAC5B1f,MAjCC,4MAsCL,cAAC,GAAD,CAAmBkO,IAAKoR,QCtCnB,SAASK,KACvB,MAAgCliB,IAAM8B,SAAS,GAA/C,mBAAOqX,EAAP,KAAiBC,EAAjB,KAOG,OALHpZ,IAAMkE,WAAU,WAEf,OADAkV,EAAY,KACL,kBAAMA,EAAY,MACxB,IAGK,uBAAM3Z,UAAU,UAAhB,UACL,cAAC,KAAD,CAAY6P,MAAM,UAAUP,OAAO,MAAMoK,SAAUA,IAClD,sBAAK1Z,UAAU,sBAAf,UAEC,oBAAIA,UAAU,UAAd,kCAEA,qBAAKA,UAAU,MAAf,SAEC,qBAAKA,UAAU,SAAf,SACC,qBAAKA,UAAU,OAAf,SACC,cAAC,GAAD,UAMH,qBAAKA,UAAU,aAAa2C,GAAG,sBAAsByH,SAAS,KAAKlD,KAAK,SAASmD,cAAY,OAA7F,SACK,qBAAKrK,UAAU,eAAekH,KAAK,WAAnC,SACC,qBAAKlH,UAAU,gBAAf,SACC,qBAAKA,UAAU,eAAf,SACC,qBAAKA,UAAU,mBAAf,SACC,sBAAKA,UAAU,OAAf,UACC,sBAAKA,UAAU,eAAf,UACC,oBAAIA,UAAU,cAAd,iCACA,wBAAQuB,KAAK,SAASvB,UAAU,YAAYsK,eAAa,QAAQC,aAAW,aAE7E,qBAAKvK,UAAU,YAAf,SACC,cAACohB,GAAD,mBASP,qBAAKphB,UAAU,aAAa2C,GAAG,QAAQyH,SAAS,KAAKlD,KAAK,SAASmD,cAAY,OAA/E,SACC,qBAAKrK,UAAU,eAAekH,KAAK,WAAnC,SACC,qBAAKlH,UAAU,gBAAf,SACC,qBAAKA,UAAU,eAAf,SACC,qBAAKA,UAAU,mBAAf,SACC,sBAAKA,UAAU,OAAf,UACC,sBAAKA,UAAU,eAAf,UACC,oBAAIA,UAAU,cAAd,iCACA,wBAAQuB,KAAK,SAASvB,UAAU,YAAYsK,eAAa,QAAQC,aAAW,aAE7E,qBAAKvK,UAAU,YAAf,SACC,cAACyhB,GAAD,yBClDhB,IAiPeiB,GAjPWniB,IAAMwQ,YAAW,SAACvR,EAAOwR,GAEjD,MAAkCzQ,IAAM8B,SAAS,IAAjD,mBAAO4O,EAAP,KAAkBC,EAAlB,KACA,EAA8B3Q,IAAM8B,UAAS,GAA7C,mBAAO6N,EAAP,KAAgBC,EAAhB,KAEA,EAA4B5P,IAAM8B,SAAS,IAA3C,mBAAOsY,EAAP,KAAesD,EAAf,KACA,EAAwB1d,IAAM8B,UAAS,GAAvC,mBAAO6R,EAAP,KAAaC,EAAb,KAEMwO,EAAU,uCAAG,4BAAA7e,EAAA,sEAEXG,EAFW,2DAE8C0W,EAAOhY,IAFrD,SAGDoB,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eAC1D8F,OAAQ,MACRC,MACGP,KAAM,CAAEkf,SAAU,CAACA,UAAU,MAPd,cAUjBhe,IAAMC,QAAQ,UAAW,CACrBE,SAAU,YACVC,UAAW,IACXC,WAAW,IAGf9E,OAAOC,SAASC,QAAQ,aAhBP,gDAmBba,QAAQsD,IAAR,MACAI,IAAMzD,MAAM,KAAI8G,SAASvE,KAAKoB,QAAS,CACnCC,SAAU,YACVC,UAAW,IACXC,WAAW,IAvBF,yDAAH,qDA6BRmZ,EAAY,uCAAG,oCAAAta,EAAA,sEAEZ,oDAFY,SAGLC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eAC1D8F,OAAQ,MACRC,IAJU,sDAFY,OAGjBC,EAHiB,OASbga,EAAU,GATG,cAUGha,EAAIR,KAAKwa,SAVZ,IAUjB,IAViB,iBAUPvD,EAVO,QAYjB,IAAuB,IAApBA,EAAOiI,SAAkB,CAC1B,IAD0B,EACtBtH,EAAY,GADU,cAEXX,EAAO5G,WAFI,IAE1B,IAAI,EAAJ,qBAAgC,CAC9BuH,EAAYA,EADkB,QACJrI,OAAS,KAHX,8BAK1BiL,EAAQ9Z,KAAK,CACXqB,IAAK6V,EAAUE,OACf9I,SACA,oBAAI1S,UAAU,QAAwB8C,MAAO,CAAC,cAAgB,QAA9D,SAEI6X,EAAO5G,UAAU3O,KAAI,SAACsN,EAAUpN,GAAX,OACnB,gCAAiB,kCAAKoN,EAASO,OAAd,OAA2B0H,EAAO5G,UAAUvR,OAAS,EAAI8C,EAAQ,uBAAQ,KAAhFA,OAHWqV,EAAOhY,IAOlC0b,OAAQ1D,EAAOgB,cACf2C,SAAU3D,EAAOY,eACjBgD,QAAS5D,EAAOiB,yBAChB4C,SAAU7D,EAAOkB,wBACjB4C,SAAU9D,EAAOmB,wBACjB4C,GAAI/D,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,gCAAfA,EAAM9b,QAAwC,GAAGya,SAC7F2C,GAAIhE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,gCAAfA,EAAM9b,QAAwC,GAAG0a,KAC7F2C,GAAIjE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,WAAfA,EAAM9b,QAAmB,GAAGya,SACxE6C,GAAIlE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,WAAfA,EAAM9b,QAAmB,GAAG0a,KACxE6C,IAAKnE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,gBAAfA,EAAM9b,QAAwB,GAAGya,SAC9E+C,IAAKpE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,gBAAfA,EAAM9b,QAAwB,GAAG0a,KAC9E+C,IAAKrE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,qBAAfA,EAAM9b,QAA6B,GAAGya,SACnFiD,IAAKtE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,qBAAfA,EAAM9b,QAA6B,GAAG0a,KACnFiD,GAAIvE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,mBAAfA,EAAM9b,QAA2B,GAAGya,SAChFmD,GAAIxE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,mBAAfA,EAAM9b,QAA2B,GAAG0a,KAChFmD,GAAIzE,EAAO8B,aACX4C,GAAI1E,EAAO+B,WACTpb,OAAS,sBAAMrB,QAAS,WAAQge,EAAUtD,GAASxG,GAAQ,IAAlD,SAA4D,cAAC,IAAD,CAAaxU,KAAK,aAGzFuB,QAAQsD,OArCR,EAAJ,qBAAsC,IAVrB,8BAkDjB0M,EAAa,CACXM,QAAS,CACP,CACEpK,MAAO,MACPqK,MAAO,MACPpC,MAAO,KAET,CACEjI,MAAO,WACPqK,MAAO,YAET,CACErK,MAAO,qBACPqK,MAAO,SACPpC,MAAO,KAET,CACEjI,MAAO,0BACPqK,MAAO,WACPpC,MAAO,KAET,CACEjI,MAAO,gCACPqK,MAAO,UACPpC,MAAO,KAET,CACEjI,MAAO,sBACPqK,MAAO,WACPpC,MAAO,KAET,CACEjI,MAAO,uBACPqK,MAAO,WACPpC,MAAO,KAET,CACEjI,MAAO,oBACPqK,MAAO,MAET,CACErK,MAAO,mBACPqK,MAAO,MAET,CACErK,MAAO,kBACPqK,MAAO,MAET,CACErK,MAAO,iBACPqK,MAAO,MAET,CACErK,MAAO,uBACPqK,MAAO,OAET,CACErK,MAAO,sBACPqK,MAAO,OAET,CACErK,MAAO,6BACPqK,MAAO,OAET,CACErK,MAAO,8BACPqK,MAAO,OAET,CACErK,MAAO,0BACPqK,MAAO,MAET,CACErK,MAAO,yBACPqK,MAAO,MAET,CACErK,MAAO,oBACPqK,MAAO,MAET,CACErK,MAAO,qBACPqK,MAAO,MAET,CACErK,MAAO,SACPqK,MAAO,SACPC,KAAO,WACPrC,MAAO,KAGXsC,KAAMuM,IAER/N,GAAW,GACXjP,QAAQsD,IAAIyM,GAhJK,kDAmJtB/P,QAAQsD,IAAR,MAnJsB,0DAAH,qDA4JlB,OAJFjE,IAAMkE,WAAU,WACd2Z,MACA,IAGE,sBAAKpe,UAAU,MAAf,UACE,cAAC,IAAD,IAEIkQ,EACA,qBAAKlQ,UAAU,gCAAf,SACA,eAAC6R,GAAA,EAAD,CAAKC,GAAG,OAAR,UACA,cAACrB,GAAA,EAAD,CACLC,GAAG,OACHC,UAAU,SACVC,KAAK,KACEN,QAAQ,UACfpJ,KAAK,SACLmD,cAAY,SAPP,SASA,cAAC,KAAD,CACA2G,IAAKA,EACLlO,MAAO,CAAC,WAAa,MACrBmH,YAAU,EACV8H,OAAK,EACLC,eAAgB,CAAC,EAAG,GAAI,IACxBC,SAAO,EACPC,YAAa,EACbxO,KAAMuN,EACNkB,QAAM,EACNC,cAAY,EACZE,YAAU,IAId,eAACmE,GAAA,EAAD,CAAOvC,KAAMA,EAAMwC,OAAQ,kBAAMvC,GAAQ,IAAzC,UACE,cAACsC,GAAA,EAAMzD,OAAP,UACA,cAACyD,GAAA,EAAME,MAAP,6BAEA,eAACF,GAAA,EAAMrD,KAAP,yCAAwCuH,EAAOhY,GAA/C,0BACA,eAAC8T,GAAA,EAAM9Q,OAAP,WACA,cAAC0K,GAAA,EAAD,CAAQC,QAAQ,SAASrQ,QAAS,kBAAMkU,GAAQ,IAAhD,mBAGA,cAAC9D,GAAA,EAAD,CAAQC,QAAQ,UAAUrQ,QAAS,kBAAM0iB,KAAzC,8BC7LKE,OA5Bf,WAEE,IAAMT,EAAe7hB,IAAMmf,SAGvB,OACE,gCACI,eAACxJ,GAAA,EAAD,CAAKlW,UAAU,OAAf,UACA,cAAC6R,GAAA,EAAD,IAET,cAACA,GAAA,EAAD,CAAKC,GAAG,SAGK,cAACD,GAAA,EAAD,CAAKC,GAAG,OAAR,SACE,cAAC,KAAD,CACEwQ,QAAS,kBAAM,wBAAQtiB,UAAU,uBAAuB4Q,KAAK,UAA9C,SAAwD,cAAC,IAAD,CAAajR,KAAK,eACzF4iB,QAAS,kBAAMH,EAAaI,SAC5B1f,MAnCL,4MAwCL,cAAC,GAAD,CAAkBkO,IAAKoR,QCkNlBU,GAvPaviB,IAAMwQ,YAAW,SAACvR,EAAOwR,GAEnD,MAAkCzQ,IAAM8B,SAAS,IAAjD,mBAAO4O,EAAP,KAAkBC,EAAlB,KACA,EAA8B3Q,IAAM8B,UAAS,GAA7C,mBAAO6N,EAAP,KAAgBC,EAAhB,KAEA,EAA4B5P,IAAM8B,SAAS,IAA3C,mBAAOsY,EAAP,KAAesD,EAAf,KACA,EAAwB1d,IAAM8B,UAAS,GAAvC,mBAAO6R,EAAP,KAAaC,EAAb,KAEMyO,EAAQ,uCAAG,8BAAA9e,EAAA,sEAETG,EAFS,2DAEgD0W,EAAOhY,IAFvD,SAGCoB,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eAC1D8F,OAAQ,MACRC,MACGP,KAAO,CAAEkf,SAAU,CAACA,UAAU,MAPjB,OAGX1e,EAHW,OAUXhD,QAAQsD,IAAIN,GAEZU,IAAMC,QAAQ,UAAW,CACrBE,SAAU,YACVC,UAAW,IACXC,WAAW,IAGf9E,OAAOC,SAASC,QAAQ,aAlBb,kDAqBXa,QAAQsD,IAAR,MAEAI,IAAMzD,MAAM,KAAI8G,SAASvE,KAAKoB,QAAS,CACnCC,SAAU,YACVC,UAAW,IACXC,WAAW,IA1BJ,0DAAH,qDAgCRmZ,EAAY,uCAAG,oCAAAta,EAAA,sEAET,oDAFS,SAGFC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACzD8F,OAAQ,MACRC,IAJS,sDAFS,OAGdC,EAHc,OAUnBhD,QAAQsD,IAAIN,EAAIR,KAAKwa,SAEbA,EAAU,GAZC,cAaKha,EAAIR,KAAKwa,SAbd,IAaf,IAbe,iBAaLvD,EAbK,QAef,IAAuB,IAApBA,EAAOiI,SAAmB,CAC3B,IAD2B,EACvBtH,EAAY,GADW,cAEZX,EAAO5G,WAFK,IAE3B,IAAI,EAAJ,qBAAgC,CAC9BuH,EAAYA,EADkB,QACJrI,OAAS,KAHV,8BAK3BiL,EAAQ9Z,KAAK,CACTqB,IAAK6V,EAAUE,OACf9I,SACA,oBAAI1S,UAAU,QAAwB8C,MAAO,CAAC,cAAgB,QAA9D,SAEI6X,EAAO5G,UAAU3O,KAAI,SAACsN,EAAUpN,GAAX,OACnB,gCAAiB,kCAAKoN,EAASO,OAAd,OAA2B0H,EAAO5G,UAAUvR,OAAS,EAAI8C,EAAQ,uBAAQ,KAAhFA,OAHWqV,EAAOhY,IAOlC0b,OAAQ1D,EAAOgB,cACf2C,SAAU3D,EAAOY,eACjBgD,QAAS5D,EAAOiB,yBAChB4C,SAAU7D,EAAOkB,wBACjB4C,SAAU9D,EAAOmB,wBACjB4C,GAAI/D,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,gCAAfA,EAAM9b,QAAwC,GAAGya,SAC7F2C,GAAIhE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,gCAAfA,EAAM9b,QAAwC,GAAG0a,KAC7F2C,GAAIjE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,WAAfA,EAAM9b,QAAmB,GAAGya,SACxE6C,GAAIlE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,WAAfA,EAAM9b,QAAmB,GAAG0a,KACxE6C,IAAKnE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,gBAAfA,EAAM9b,QAAwB,GAAGya,SAC9E+C,IAAKpE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,gBAAfA,EAAM9b,QAAwB,GAAG0a,KAC9E+C,IAAKrE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,qBAAfA,EAAM9b,QAA6B,GAAGya,SACnFiD,IAAKtE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,qBAAfA,EAAM9b,QAA6B,GAAG0a,KACnFiD,GAAIvE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,mBAAfA,EAAM9b,QAA2B,GAAGya,SAChFmD,GAAIxE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,mBAAfA,EAAM9b,QAA2B,GAAG0a,KAChFmD,GAAIzE,EAAO8B,aACX4C,GAAI1E,EAAO+B,WACXpb,OAAS,sBAAMrB,QAAS,WAAQge,EAAUtD,GAASxG,GAAQ,IAAlD,SAA4D,cAAC,IAAD,CAAaxU,KAAK,eAlCzF,EAAJ,qBAAsC,IAbvB,8BAoDfuR,EAAa,CACXM,QAAS,CACP,CACEpK,MAAO,MACPqK,MAAO,MACPpC,MAAO,KAET,CACEjI,MAAO,WACPqK,MAAO,YAET,CACErK,MAAO,qBACPqK,MAAO,SACPpC,MAAO,KAET,CACEjI,MAAO,0BACPqK,MAAO,WACPpC,MAAO,KAET,CACEjI,MAAO,gCACPqK,MAAO,UACPpC,MAAO,KAET,CACEjI,MAAO,sBACPqK,MAAO,WACPpC,MAAO,KAET,CACEjI,MAAO,uBACPqK,MAAO,WACPpC,MAAO,KAET,CACEjI,MAAO,oBACPqK,MAAO,MAET,CACErK,MAAO,mBACPqK,MAAO,MAET,CACErK,MAAO,kBACPqK,MAAO,MAET,CACErK,MAAO,iBACPqK,MAAO,MAET,CACErK,MAAO,uBACPqK,MAAO,OAET,CACErK,MAAO,sBACPqK,MAAO,OAET,CACErK,MAAO,6BACPqK,MAAO,OAET,CACErK,MAAO,8BACPqK,MAAO,OAET,CACErK,MAAO,0BACPqK,MAAO,MAET,CACErK,MAAO,yBACPqK,MAAO,MAET,CACErK,MAAO,oBACPqK,MAAO,MAET,CACErK,MAAO,qBACPqK,MAAO,MAET,CACErK,MAAO,SACPqK,MAAO,SACPC,KAAO,WACPrC,MAAO,KAIXsC,KAAMuM,IAGR/N,GAAW,GAnJI,kDAsJnBjP,QAAQsD,IAAR,MAtJmB,0DAAH,qDAgKhB,OAJFjE,IAAMkE,WAAU,WACd2Z,MACA,IAGE,sBAAKpe,UAAU,MAAf,UACE,cAAC,IAAD,IAEIkQ,EACA,qBAAKlQ,UAAU,gCAAf,SACA,eAAC6R,GAAA,EAAD,CAAKC,GAAG,OAAR,UACA,cAACrB,GAAA,EAAD,CACLC,GAAG,OACHC,UAAU,SACVC,KAAK,KACEN,QAAQ,UACfpJ,KAAK,SACLmD,cAAY,SAPP,SASA,cAAC,KAAD,CACA2G,IAAKA,EACLlO,MAAO,CAAC,WAAa,MACrBmH,YAAU,EACV8H,OAAK,EACLC,eAAgB,CAAC,EAAG,GAAI,IACxBC,SAAO,EACPC,YAAa,EACbxO,KAAMuN,EACNkB,QAAM,EACNC,cAAY,EACZE,YAAU,IAGd,eAACmE,GAAA,EAAD,CAAOvC,KAAMA,EAAMwC,OAAQ,kBAAMvC,GAAQ,IAAzC,UACE,cAACsC,GAAA,EAAMzD,OAAP,UACA,cAACyD,GAAA,EAAME,MAAP,6BAEA,eAACF,GAAA,EAAMrD,KAAP,yCAAwCuH,EAAOhY,GAA/C,wBACA,eAAC8T,GAAA,EAAM9Q,OAAP,WACA,cAAC0K,GAAA,EAAD,CAAQC,QAAQ,SAASrQ,QAAS,kBAAMkU,GAAQ,IAAhD,mBAGA,cAAC9D,GAAA,EAAD,CAAQC,QAAQ,UAAUrQ,QAAS,kBAAM2iB,KAAzC,8BClMKG,OA7Bf,WAEE,IAAMX,EAAe7hB,IAAMmf,SAEvB,OACE,gCACE,cAAC,IAAD,IACA,eAACxJ,GAAA,EAAD,CAAKlW,UAAU,OAAf,UACP,cAAC6R,GAAA,EAAD,IAEA,cAACA,GAAA,EAAD,CAAKC,GAAG,SAID,cAACD,GAAA,EAAD,CAAKC,GAAG,OAAR,SACE,cAAC,KAAD,CACIwQ,QAAS,kBAAM,wBAAQtiB,UAAU,uBAAuB4Q,KAAK,UAA9C,SAAwD,cAAC,IAAD,CAAajR,KAAK,eACzF4iB,QAAS,kBAAMH,EAAaI,SAC5B1f,MApCD,4MAyCL,cAAC,GAAD,CAAkBkO,IAAKoR,QCvClB,SAASY,KACpB,MAAgCziB,IAAM8B,SAAS,GAA/C,mBAAOqX,EAAP,KAAiBC,EAAjB,KAOA,OALApZ,IAAMkE,WAAU,WAElB,OADAkV,EAAY,KACL,kBAAMA,EAAY,MACxB,IAGC,uBAAM3Z,UAAU,UAAhB,UACI,cAAC,KAAD,CAAY6P,MAAM,UAAUP,OAAO,MAAMoK,SAAUA,IACnD,sBAAK1Z,UAAU,sBAAf,UAEI,oBAAIA,UAAU,UAAd,iCAEA,sBAAKA,UAAU,MAAf,UACI,qBAAKA,UAAU,QAAf,SACI,sBAAKA,UAAU,OAAf,UACI,qBAAKA,UAAU,cAAf,SACI,oBAAIA,UAAU,aAAd,8CAEJ,cAAC,GAAD,SAIR,qBAAKA,UAAU,QAAf,SACI,sBAAKA,UAAU,OAAf,UACI,qBAAKA,UAAU,cAAf,SACI,oBAAIA,UAAU,aAAd,kDAEJ,cAAC,GAAD,kB,cCjCT,SAASijB,GAAT,GAAkC,IAAf7Z,EAAc,EAAdA,KAAK8Z,EAAS,EAATA,IAAIvgB,EAAK,EAALA,GAE1C,EAAoCpC,IAAM8B,SAAN,0DAAkE6gB,IAAtG,mBAAOhU,EAAP,KAAoBC,EAApB,KACA,EAAsB5O,IAAM8B,SAAS,MAArC,mBAAOoD,EAAP,KAAY0d,EAAZ,KAMA,IAAMC,EAAc,uCAAG,8BAAAtf,EAAA,6DAEV2K,EAAO,IAAIC,SAEbjJ,GAAMgJ,EAAKE,OAAO,MAAOlJ,QACqB9E,IAA9CiO,SAASC,eAAe,SAASC,MAAM,IAAmBL,EAAKE,OAAO,QAASC,SAASC,eAAe,SAASC,MAAM,IAL1G,SAQN7K,EARM,6DAQsDtB,GARtD,SAUMoB,IAAM,CACpBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACpE8F,OAAQ,MACRC,MACUP,KAAM+K,IAdE,cAiBZ7J,IAAMC,QAAQ,UAAW,CACjCE,SAAU,YACVC,UAAW,IACXC,WAAW,IAGZ9E,OAAOC,SAASC,QAAQ,cAvBH,kDA0BZa,QAAQsD,IAAI,KAAIyD,SAASvE,KAAKoB,SAC9BF,IAAMzD,MAAM,KAAI8G,SAASvE,KAAKoB,QAAS,CAC/CC,SAAU,YACVC,UAAW,IACXC,WAAW,IA9BS,0DAAH,qDAmCdoe,EAAc,uCAAG,4BAAAvf,EAAA,sEAGNG,EAHM,6DAGsDtB,GAHtD,SAKMoB,IAAM,CACpBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACpE8F,OAAQ,SACRC,QARkB,cAWZW,IAAMC,QAAQ,UAAW,CACjCE,SAAU,YACVC,UAAW,IACXC,WAAW,IAGZ9E,OAAOC,SAASC,QAAQ,cAjBH,gDAoBZa,QAAQsD,IAAI,KAAIyD,SAASvE,KAAKoB,SAC9BF,IAAMC,QAAQ,KAAIoD,SAASvE,KAAKoB,QAAS,CACjDC,SAAU,YACVC,UAAW,IACXC,WAAW,IAxBS,yDAAH,qDA6BpB,EAAwB1E,IAAM8B,UAAS,GAAvC,mBAAO6R,EAAP,KAAaC,EAAb,KACA,EAA0B5T,IAAM8B,UAAS,GAAzC,mBAAOihB,EAAP,KAAcC,EAAd,KAEG,OACS,sBAAKvjB,UAAU,2BAAf,UACR,cAAC,IAAD,IACE,sBAAKA,UAAU,OAAf,UAEC,qBAAKA,UAAU,eAAe4C,IAAG,0DAAqDsgB,GAAOrgB,IAAI,QAAQC,MAAO,CAAC,OAAU,WAE3H,qBAAK9C,UAAU,wBAAf,SACC,oBAAIA,UAAU,QAAd,SAAuBoJ,MAGxB,qBAAKpJ,UAAU,sBAAf,SACA,sBAAKA,UAAU,0BAAf,UACJ,8BACC,sBAAOA,UAAU,sBAAsBC,QAAS,kBAAMsjB,GAAS,IAA/D,SAAsE,cAAC,IAAD,CAAa5jB,KAAK,gBAEzF,8BACA,sBAAOK,UAAU,mBAAmBC,QAAS,WAASkU,GAAQ,IAA9D,SAAwE,cAAC,IAAD,CAAaxU,KAAK,uBAM1F,eAAC8W,GAAA,EAAD,CAAOvC,KAAMA,EAAMwC,OAAQ,kBAAMvC,GAAQ,IAAzC,UACC,cAACsC,GAAA,EAAMzD,OAAP,UACC,cAACyD,GAAA,EAAME,MAAP,kCAED,cAACF,GAAA,EAAMrD,KAAP,UAAY,sBAAKpT,UAAU,MAAf,UAC2B,qBAAKA,UAAU,WAAf,SACA,sBAAKA,UAAU,gBAAf,UACI,uBAAOA,UAAU,aAAaoP,QAAQ,iBAAtC,iBACA,uBAAO7N,KAAK,OAAOvB,UAAU,eAAewI,YAAaY,EAC5Fd,SAAW,SAACpI,GAAD,OAAOijB,EAAOjjB,EAAE2F,OAAO7D,eAIH,qBAAKhC,UAAU,WAAf,SACI,sBAAKA,UAAU,cAAf,UACI,qBAAK4C,IAAKsM,EAAaG,MAAM,MAAMC,OAAO,MAAMzM,IAAI,UACpD,qBAAK7C,UAAU,OAAf,SACI,uBAAOuB,KAAK,OAAOoB,GAAG,QAAQ2F,SA/GrF,SAAsBiH,GAClBJ,EAAgBK,IAAIC,gBAAgBF,EAAM1J,OAAOiJ,MAAM,oBAmHtD,eAAC2H,GAAA,EAAM9Q,OAAP,WACsB,cAAC0K,GAAA,EAAD,CAAQC,QAAQ,UAAUrQ,QAAS,kBAAMkU,GAAQ,IAAjD,oBAGA,cAAC9D,GAAA,EAAD,CAAQC,QAAQ,UAAUrQ,QAAS,WAAQmjB,KAA3C,+BAMxB,eAAC3M,GAAA,EAAD,CAAOvC,KAAMoP,EAAO5M,OAAQ,kBAAM6M,GAAS,IAA3C,UACC,cAAC9M,GAAA,EAAMzD,OAAP,UACC,cAACyD,GAAA,EAAME,MAAP,6BAED,eAACF,GAAA,EAAMrD,KAAP,2CAA0ChK,EAA1C,OACA,eAACqN,GAAA,EAAM9Q,OAAP,WACC,cAAC0K,GAAA,EAAD,CAAQC,QAAQ,UAAUrQ,QAAS,kBAAMsjB,GAAS,IAAlD,mBAGA,cAAClT,GAAA,EAAD,CAAQC,QAAQ,SAASrQ,QAAS,WAAQojB,KAA1C,6BC3IN,IAAMG,GAAYlgB,cAAH,wGASA,SAASmgB,KAEpB,MAAiDjgB,0BACnDggB,IADgBE,EAAd,EAAQhgB,KAIR,GAJA,EAAyBvC,MAIWZ,IAAM8B,SAAS,2BAAnD,mBAAO6M,EAAP,KAAoBC,EAApB,KAMA,MAAsB5O,IAAM8B,SAAS,IAArC,mBAAOoD,EAAP,KAAY0d,EAAZ,KACA,EAAsB5iB,IAAM8B,SAAS,IAArC,mBAAOshB,EAAP,KAAYC,EAAZ,KAEH,EAAwBrjB,IAAM8B,UAAS,GAAvC,mBAAO6R,EAAP,KAAaC,EAAb,KAES0P,EAAc,uCAAG,4BAAA/f,EAAA,qIAINC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAPqB,+DAIlBC,EAJkB,OAUxB0f,EAAO1f,EAAIR,KAAKogB,gBACP5iB,QAAQsD,IAAIN,EAAIR,KAAKogB,gBAXN,gDAcvB5iB,QAAQsD,IAAR,MAduB,yDAAH,qDAkBduf,EAAW,uCAAG,4BAAAjgB,EAAA,6DAEV2K,EAAO,IAAIC,UAEZC,OAAO,MAAOlJ,GACnBgJ,EAAKE,OAAO,QAASC,SAASC,eAAe,SAASC,MAAM,IAL5C,uEAUM/K,IAAM,CACpBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACpE8F,OAAQ,OACRC,IAbkB,qDAcRP,KAAM+K,IAdE,cAiBZ7J,IAAMC,QAAQ,UAAW,CACjCE,SAAU,YACVC,UAAW,IACXC,WAAW,IAGZ9E,OAAOC,SAASC,QAAQ,cAvBH,kDA0BZa,QAAQsD,IAAI,KAAIyD,SAASvE,KAAKoB,SAC9BF,IAAMC,QAAQ,KAAIoD,SAASvE,KAAKoB,QAAS,CACjDC,SAAU,YACVC,UAAW,IACXC,WAAW,IA9BS,0DAAH,qDA8CjB,OAXA1E,IAAMkE,WAAU,WACZof,MACF,IAEFtjB,IAAMkE,WAAU,WACTif,IACCxiB,QAAQsD,IAAIkf,EAAUA,WACtBE,EAAOF,EAAUA,cAEvB,CAACA,IAGC,uBAAM1jB,UAAU,UAAhB,UACI,cAAC,IAAD,IACJ,sBAAKA,UAAU,sBAAf,UACI,gCACI,oBAAIA,UAAU,UAAd,mCACA,cAAC6R,GAAA,EAAD,CAAKC,GAAG,OAAO9R,UAAU,0BAAzB,SACI,cAACqQ,GAAA,EAAD,CAAQrQ,UAAU,kBAAkB4Q,KAAK,UAAU3Q,QAAS,WAASkU,GAAQ,IAA7E,SACI,cAAC,IAAD,CAAaxU,KAAK,gBAI9B,qBAAKK,UAAU,MAAf,SAEQ2jB,EAAIve,KAAI,SAAC4e,EAAE1e,GAAH,OACJ,cAAC,GAAD,CAAiB8D,KAAM4a,EAAEve,IAAKyd,IAAKc,EAAEC,MAAOthB,GAAIqhB,EAAErhB,IAAxC2C,WAMrB,eAACmR,GAAA,EAAD,CAAOvC,KAAMA,EAAMwC,OAAQ,kBAAMvC,GAAQ,IAAzC,UACR,cAACsC,GAAA,EAAMzD,OAAP,UACA,cAACyD,GAAA,EAAME,MAAP,iCAEmB,cAACF,GAAA,EAAMrD,KAAP,UACI,sBAAKpT,UAAU,MAAf,UACI,sBAAKA,UAAU,WAAf,UAEQ,uBAAOA,UAAU,aAAaoP,QAAQ,iBAAtC,iBACA,uBAAO7N,KAAK,OAAOvB,UAAU,eAAewI,YAAY,eACxDF,SAAW,SAACpI,GAAD,OAAOijB,EAAOjjB,EAAE2F,OAAO7D,aAG1C,qBAAKhC,UAAU,WAAf,SACI,sBAAKA,UAAU,cAAf,UACI,qBAAK4C,IAAKsM,EAAaG,MAAM,MAAMC,OAAO,MAAMzM,IAAI,UACpD,qBAAK7C,UAAU,OAAf,SACI,uBAAOuB,KAAK,OAAOoB,GAAG,QAAQ2F,SA/GtE,SAAsBiH,GAClBJ,EAAgBK,IAAIC,gBAAgBF,EAAM1J,OAAOiJ,MAAM,oBAoHvC,eAAC2H,GAAA,EAAM9Q,OAAP,WACI,cAAC0K,GAAA,EAAD,CAAQC,QAAQ,UAAUrQ,QAAS,kBAAMkU,GAAQ,IAAjD,oBAGA,cAAC9D,GAAA,EAAD,CAAQC,QAAQ,UAAUrQ,QAAS,WAAQ8jB,KAA3C,kC,cCgBbG,GAzJM3jB,IAAMwQ,YAAW,SAACvR,EAAOwR,GAE5C,MAAkCzQ,IAAM8B,SAAS,IAAjD,mBAAO4O,EAAP,KAAkBC,EAAlB,KACA,EAA8B3Q,IAAM8B,UAAS,GAA7C,mBAAO6N,EAAP,KAAgBC,EAAhB,KAEA,EAA4B5P,IAAM8B,SAAS,IAA3C,mBAAe4b,GAAf,WACA,EAAwB1d,IAAM8B,UAAS,GAAvC,mBAAa8R,GAAb,WAGMiK,EAAY,uCAAG,kCAAAta,EAAA,sDAEXoa,EAAU,GAFC,cAGK1e,EAAM0e,SAHX,IAGf,IAHe,mBAGLvD,EAHK,QAKTW,EAAY,GALH,cAMEX,EAAO5G,WANT,IAMb,IAAI,EAAJ,qBAAgC,CAC9BuH,EAAYA,EADkB,QACJrI,OAAS,OAPxB,8BASbiL,EAAQ9Z,KAAK,CACTqB,IAAK6V,EAAU/Y,MAAM,EAAE+Y,EAAU9Y,OAAS,GAC1CkQ,SACA,oBAAI1S,UAAU,QAAwB8C,MAAO,CAAC,cAAgB,QAA9D,SAEI6X,EAAO5G,UAAU3O,KAAI,SAACsN,EAAUpN,GAAX,OACnB,gCAAiB,kCAAKoN,EAASO,OAAd,OAA2B0H,EAAO5G,UAAUvR,OAAS,EAAI8C,EAAQ,uBAAQ,KAAhFA,OAHWqV,EAAOhY,IAOlC0b,OAAQ1D,EAAOgB,cACf2C,SAAU3D,EAAOY,eACjBgD,QAAS5D,EAAOiB,yBAChB4C,SAAU7D,EAAOkB,wBACjB4C,SAAU9D,EAAOmB,wBACjB4C,GAAI/D,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,gCAAfA,EAAM9b,QAAwC,GAAGya,SAC7F2C,GAAIhE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,gCAAfA,EAAM9b,QAAwC,GAAG0a,KAC7F2C,GAAIjE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,WAAfA,EAAM9b,QAAmB,GAAGya,SACxE6C,GAAIlE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,WAAfA,EAAM9b,QAAmB,GAAG0a,KACxE6C,IAAKnE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,gBAAfA,EAAM9b,QAAwB,GAAGya,SAC9E+C,IAAKpE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,gBAAfA,EAAM9b,QAAwB,GAAG0a,KAC9E+C,IAAKrE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,qBAAfA,EAAM9b,QAA6B,GAAGya,SACnFiD,IAAKtE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,qBAAfA,EAAM9b,QAA6B,GAAG0a,KACnFiD,GAAIvE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,mBAAfA,EAAM9b,QAA2B,GAAGya,SAChFmD,GAAIxE,EAAO4B,gBAAgBvZ,QAAO,SAACqa,GAAD,MAAyB,mBAAfA,EAAM9b,QAA2B,GAAG0a,KAChFmD,GAAIzE,EAAO8B,aACX4C,GAAI1E,EAAO+B,WACXpb,OAAS,sBAAMrB,QAAS,WAAQge,EAAUtD,GAASxG,GAAQ,IAAlD,SAA4D,cAAC,IAAD,CAAaxU,KAAK,cAjCzF,EAAJ,qBAAmC,IAHpB,8BAyCfuR,EAAa,CACXM,QAAS,CACP,CACEpK,MAAO,MACPqK,MAAO,MACPpC,MAAO,KAET,CACEjI,MAAO,oBACPqK,MAAO,MAET,CACErK,MAAO,mBACPqK,MAAO,MAET,CACErK,MAAO,kBACPqK,MAAO,MAET,CACErK,MAAO,iBACPqK,MAAO,MAET,CACErK,MAAO,uBACPqK,MAAO,OAET,CACErK,MAAO,sBACPqK,MAAO,OAET,CACErK,MAAO,6BACPqK,MAAO,OAET,CACErK,MAAO,8BACPqK,MAAO,OAET,CACErK,MAAO,0BACPqK,MAAO,MAET,CACErK,MAAO,yBACPqK,MAAO,MAET,CACErK,MAAO,oBACPqK,MAAO,MAET,CACErK,MAAO,qBACPqK,MAAO,OAKXE,KAAMuM,IAGR/N,GAAW,GAtGI,2CAAH,qDA+GhB,OAJF5P,IAAMkE,WAAU,WACd2Z,MACA,IAGE,qBAAKpe,UAAU,MAAf,SAEMkQ,EACA,qBAAKlQ,UAAU,gCAAf,SACA,eAAC6R,GAAA,EAAD,CAAKC,GAAG,OAAR,UACA,cAACrB,GAAA,EAAD,CACLC,GAAG,OACHC,UAAU,SACVC,KAAK,KACEN,QAAQ,UACfpJ,KAAK,SACLmD,cAAY,SAPP,SASA,cAAC,KAAD,CACA2G,IAAKA,EACLlO,MAAO,CAAC,WAAa,MACrBmH,YAAU,EACV8H,OAAK,EACLC,eAAgB,CAAC,EAAG,GAAI,IACxBC,SAAO,EACPC,YAAa,EACbxO,KAAMuN,EACNkB,QAAM,EACNC,cAAY,EACZE,YAAU,SCpJP,SAAS6R,GAAkB3kB,GAEtC,IAAMsG,EAAqBC,cAC9B,EAA8BxF,IAAM8B,SAAS,CAAE+hB,OAAQ5kB,EAAM6kB,QAAQD,SAArE,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA8B/jB,IAAM8B,SAAS,IAA7C,mBAAO6b,EAAP,KACG,GADH,KACiD3d,IAAM8B,SAAS,KAA7D,mBAAOkiB,EAAP,KAEMnG,GAFN,KAEkB,uCAAG,gDAAAta,EAAA,sEAEX,oDAFW,SAGJC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,sDAFW,OAGhBC,EAHgB,OASD,GACQ,GAVP,cAYFA,EAAIR,KAAKwa,SAZP,IAYtB,IAAI,EAAJ,qBAAqC,CAA3BvD,EAA2B,QAChCW,EAAY,GADoB,cAErBX,EAAO5G,WAFc,IAEpC,IAAI,EAAJ,qBAAUyQ,EAAsB,QAC/BlJ,EAAYA,EAAYkJ,EAAEvR,OAAS,MAHA,8BAKhC9L,EAAM,CAAEnF,MAAO2Y,EAAOhY,GAAIyE,MAAOkU,EAAU/Y,MAAM,EAAE+Y,EAAU9Y,OAAO,IACxE0b,EAAQ9Z,KAAK+C,GANuB,cAOT3H,EAAM6kB,QAAQnG,SAPL,IAOxB,IAAI,EAAJ,qBAAqC,QAC5Bvb,KAAOgY,EAAOhY,IACf4hB,EAAgBngB,KAAK+C,GATL,gCAZf,gFA2BtBjG,QAAQsD,IAAR,MA3BsB,0DAAH,sDA+BZigB,EAAa,uCAAG,4BAAA3gB,EAAA,sEAEjBG,EAFiB,4DAEyCzE,EAAM6kB,QAAQ1hB,IAFvD,SAGLoB,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,MACFP,KAAM2gB,IAPgB,cAUvBzf,IAAMC,QAAQ,UAAW,CACxBE,SAAU,YACVC,UAAW,IACXC,WAAW,IAGZ9E,OAAOC,SAASC,QAAQ,aAhBD,gDAmBtBa,QAAQsD,IAAI,KAAIyD,SAASvE,KAAKoB,SAnBR,yDAAH,qDA2BnB,OAJHvE,IAAMkE,WAAU,WACf2Z,MACC,IAGK,gCACL,cAAC,IAAD,IAEA,sBAAKpe,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,oBACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,OAAOvB,UAAU,eAAewI,YAAY,SAASK,aAAcwb,EAAQD,OACvF9b,SAAU,SAACpI,GAAD,OAAOokB,EAAW,2BAAID,GAAL,IAAcD,OAAyB,EAAjBlkB,EAAE2F,OAAO7D,iBAInD,sBAAKhC,UAAU,WAAf,UACI,uBAAOA,UAAU,uCAAjB,qBACZ,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAU,QAAf,SACC,cAAC,IAAD,CACsB6I,aAAc0b,EACdhmB,QAAS2f,EAC9BpV,WAAYhD,EACZiD,SAAO,EACPT,SAAU,SAACpI,GAAQmkB,EAAQnG,QAAShe,EAAEkF,KAAI,SAAAyC,GAAC,OAAIA,EAAE7F,SAAQd,QAAQsD,IAAI6f,aAMzE,qBAAKrkB,UAAU,WAAf,SACC,qBAAKA,UAAU,WAAf,SACC,sBAAOA,UAAU,kBAAkBC,QAAS,kBAAMwkB,KAAlD,2BC8BUC,I,GAAAA,GAvGf,SAAsBllB,GAEtB,MAAwBe,IAAM8B,UAAS,GAAvC,mBAAO6R,EAAP,KAAaC,EAAb,KAEMwQ,EAAa,uCAAG,4BAAA7gB,EAAA,6DACtB5C,QAAQsD,IAAIhF,EAAM6kB,SADI,SAGZpgB,EAHY,4DAG8CzE,EAAM6kB,QAAQ1hB,IAH5D,SAIAoB,IAAM,CACtBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,SACRC,QAPc,cAUlBW,IAAMC,QAAQ,UAAW,CACvBE,SAAU,YACVC,UAAW,IACXC,WAAW,IAEb9E,OAAOC,SAASC,QAAQ,aAfN,kDAkBlBuE,IAAMzD,MAAM,KAAI8G,SAASvE,KAAKoB,QAAS,CACrCC,SAAU,YACVC,UAAW,IACXC,WAAW,IAEbkP,GAAQ,GAvBU,0DAAH,qDA2BXiO,EAAe7hB,IAAMmf,SAEvB,OACE,gCACE,cAAC,IAAD,IACA,eAACxJ,GAAA,EAAD,CAAKlW,UAAU,OAAf,UACA,cAAC6R,GAAA,EAAD,IAIA,cAACA,GAAA,EAAD,IAIH,cAACA,GAAA,EAAD,CAAKC,GAAG,OAAR,SACK,wBAAQ9R,UAAU,iBAAiBC,QAAS,kBAAMkU,GAAQ,IAAOvD,KAAK,UAAtE,SAAgF,cAAC,IAAD,CAAajR,KAAK,cAGvG,cAACkS,GAAA,EAAD,CAAKC,GAAG,OAAR,SACG,wBAAQ9R,UAAU,kBAAkBkF,cAAY,QAAQgF,cAAY,SAAS0G,KAAK,UAAlF,SAA4F,cAAC,IAAD,CAAajR,KAAK,iBAG9G,cAACkS,GAAA,EAAD,CAAKC,GAAG,OAAR,SACE,cAAC,KAAD,CACIwQ,QAAS,kBAAM,wBAAQtiB,UAAU,kBAAkB4Q,KAAK,UAAzC,SAAmD,cAAC,IAAD,CAAajR,KAAK,eACpF4iB,QAAS,kBAAMH,EAAaI,SAC5B1f,MA3ED,4MAgFL,cAAC,GAAD,CAAkBob,QAAS1e,EAAM6kB,QAAQnG,QAASlN,IAAKoR,IAEzD,eAAC3L,GAAA,EAAD,CAAOvC,KAAMA,EAAMwC,OAAQ,kBAAMvC,GAAQ,IAAzC,UACE,cAACsC,GAAA,EAAMzD,OAAP,UACA,cAACyD,GAAA,EAAME,MAAP,6BAEA,eAACF,GAAA,EAAMrD,KAAP,oEAAmE5T,EAAM6kB,QAAQD,OAAjF,QACA,eAAC3N,GAAA,EAAM9Q,OAAP,WACA,cAAC0K,GAAA,EAAD,CAAQC,QAAQ,SAASrQ,QAAS,kBAAMkU,GAAQ,IAAhD,oBAGA,cAAC9D,GAAA,EAAD,CAAQC,QAAQ,UAAUrQ,QAAS,WAAQ0kB,KAA3C,6BAMF,qBAAK3kB,UAAU,aAAa2C,GAAG,QAAQyH,SAAS,KAAKlD,KAAK,SAASmD,cAAY,OAA/E,SACF,qBAAKrK,UAAU,eAAekH,KAAK,WAAnC,SACC,qBAAKlH,UAAU,gBAAf,SACC,qBAAKA,UAAU,eAAf,SACC,qBAAKA,UAAU,mBAAf,SACC,sBAAKA,UAAU,OAAf,UACC,sBAAKA,UAAU,eAAf,UACC,oBAAIA,UAAU,cAAd,8BACA,wBAAQuB,KAAK,SAASvB,UAAU,YAAYsK,eAAa,QAAQC,aAAW,aAE7E,qBAAKvK,UAAU,YAAf,SACC,cAACmkB,GAAD,CAAmBE,QAAS7kB,EAAM6kB,6BC/G/B,SAASO,KAEpB,IAAM9e,EAAqBC,cAC9B,EAA8BxF,IAAM8B,SAAS,IAA7C,mBAAOgiB,EAAP,KAAgBC,EAAhB,KACA,EAA8B/jB,IAAM8B,SAAS,IAA7C,mBAAO6b,EAAP,KAAgB2B,EAAhB,KAGSzB,EAAY,uCAAG,8CAAAta,EAAA,sEAEX,oDAFW,SAGJC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,sDAFW,OAGhBC,EAHgB,OASlB2gB,EAAiB,GATC,cAUF3gB,EAAIR,KAAKwa,SAVP,IAUtB,IAAI,EAAJ,qBAAqC,CAA3BvD,EAA2B,QAChCW,EAAY,GADoB,cAErBX,EAAO5G,WAFc,IAEpC,IAAI,EAAJ,qBAAUyQ,EAAsB,QAC/BlJ,EAAYA,EAAYkJ,EAAEvR,OAAS,MAHA,8BAKhC9L,EAAM,CAAEnF,MAAO,CAAC2Y,EAAOhY,GAAGgY,EAAOzC,MAAO9Q,MAAOkU,EAAU/Y,MAAM,EAAE+Y,EAAU9Y,OAAO,IACtFqiB,EAAezgB,KAAK+C,IAhBC,8BAkBtB0Y,EAAWgF,GAlBW,kDAqBtB3jB,QAAQsD,IAAR,MArBsB,0DAAH,qDAyBZsgB,EAAU,uCAAG,sBAAAhhB,EAAA,sEAET,qDAFS,SAGFC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,OACRC,IAJQ,qDAKVP,KAAM2gB,IAPa,cAUpBzf,IAAMC,QAAQ,UAAW,CACxBE,SAAU,YACVC,UAAW,IACXC,WAAW,IAGZ9E,OAAOC,SAASC,QAAQ,aAhBJ,gDAmBnBa,QAAQsD,IAAI,KAAIyD,SAASvE,KAAKoB,SAnBX,yDAAH,qDA2BhB,OAJHvE,IAAMkE,WAAU,WACf2Z,MACC,IAGK,gCACL,cAAC,IAAD,IAEA,sBAAKpe,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,oBACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,OAAOvB,UAAU,eAAewI,YAAY,SACxDF,SAAU,SAACpI,GAAD,OAAOokB,EAAW,2BAAID,GAAL,IAAcD,OAAyB,EAAjBlkB,EAAE2F,OAAO7D,iBAInD,sBAAKhC,UAAU,WAAf,UACI,uBAAOA,UAAU,uCAAjB,qBACZ,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAU,QAAf,SACC,cAAC,IAAD,CACC6I,aAAa,UACbC,WAAYhD,EACZvH,QAAS2f,EACTnV,SAAO,EACPT,SAAU,SAACpI,GAAOokB,EAAW,2BAAID,GAAL,IAAcnG,QAAShe,EAAEkF,KAAI,SAAAyC,GAAC,OAAIA,EAAE7F,MAAM,mBAQ1E,qBAAKhC,UAAU,WAAf,SACC,qBAAKA,UAAU,WAAf,SACC,sBAAOA,UAAU,kBAAkBC,QAAS,kBAAM6kB,KAAlD,2BCxFL,I,GAAMC,GAAWzhB,cAAH,4YAyBC,SAAS0hB,KAEpB,MAA+BzkB,IAAM8B,SAAS,IAA9C,mBAAO4iB,EAAP,KAAgBC,EAAhB,KAEA,EAAoD1hB,0BACtDuhB,IADgBI,EAAd,EAAQzhB,KAAR,EAA4BvC,MAI5BD,QAAQsD,IAAI2gB,GAEZ,IAAMC,EAAa,uCAAE,4BAAAthB,EAAA,sEAEX,qDAFW,SAGJC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,uDAFW,OAGhBC,EAHgB,OASbhD,QAAQsD,IAAIN,EAAIR,KAAKuhB,UAC9BC,EAAYhhB,EAAIR,KAAKuhB,UAVC,gDAcrB/jB,QAAQsD,IAAR,MAdqB,yDAAF,qDA4BnB,OAVAjE,IAAMkE,WAAU,WACZ2gB,MACF,IAEF7kB,IAAMkE,WAAU,WACT0gB,GACCD,EAAYC,EAAaF,YAE/B,CAACE,IAGC,uBAAMnlB,UAAU,UAAhB,UACA,sBAAKA,UAAU,sBAAf,UACI,eAACkW,GAAA,EAAD,WACI,cAACrE,GAAA,EAAD,UACI,oBAAI7R,UAAU,UAAd,oCAEJ,cAAC6R,GAAA,EAAD,UACI,wBAAQ7R,UAAU,8BAA8BkF,cAAY,QAAQgF,cAAY,SAAS0G,KAAK,UAA9F,SAAwG,cAAC,IAAD,CAAajR,KAAK,gBAIlI,cAAC0lB,GAAA,EAAD,CAAWC,iBAAiB,IAA5B,SACML,EAAS7f,KAAI,SAACif,EAAQ/e,GAAT,OACf,eAACyN,GAAA,EAAD,WACA,cAACsS,GAAA,EAAUE,OAAX,CAAkB7U,GAAIqC,KAAKC,OAAQwS,SAAS,IAA5C,SACA,cAACtP,GAAA,EAAD,CAAKlW,UAAU,OAAf,SACI,eAAC6R,GAAA,EAAD,sBACawS,EAAQD,cAIzB,cAACiB,GAAA,EAAUI,SAAX,CAAoBD,SAAS,IAA7B,SACA,cAACzS,GAAA,EAAKK,KAAN,UACI,cAAC,GAAD,CAAOiR,QAASA,UAVT/e,WAkBP,qBAAKtF,UAAU,aAAa2C,GAAG,QAAQyH,SAAS,KAAKlD,KAAK,SAASmD,cAAY,OAA/E,SACd,qBAAKrK,UAAU,eAAekH,KAAK,WAAnC,SACC,qBAAKlH,UAAU,gBAAf,SACC,qBAAKA,UAAU,eAAf,SACC,qBAAKA,UAAU,mBAAf,SACC,sBAAKA,UAAU,OAAf,UACC,sBAAKA,UAAU,eAAf,UACC,oBAAIA,UAAU,cAAd,6BACA,wBAAQuB,KAAK,SAASvB,UAAU,YAAYsK,eAAa,QAAQC,aAAW,aAE7E,qBAAKvK,UAAU,YAAf,SACC,cAAC4kB,GAAD,sBCjHG,SAASc,KACpB,OACI,wBCGO,SAASC,KAEO5f,cAA3B,IACH,EAAsCxF,IAAM8B,SAAS,IAArD,mBAAOoY,EAAP,KAAoBmL,EAApB,KAESC,EAAc,uCAAG,sBAAA/hB,EAAA,sEAEb,yDAFa,SAGNC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,OACRC,IAJQ,yDAKEP,KAAM+W,IAPK,cAUxB7V,IAAMC,QAAQ,UAAW,CACxBE,SAAU,YACVC,UAAW,IACXC,WAAW,IAGZ9E,OAAOC,SAASC,QAAQ,gBAhBA,gDAmBxBa,QAAQsD,IAAI,KAAIyD,SAASvE,KAAKoB,SAnBN,yDAAH,qDAuBpB,OACI,gCACL,cAAC,IAAD,IAEA,sBAAK9E,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,iBACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,OAAOvB,UAAU,eAC7BsI,SAAU,SAACpI,GAAD,OAAO0lB,EAAe,2BAAInL,GAAL,IAAkBhV,IAAKvF,EAAE2F,OAAO7D,iBAGxD,sBAAKhC,UAAU,WAAf,UACI,uBAAOA,UAAU,uCAAjB,yBACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,OAAOvB,UAAU,eAC7BsI,SAAU,SAACpI,GAAD,OAAO0lB,EAAe,2BAAInL,GAAL,IAAkBqL,YAAa5lB,EAAE2F,OAAO7D,iBAIzE,qBAAKhC,UAAU,WAAf,SACC,qBAAKA,UAAU,WAAf,SACC,sBAAOA,UAAU,kBAAkBC,QAAS,kBAAM4lB,KAAlD,2BClDU,SAASE,KAEpB,MAA8CxlB,IAAM8B,SAAS,IAA7D,mBAAO2jB,EAAP,KAAwBC,EAAxB,KACOxL,EAAeI,KAAfJ,YAGDyL,EAAiB,uCAAG,4BAAApiB,EAAA,sEAErBG,EAFqB,gEAE0CwW,EAAY9X,IAFtD,SAGToB,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,MACFP,KAAMsiB,IAPoB,cAU3BphB,IAAMC,QAAQ,UAAW,CACxBE,SAAU,YACVC,UAAW,IACXC,WAAW,IAGZ9E,OAAOC,SAASC,QAAQ,gBAhBG,gDAmB3Ba,QAAQsD,IAAI,KAAIyD,SAASvE,KAAKoB,SAE9BF,IAAMzD,MAAM,KAAI8G,SAASvE,KAAKoB,QAAS,CACtCC,SAAU,YACVC,UAAW,IACXC,WAAW,IAxBe,yDAAH,qDA6BvB,OACI,gCACL,cAAC,IAAD,IAEA,sBAAKjF,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,iBACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,OAAOvB,UAAU,eAAewI,YAAY,MAAMK,aAAc4R,EAAcA,EAAYhV,IAAK,GAC3G6C,SAAU,SAACpI,GAAD,OAAO+lB,EAAmB,2BAAIxL,GAAL,IAAkBhV,IAAKvF,EAAE2F,OAAO7D,iBAIrE,sBAAKhC,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,yBACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,OAAOvB,UAAU,eAAewI,YAAY,eAAeK,aAAc4R,EAAcA,EAAYqL,YAAc,GAC7Hxd,SAAU,SAACpI,GAAD,OAAO+lB,EAAmB,2BAAIxL,GAAL,IAAkBqL,YAAa5lB,EAAE2F,OAAO7D,iBAK7E,qBAAKhC,UAAU,WAAf,SACC,qBAAKA,UAAU,WAAf,SACC,sBAAOA,UAAU,kBAAkBC,QAAS,kBAAMimB,KAAlD,2BCnDL,IAAMC,GAAe7iB,cAAH,oHAqMH8iB,GA5LU7lB,IAAMwQ,YAAW,SAACvR,EAAOwR,GAEhD,MAAoDxN,0BACpD2iB,IADcE,EAAd,EAAQ3iB,KAIR,GAJA,EAA4BvC,MAIMZ,IAAM8B,SAAS,KAAjD,mBAAO4O,EAAP,KAAkBC,EAAlB,KACA,EAAwB3Q,IAAM8B,UAAS,GAAvC,mBAAO6R,EAAP,KAAaC,EAAb,KACMrS,EAAWgZ,KACjB,EAAsCva,IAAM8B,SAAS,IAArD,mBAAOoY,EAAP,KAAoBmL,EAApB,KACA,EAA8BrlB,IAAM8B,UAAS,GAA7C,mBAAO6N,EAAP,KAAgBC,EAAhB,KAEMmW,EAAiB,uCAAG,4BAAAxiB,EAAA,sEAEnBG,EAFmB,gEAE2CwW,EAAY9X,IAFvD,SAGPoB,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,SACRC,QANsB,cASzBW,IAAMC,QAAQ,UAAW,CACxBE,SAAU,YACVC,UAAW,IACXC,WAAW,IAEZ9E,OAAOC,SAASC,QAAQ,gBAdC,gDAiBzBuE,IAAMzD,MAAM,KAAI8G,SAASvE,KAAKoB,QAAS,CACtCC,SAAU,YACVC,UAAW,IACXC,WAAW,IAEZkP,GAAQ,GAtBiB,yDAAH,qDA0BjBoS,EAAiB,uCAAG,oCAAAziB,EAAA,sEAGd,yDAHc,SAIPC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,2DAHc,OAU1B,GAAmB,OANZC,EAJmB,QAUlB8C,OAAgB,CACxB9F,QAAQsD,IAAIN,EAAIR,KAAK2iB,cAEXA,EAAe,GAHD,cAIOniB,EAAIR,KAAK2iB,cAJhB,IAIlB,IAJkB,iBAIR5L,EAJQ,QAKd4L,EAAajiB,KAAK,CACd0hB,YAAarL,EAAYqL,YACzBrgB,IAAKgV,EAAYhV,IACjB6Z,SAAU,sBAAMrf,QAAS,kBAAM6B,EAAS,CAAEP,KAAK,kBAAmBE,QAASgZ,KAAgBvV,cAAY,QAAQgF,cAAY,SAAjH,SAA0H,cAAC,IAAD,CAAavK,KAAK,aACtJ4f,UAAY,sBAAMtf,QAAS,WAAQ2lB,EAAenL,GAActG,GAAQ,IAA5D,SAAsE,cAAC,IAAD,CAAaxU,KAAK,iBALxG,EAAJ,qBAAgD,IAJ9B,8BAalBuR,EAAa,CACXM,QAAS,CACP,CACEpK,MAAO,MACPqK,MAAO,OAET,CACErK,MAAO,cACPqK,MAAO,eAET,CACIrK,MAAO,WACPqK,MAAO,WACPC,KAAO,YAGX,CACItK,MAAO,YACPqK,MAAO,YACPC,KAAO,aAIbC,KAAM0U,IAIVlW,GAAW,GAlDW,gDAqDxBjP,QAAQsD,IAAI,KAAIyD,SAASvE,KAAKoB,SArDN,yDAAH,qDAqGrB,OA5CFvE,IAAMkE,WAAU,WACd8hB,MACA,IAEFhmB,IAAMkE,WAAU,WACd,GAAG4hB,EAAa,CACd,IADc,EACVG,EAAmB,GADT,cAEWH,EAAaA,cAFxB,yBAEJ5L,EAFI,QAGZ+L,EAAiBpiB,KAAK,CAChB0hB,YAAarL,EAAYqL,YACzBrgB,IAAKgV,EAAYhV,IACjB6Z,SAAU,sBAAMrf,QAAS,kBAAM6B,EAAS,CAAEP,KAAK,kBAAmBE,QAASgZ,KAAgBvV,cAAY,QAAQgF,cAAY,SAAjH,SAA0H,cAAC,IAAD,CAAavK,KAAK,aACtJ4f,UAAY,sBAAMtf,QAAS,WAAQ2lB,EAAenL,GAActG,GAAQ,IAA5D,SAAsE,cAAC,IAAD,CAAaxU,KAAK,iBAL5G,IAAI,EAAJ,qBAAoD,IAFtC,8BAWduR,EAAa,CACXM,QAAS,CACP,CACEpK,MAAO,MACPqK,MAAO,OAET,CACErK,MAAO,cACPqK,MAAO,eAET,CACIrK,MAAO,WACPqK,MAAO,WACPC,KAAO,YAGX,CACItK,MAAO,YACPqK,MAAO,YACPC,KAAO,aAIbC,KAAM6U,OAGV,CAACH,IAGC,qCACA,cAAC,IAAD,IACE,qBAAKrmB,UAAU,MAAf,SAGIkQ,EACA,qBAAKlQ,UAAU,gCAAf,SACA,eAAC6R,GAAA,EAAD,CAAKC,GAAG,OAAR,UACA,cAACrB,GAAA,EAAD,CACLC,GAAG,OACHC,UAAU,SACVC,KAAK,KACEN,QAAQ,UACfpJ,KAAK,SACLmD,cAAY,SAPP,SASA,cAAC,KAAD,CACA2G,IAAKA,EACLlO,MAAO,CAAC,WAAa,MACrBmH,YAAU,EACV8H,OAAK,EACLC,eAAgB,CAAC,EAAG,GAAI,IACxBC,SAAO,EACPC,YAAa,EACbxO,KAAMuN,EACNkB,QAAM,EACNC,cAAY,EACZE,YAAU,MAGd,eAACmE,GAAA,EAAD,CAAOvC,KAAMA,EAAMwC,OAAQ,kBAAMvC,GAAQ,IAAzC,UACE,cAACsC,GAAA,EAAMzD,OAAP,UACA,cAACyD,GAAA,EAAME,MAAP,6BAEA,eAACF,GAAA,EAAMrD,KAAP,2CAA0CqH,EAAYhV,IAAtD,OACA,eAACgR,GAAA,EAAM9Q,OAAP,WACA,cAAC0K,GAAA,EAAD,CAAQC,QAAQ,SAASrQ,QAAS,kBAAMkU,GAAQ,IAAhD,oBAGA,cAAC9D,GAAA,EAAD,CAAQC,QAAQ,UAAUrQ,QAAS,WAAQqmB,KAA3C,mCCxJOG,OA1BjB,WACE,IAAMrE,EAAe7hB,IAAMmf,SACvB,OACE,gCACI,eAACxJ,GAAA,EAAD,CAAKlW,UAAU,OAAf,UACI,cAAC6R,GAAA,EAAD,IAEA,cAACA,GAAA,EAAD,CAAKC,GAAG,OAAR,SACI,cAACzB,GAAA,EAAD,CAASrQ,UAAU,kBAAkB4Q,KAAK,UAAU1L,cAAY,QAAQgF,cAAY,uBAApF,SACI,mBAAGlK,UAAU,oBAGrB,cAAC6R,GAAA,EAAD,CAAKkI,IAAE,EAACsI,GAAG,IAAX,SACI,cAAC,KAAD,CACIC,QAAS,kBAAM,wBAAQtiB,UAAU,uBAAuB4Q,KAAK,UAA9C,SAAwD,cAAC,IAAD,CAAajR,KAAK,eACzF4iB,QAAS,kBAAMH,EAAaI,SAC5B1f,MAjCT,4MAsCH,cAAC,GAAD,CAAmBkO,IAAKoR,QCtCrB,SAASsE,KAEvB,MAAgCnmB,IAAM8B,SAAS,GAA/C,mBAAOqX,EAAP,KAAiBC,EAAjB,KAOG,OALHpZ,IAAMkE,WAAU,WAEf,OADAkV,EAAY,KACL,kBAAMA,EAAY,MACxB,IAGK,uBAAM3Z,UAAU,UAAhB,UACL,cAAC,KAAD,CAAY6P,MAAM,UAAUP,OAAO,MAAMoK,SAAUA,IAClD,sBAAK1Z,UAAU,sBAAf,UAEC,oBAAIA,UAAU,UAAd,sCAEA,qBAAKA,UAAU,MAAf,SAEC,qBAAKA,UAAU,SAAf,SACC,qBAAKA,UAAU,OAAf,SACC,cAAC,GAAD,UAMH,qBAAKA,UAAU,aAAa2C,GAAG,sBAAsByH,SAAS,KAAKlD,KAAK,SAASmD,cAAY,OAA7F,SACK,qBAAKrK,UAAU,eAAekH,KAAK,WAAnC,SACC,qBAAKlH,UAAU,gBAAf,SACC,qBAAKA,UAAU,eAAf,SACC,qBAAKA,UAAU,mBAAf,SACC,sBAAKA,UAAU,OAAf,UACC,sBAAKA,UAAU,eAAf,UACC,oBAAIA,UAAU,cAAd,qCACA,wBAAQuB,KAAK,SAASvB,UAAU,YAAYsK,eAAa,QAAQC,aAAW,aAE7E,qBAAKvK,UAAU,YAAf,SACC,cAAC2lB,GAAD,mBASP,qBAAK3lB,UAAU,aAAa2C,GAAG,QAAQyH,SAAS,KAAKlD,KAAK,SAASmD,cAAY,OAA/E,SACC,qBAAKrK,UAAU,eAAekH,KAAK,WAAnC,SACC,qBAAKlH,UAAU,gBAAf,SACC,qBAAKA,UAAU,eAAf,SACC,qBAAKA,UAAU,mBAAf,SACC,sBAAKA,UAAU,OAAf,UACC,sBAAKA,UAAU,eAAf,UACC,oBAAIA,UAAU,cAAd,qCACA,wBAAQuB,KAAK,SAASvB,UAAU,YAAYsK,eAAa,QAAQC,aAAW,aAE7E,qBAAKvK,UAAU,YAAf,SACC,cAAC+lB,GAAD,yBCxDD,SAASY,KAEpB,IAAM7gB,EAAqBC,cAC9B,EAA8BxF,IAAM8B,SAAS,CAC5CukB,KAAM,EACNC,gBAAiB,EACjBC,cAAe,EACfC,IAAK,EACLC,kBAAmB,EACnBC,eAAgB,KANjB,mBAAOzM,EAAP,KAAgB0M,EAAhB,KAQA,EAA8B3mB,IAAM8B,SAAS,IAA7C,mBAAO6b,EAAP,KAAgB2B,EAAhB,KAEMzB,EAAY,uCAAG,sCAAAta,EAAA,sEAER,gEAFQ,SAGDC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,kEAFQ,OAGbC,EAHa,OASfijB,EAAkB,GATH,cAUCjjB,EAAIR,KAAKwa,SAVV,IAUnB,IAAI,EAAJ,qBAAUvD,EAA2B,QAChCxT,EAAM,CAAEnF,MAAO2Y,EAAOhY,GAAIyE,MAAOuT,EAAOzC,MAC5CiP,EAAgB/iB,KAAK+C,GAZH,8BAcnB0Y,EAAWsH,GAdQ,kDAgBnBjmB,QAAQsD,IAAI,KAAIyD,SAASvE,KAAKoB,SAhBX,0DAAH,qDAwBTsiB,EAAU,uCAAG,sBAAAtjB,EAAA,6DACrB5C,QAAQsD,IAAIgW,GADS,SAGT,qDAHS,SAIFzW,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,OACRC,IAJQ,qDAKEP,KAAM8W,IARC,cAWpB5V,IAAMC,QAAQ,UAAW,CACxBE,SAAU,YACVC,UAAW,IACXC,WAAW,IAGZ9E,OAAOC,SAASC,QAAQ,YAjBJ,kDAoBpBa,QAAQsD,IAAI,KAAIyD,SAASvE,KAAKoB,SApBV,0DAAH,qDAoChB,OAZHvE,IAAMkE,WAAU,WACf2Z,MACC,IAEF7d,IAAMkE,WAAU,WAEf+V,EAAQuM,IAAkB,IAAbvM,EAAQoM,KACrBpM,EAAQsM,cAAsD,KAAtCtM,EAAQoM,KAAKpM,EAAQqM,iBAC7CrM,EAAQwM,kBAAyC,IAAtBxM,EAAQsM,cACnC5lB,QAAQsD,IAAIgW,KACX,CAACA,EAAQoM,KAAMpM,EAAQqM,kBAGlB,gCACL,cAAC,IAAD,IAEA,sBAAK7mB,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,oBAGZ,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAU,QAAf,SACC,cAAC,IAAD,CACCwI,YAAY,oBACZM,WAAYhD,EACZvH,QAAS2f,EACT5V,SAAU,SAACpI,GAAD,OAAOsa,EAAQ6M,UAAYnnB,EAAE8B,gBAM3C,sBAAKhC,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,kBACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAC/BsI,SAAU,SAACpI,GAAD,OAAOgnB,EAAW,2BAAI1M,GAAL,IAAcoM,KAAwB,EAAlB1mB,EAAE2F,OAAO7D,iBAG1D,sBAAKhC,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,6BACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAC/BsI,SAAU,SAACpI,GAAD,OAAOgnB,EAAW,2BAAI1M,GAAL,IAAcqM,gBAAmC,EAAlB3mB,EAAE2F,OAAO7D,iBAGrE,sBAAKhC,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,2BACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAegC,MAAOwY,EAAQsM,cAC7Dxe,SAAU,SAACpI,GAAD,OAAOgnB,EAAW,2BAAI1M,GAAL,IAAcsM,cAAiC,EAAlB5mB,EAAE2F,OAAO7D,iBAG1D,sBAAKhC,UAAU,WAAf,UACI,uBAAOA,UAAU,uCAAjB,iBACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAegC,MAAOwY,EAAQuM,IAC7Dze,SAAU,SAACpI,GAAD,OAAOgnB,EAAW,2BAAI1M,GAAL,IAAcuM,IAAuB,EAAlB7mB,EAAE2F,OAAO7D,iBAIzD,sBAAKhC,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,+BACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAegC,MAAOwY,EAAQwM,kBAC7D1e,SAAU,SAACpI,GAAD,OAAOgnB,EAAW,2BAAI1M,GAAL,IAAcwM,kBAAqC,EAAlB9mB,EAAE2F,OAAO7D,iBAGvE,sBAAKhC,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,4BACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAegC,MAAOwY,EAAQyM,eAC7D3e,SAAU,SAACpI,GAAD,OAAOgnB,EAAW,2BAAI1M,GAAL,IAAcyM,eAAkC,EAAlB/mB,EAAE2F,OAAO7D,iBAIpE,qBAAKhC,UAAU,WAAf,SACC,qBAAKA,UAAU,WAAf,SACC,sBAAOA,UAAU,kBAAkBC,QAAS,kBAAMmnB,KAAlD,2BC5IU,SAASE,KACvB,IAAO9M,EAAWK,KAAXL,QAEJ,EAAsCja,IAAM8B,SAAS,CACvDukB,KAAMpM,EAAUA,EAAQoM,KAAO,EAC/BC,gBAAiBrM,EAAUA,EAAQqM,gBAAkB,EACrDC,cAAetM,EAAUA,EAAQsM,cAAgB,EACjDC,IAAKvM,EAAUA,EAAQoM,KAAO,EAC9BI,kBAAmBxM,EAAUA,EAAQwM,kBAAoB,EACzDC,eAAgBzM,EAAUA,EAAQyM,eAAiB,IANjD,mBAAOM,EAAP,KAAoBC,EAApB,KAUHtmB,QAAQsD,IAAIgW,GAET,IAAMiN,EAAa,uCAAG,4BAAA3jB,EAAA,sEAEjBG,EAFiB,4DAE0CuW,EAAQ7X,IAFlD,SAGLoB,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,MACFP,KAAM6jB,IAPgB,cAUvB3iB,IAAMC,QAAQ,UAAW,CACxBE,SAAU,YACVC,UAAW,IACXC,WAAW,IAGZ9E,OAAOC,SAASC,QAAQ,YAhBD,gDAmBvBa,QAAQsD,IAAI,KAAIyD,SAASvE,KAAKoB,SAE9BF,IAAMzD,MAAM,KAAI8G,SAASvE,KAAKoB,QAAS,CACtCC,SAAU,YACVC,UAAW,IACXC,WAAW,IAxBW,yDAAH,qDAiDnB,OApBH1E,IAAMkE,WAAU,WACf8iB,EAAYR,IAAsB,IAAjBQ,EAAYX,KAC7BW,EAAYT,cAA8D,KAA9CS,EAAYX,KAAKW,EAAYV,iBACzDU,EAAYP,kBAA6C,IAA1BO,EAAYT,cAC3C5lB,QAAQsD,IAAI+iB,KACX,CAACA,EAAYX,KAAMW,EAAYV,kBAEjCtmB,IAAMkE,WAAU,WACZ+V,IAEF+M,EAAYX,KAAMpM,EAAQoM,KAC1BW,EAAYV,gBAAiBrM,EAAQqM,gBACrCU,EAAYT,cAAetM,EAAQsM,cACnCS,EAAYR,IAAKvM,EAAQuM,IACzBQ,EAAYP,kBAAmBxM,EAAQwM,kBACvCO,EAAYN,eAAgBzM,EAAQyM,eACpC/lB,QAAQsD,IAAI+iB,MAEZ,CAAC/M,IAGI,gCACL,cAAC,IAAD,IACA,sBAAKxa,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,kBACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAe6I,aAAc0e,EAAcA,EAAYX,KAAO,EAC7Fte,SAAU,SAACpI,GAAD,OAAOsnB,EAAe,2BAAID,GAAL,IAAkBX,KAAuB,EAAjB1mB,EAAE2F,OAAO7D,iBAGlE,sBAAKhC,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,6BACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAe6I,aAAc0e,EAAYV,gBACxEve,SAAU,SAACpI,GAAD,OAAOsnB,EAAe,2BAAID,GAAL,IAAkBV,gBAAkC,EAAjB3mB,EAAE2F,OAAO7D,iBAG7E,sBAAKhC,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,2BACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAegC,MAAOulB,EAAcA,EAAYT,cAAgB,SAGxF,sBAAK9mB,UAAU,WAAf,UACI,uBAAOA,UAAU,uCAAjB,iBACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAegC,MAAOulB,EAAYR,WAInE,sBAAK/mB,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,+BACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAegC,MAAOulB,EAAYP,yBAGnE,sBAAKhnB,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,4BACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAe6I,aAAc0e,EAAYN,eACxE3e,SAAU,SAACpI,GAAD,OAAOsnB,EAAe,2BAAID,GAAL,IAAkBN,eAAiC,EAAjB/mB,EAAE2F,OAAO7D,iBAK5E,qBAAKhC,UAAU,WAAf,SACC,qBAAKA,UAAU,WAAf,SACC,sBAAOA,UAAU,kBAAkBC,QAAS,kBAAMwnB,KAAlD,2B,iBCvGCC,GAAWpkB,cAAH,oUAkQCqkB,GA3OMpnB,IAAMwQ,YAAW,SAACvR,EAAOwR,GAG5C,MAAgDxN,0BAChDkkB,IADcE,EAAd,EAAQlkB,KAIR,GAJA,EAAwBvC,MAIUZ,IAAM8B,SAAS,KAAjD,mBAAO4O,EAAP,KAAkBC,EAAlB,KACA,EAAwB3Q,IAAM8B,UAAS,GAAvC,mBAAO6R,EAAP,KAAaC,EAAb,KACMrS,EAAWgZ,KACjB,EAAkCva,IAAM8B,SAAS,IAAjD,mBAAOklB,EAAP,KAAoBL,EAApB,KACA,EAA8B3mB,IAAM8B,UAAS,GAA7C,mBAAO6N,EAAP,KAAgBC,EAAhB,KAEM0X,EAAa,uCAAG,4BAAA/jB,EAAA,6DACpB5C,QAAQsD,IAAI+iB,GADQ,SAGftjB,EAHe,4DAG2CsjB,EAAY5kB,IAHvD,SAIHoB,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,SACRC,QAPkB,cAUrBW,IAAMC,QAAQ,UAAW,CACxBE,SAAU,YACVC,UAAW,IACXC,WAAW,IAEZ9E,OAAOC,SAASC,QAAQ,YAfH,kDAkBrBuE,IAAMzD,MAAM,KAAI8G,SAASvE,KAAKoB,QAAS,CACtCC,SAAU,YACVC,UAAW,IACXC,WAAW,IAEZkP,GAAQ,GAvBa,0DAAH,qDA2Bb2T,EAAa,uCAAG,oCAAAhkB,EAAA,sEAGV,qDAHU,SAIHC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,uDAHU,OAUtB,GAAmB,OANZC,EAJe,QAUd8C,OAAgB,CACxB9F,QAAQsD,IAAIN,EAAIR,KAAKkkB,UAEXA,EAAW,GAHG,cAIG1jB,EAAIR,KAAKkkB,UAJZ,IAIlB,IAJkB,iBAIRpN,EAJQ,QAKdoN,EAASxjB,KAAK,CACVuW,OAAQ,cAAC,KAAD,CAAMoN,GAAE,uBAAkBvN,EAAQ7X,IAAlC,SAAyC6X,EAAQG,OAAOzC,OAChE0O,KAAMpM,EAAQoM,KACdC,gBAAiBrM,EAAQqM,gBACzBC,cAAetM,EAAQsM,cACvBC,IAAKvM,EAAQuM,IACbC,kBAAmBxM,EAAQwM,kBAC3BC,eAAgBzM,EAAQyM,eACxB3H,SAAY,sBAAMrf,QAAS,kBAAM6B,EAAS,CAAEP,KAAK,cAAeE,QAAS+Y,KAAYtV,cAAY,QAAQgF,cAAY,SAAzG,SAAkH,cAAC,IAAD,CAAavK,KAAK,aAChJ4f,UAAY,sBAAMtf,QAAS,WAAQinB,EAAW1M,GAAUrG,GAAQ,IAApD,SAA8D,cAAC,IAAD,CAAaxU,KAAK,iBAVhG,EAAJ,qBAAwC,IAJtB,8BAkBlBuR,EAAa,CACXM,QAAS,CACP,CACEpK,MAAO,SACPqK,MAAO,UAET,CACErK,MAAO,OACPqK,MAAO,QAET,CACErK,MAAO,wBACPqK,MAAO,mBAET,CACErK,MAAO,MACPqK,MAAO,OAET,CACErK,MAAO,oBACPqK,MAAO,qBAET,CACErK,MAAO,gBACPqK,MAAO,iBAET,CACErK,MAAO,iBACPqK,MAAO,kBAET,CACIrK,MAAO,WACPqK,MAAO,WACPC,KAAO,YAEX,CACItK,MAAO,YACPqK,MAAO,YACPC,KAAO,aAGbC,KAAMiW,IAIVzX,GAAW,GAzEO,gDA4EpBjP,QAAQsD,IAAI,KAAIyD,SAASvE,KAAKoB,SA5EV,yDAAH,qDAmJjB,OAnEFvE,IAAMkE,WAAU,WACdqjB,MACA,IAEFvnB,IAAMkE,WAAU,WACd,GAAGmjB,EAAS,CACV,IADU,EACNI,EAAc,GADR,cAEWJ,EAASA,UAFpB,yBAEApN,EAFA,QAGRwN,EAAY5jB,KAAK,CACXuW,OAAQ,cAAC,KAAD,CAAMoN,GAAE,uBAAkBvN,EAAQ7X,IAAlC,SAAyC6X,EAAQG,OAAOzC,OAChE0O,KAAMpM,EAAQoM,KACdC,gBAAiBrM,EAAQqM,gBACzBC,cAAetM,EAAQsM,cACvBC,IAAKvM,EAAQuM,IACbC,kBAAmBxM,EAAQwM,kBAC3BC,eAAgBzM,EAAQyM,eACxB3H,SAAY,sBAAMrf,QAAS,kBAAM6B,EAAS,CAAEP,KAAK,cAAeE,QAAS+Y,KAAYtV,cAAY,QAAQgF,cAAY,SAAzG,SAAkH,cAAC,IAAD,CAAavK,KAAK,aAChJ4f,UAAY,sBAAMtf,QAAS,WAAQinB,EAAW1M,GAAUrG,GAAQ,IAApD,SAA8D,cAAC,IAAD,CAAaxU,KAAK,iBAVpG,IAAI,EAAJ,qBAAwC,IAF9B,8BAgBVuR,EAAa,CACXM,QAAS,CACP,CACEpK,MAAO,SACPqK,MAAO,UAET,CACErK,MAAO,OACPqK,MAAO,QAET,CACErK,MAAO,wBACPqK,MAAO,mBAET,CACErK,MAAO,MACPqK,MAAO,OAET,CACErK,MAAO,oBACPqK,MAAO,qBAET,CACErK,MAAO,gBACPqK,MAAO,iBAET,CACErK,MAAO,iBACPqK,MAAO,kBAET,CACIrK,MAAO,WACPqK,MAAO,WACPC,KAAO,YAEX,CACItK,MAAO,YACPqK,MAAO,YACPC,KAAO,aAGbC,KAAMqW,OAGV,CAACJ,IAGC,qCACA,cAAC,IAAD,IACE,qBAAK5nB,UAAU,MAAf,SAEIkQ,EACA,qBAAKlQ,UAAU,gCAAf,SACA,eAAC6R,GAAA,EAAD,CAAKC,GAAG,OAAR,UACA,cAACrB,GAAA,EAAD,CACLC,GAAG,OACHC,UAAU,SACVC,KAAK,KACEN,QAAQ,UACfpJ,KAAK,SACLmD,cAAY,SAPP,SASA,cAAC,KAAD,CACA2G,IAAKA,EACLlO,MAAO,CAAC,WAAa,MACrBmH,YAAU,EACV8H,OAAK,EACLC,eAAgB,CAAC,EAAG,GAAI,IACxBC,SAAO,EACPC,YAAa,EACbxO,KAAMuN,EACNkB,QAAM,EACNC,cAAY,EACZE,YAAU,MAGd,eAACmE,GAAA,EAAD,CAAOvC,KAAMA,EAAMwC,OAAQ,kBAAMvC,GAAQ,IAAzC,UACE,cAACsC,GAAA,EAAMzD,OAAP,UACA,cAACyD,GAAA,EAAME,MAAP,6BAEA,eAACF,GAAA,EAAMrD,KAAP,kEAAiEmU,EAAY5M,OAAS4M,EAAY5M,OAAOzC,KAAO,GAAhH,QACA,eAACzB,GAAA,EAAM9Q,OAAP,WACA,cAAC0K,GAAA,EAAD,CAAQC,QAAQ,SAASrQ,QAAS,kBAAMkU,GAAQ,IAAhD,oBAGA,cAAC9D,GAAA,EAAD,CAAQC,QAAQ,UAAUrQ,QAAS,WAAQ4nB,KAA3C,mCCtNOI,OA1BjB,WACE,IAAM7F,EAAe7hB,IAAMmf,SACvB,OACE,gCACI,eAACxJ,GAAA,EAAD,CAAKlW,UAAU,OAAf,UACI,cAAC6R,GAAA,EAAD,IAEA,cAACA,GAAA,EAAD,CAAKC,GAAG,OAAR,SACI,cAACzB,GAAA,EAAD,CAASrQ,UAAU,kBAAkB4Q,KAAK,UAAU1L,cAAY,QAAQgF,cAAY,uBAApF,SACI,mBAAGlK,UAAU,oBAGrB,cAAC6R,GAAA,EAAD,CAAKkI,IAAE,EAACsI,GAAG,IAAX,SACI,cAAC,KAAD,CACIC,QAAS,kBAAM,wBAAQtiB,UAAU,uBAAuB4Q,KAAK,UAA9C,SAAwD,cAAC,IAAD,CAAajR,KAAK,eACzF4iB,QAAS,kBAAMH,EAAaI,SAC5B1f,MAjCT,4MAsCH,cAAC,GAAD,CAAmBkO,IAAKoR,QCtCrB,SAASsE,KAEvB,MAAgCnmB,IAAM8B,SAAS,GAA/C,mBAAOqX,EAAP,KAAiBC,EAAjB,KAOG,OALHpZ,IAAMkE,WAAU,WAEf,OADAkV,EAAY,KACL,kBAAMA,EAAY,MACxB,IAGK,uBAAM3Z,UAAU,UAAhB,UACL,cAAC,KAAD,CAAY6P,MAAM,UAAUP,OAAO,MAAMoK,SAAUA,IAClD,sBAAK1Z,UAAU,sBAAf,UAEC,oBAAIA,UAAU,UAAd,kCAEA,qBAAKA,UAAU,MAAf,SAEC,qBAAKA,UAAU,SAAf,SACC,qBAAKA,UAAU,OAAf,SACC,cAAC,GAAD,UAMH,qBAAKA,UAAU,aAAa2C,GAAG,sBAAsByH,SAAS,KAAKlD,KAAK,SAASmD,cAAY,OAA7F,SACK,qBAAKrK,UAAU,eAAekH,KAAK,WAAnC,SACC,qBAAKlH,UAAU,gBAAf,SACC,qBAAKA,UAAU,eAAf,SACC,qBAAKA,UAAU,mBAAf,SACC,sBAAKA,UAAU,OAAf,UACC,sBAAKA,UAAU,eAAf,UACC,oBAAIA,UAAU,cAAd,6BACA,wBAAQuB,KAAK,SAASvB,UAAU,YAAYsK,eAAa,QAAQC,aAAW,aAE7E,qBAAKvK,UAAU,YAAf,SACC,cAAC,GAAD,mBASP,qBAAKA,UAAU,aAAa2C,GAAG,QAAQyH,SAAS,KAAKlD,KAAK,SAASmD,cAAY,OAA/E,SACC,qBAAKrK,UAAU,eAAekH,KAAK,WAAnC,SACC,qBAAKlH,UAAU,gBAAf,SACC,qBAAKA,UAAU,eAAf,SACC,qBAAKA,UAAU,mBAAf,SACC,sBAAKA,UAAU,OAAf,UACC,sBAAKA,UAAU,eAAf,UACC,oBAAIA,UAAU,cAAd,8BACA,wBAAQuB,KAAK,SAASvB,UAAU,YAAYsK,eAAa,QAAQC,aAAW,aAE7E,qBAAKvK,UAAU,YAAf,SACC,cAAC,GAAD,yBClDhB,IAyGekoB,GAzGU3nB,IAAMwQ,YAAW,SAACvR,EAAOwR,GAEhD,MAAkCzQ,IAAM8B,SAAS,IAAjD,mBAAO4O,EAAP,KAAkBC,EAAlB,KACMpP,EAAWgZ,KACjB,EAA8Cva,IAAM8B,SAAS,IAA7D,mBACA,GADA,UAC8B9B,IAAM8B,UAAS,IAA7C,mBAAO6N,EAAP,KAAgBC,EAAhB,KAEMgY,EAAiB,uCAAG,sCAAArkB,EAAA,sEAGpBG,EAHoB,4DAGsCzE,EAAMmD,IAH5C,SAIRoB,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eAC1D8F,OAAQ,MACRC,QAPyB,OAU1B,GAAmB,OANbC,EAJoB,QAUlB8C,OAAgB,CACxB9F,QAAQsD,IAAIN,EAAIR,KAAK8W,SAEXD,EAAe,GAHD,cAKHrW,EAAIR,KAAK8W,SALN,IAKlB,IALkB,iBAKR4N,EALQ,QAMlB7N,EAAanW,KAAK,CACdikB,SAAUD,EAAE3iB,IACZ6iB,aAAcF,EAAE7N,aAAavX,QAAO,SAAColB,GAAD,MAAkB,oBAAXA,EAAE7mB,QAAyB,GAAGgnB,QACzEC,UAAWJ,EAAE7N,aAAavX,QAAO,SAAColB,GAAD,MAAkB,cAAXA,EAAE7mB,QAAsB,GAAGgnB,QACnEE,SAAUL,EAAE7N,aAAavX,QAAO,SAAColB,GAAD,MAAkB,aAAXA,EAAE7mB,QAAqB,GAAGgnB,QACjEjJ,SAAY,sBAAMrf,QAAS,kBAAM6B,EAAS,CAAEP,KAAK,kBAAmBE,QAAS2mB,EAAE7N,gBAAiBrV,cAAY,QAAQgF,cAAY,SAApH,SAA6H,cAAC,IAAD,CAAavK,KAAK,gBAN3J,EAAJ,qBAAiC,IALf,8BAclBuR,EAAa,CACXM,QAAS,CACP,CACEpK,MAAO,oBACPqK,MAAO,YAET,CACErK,MAAO,kBACPqK,MAAO,gBAET,CACErK,MAAO,YACPqK,MAAO,aAET,CACErK,MAAO,WACPqK,MAAO,YAET,CACIrK,MAAO,WACPqK,MAAO,WACPC,KAAO,aAGbC,KAAM4I,IAIVpK,GAAW,GApDW,gDAuD1BjP,QAAQsD,IAAR,MAvD0B,yDAAH,qDA+DrB,OAJFjE,IAAMkE,WAAU,WACd0jB,MACA,IAGE,qCACA,cAAC,IAAD,IACE,qBAAKnoB,UAAU,MAAf,SAEIkQ,EACA,qBAAKlQ,UAAU,gCAAf,SACA,eAAC6R,GAAA,EAAD,CAAKC,GAAG,OAAR,UACA,cAACrB,GAAA,EAAD,CACTC,GAAG,OACHC,UAAU,SACVC,KAAK,KACIN,QAAQ,UACjBpJ,KAAK,SACLmD,cAAY,SAPH,SASA,cAAC,KAAD,CACA2G,IAAKA,EACLlO,MAAO,CAAC,WAAa,MACrBmH,YAAU,EACV8H,OAAK,EACLC,eAAgB,CAAC,EAAG,GAAI,IACxBC,SAAO,EACPC,YAAa,EACbxO,KAAMuN,EACNkB,QAAM,EACNC,cAAY,EACZE,YAAU,YC7DLoW,I,GAAAA,GA1BjB,SAA0BlpB,GACxB,IAAM4iB,EAAe7hB,IAAMmf,SACvB,OACE,gCACI,eAACxJ,GAAA,EAAD,CAAKlW,UAAU,OAAf,UACI,cAAC6R,GAAA,EAAD,IAEA,cAACA,GAAA,EAAD,CAAKC,GAAG,OAAR,SACI,cAACzB,GAAA,EAAD,CAASrQ,UAAU,kBAAkB4Q,KAAK,UAAU1L,cAAY,QAAQgF,cAAY,uBAApF,SACI,mBAAGlK,UAAU,oBAGrB,cAAC6R,GAAA,EAAD,CAAKkI,IAAE,EAACsI,GAAG,IAAX,SACI,cAAC,KAAD,CACIC,QAAS,kBAAM,wBAAQtiB,UAAU,uBAAuB4Q,KAAK,UAA9C,SAAwD,cAAC,IAAD,CAAajR,KAAK,eACzF4iB,QAAS,kBAAMH,EAAaI,SAC5B1f,MAjCT,4MAsCH,cAAC,GAAD,CAAkBH,GAAInD,EAAMmD,GAAKqO,IAAKoR,QCvCnC,SAASuG,GAAYnpB,GAEnC,MAAgCe,IAAM8B,SAAS,GAA/C,mBAAOqX,EAAP,KAAiBC,EAAjB,KAOG,OALHpZ,IAAMkE,WAAU,WAEf,OADAkV,EAAY,KACL,kBAAMA,EAAY,MACxB,IAGK,uBAAM3Z,UAAU,UAAhB,UACL,cAAC,KAAD,CAAY6P,MAAM,UAAUP,OAAO,MAAMoK,SAAUA,IAClD,sBAAK1Z,UAAU,sBAAf,UAEC,oBAAIA,UAAU,UAAd,qCAEA,qBAAKA,UAAU,MAAf,SAEC,qBAAKA,UAAU,SAAf,SACC,qBAAKA,UAAU,OAAf,SACC,cAAC,GAAD,CAAO2C,GAAInD,EAAMopB,MAAMC,OAAOlmB,WAMjC,qBAAK3C,UAAU,aAAa2C,GAAG,QAAQyH,SAAS,KAAKlD,KAAK,SAASmD,cAAY,OAA/E,SACC,qBAAKrK,UAAU,eAAekH,KAAK,WAAnC,SACC,qBAAKlH,UAAU,gBAAf,SACC,qBAAKA,UAAU,eAAf,SACC,qBAAKA,UAAU,mBAAf,SACC,sBAAKA,UAAU,OAAf,UACC,sBAAKA,UAAU,eAAf,UACC,oBAAIA,UAAU,cAAd,qCACA,wBAAQuB,KAAK,SAASvB,UAAU,YAAYsK,eAAa,QAAQC,aAAW,aAE7E,qBAAKvK,UAAU,iCClCX,SAAS8oB,KAEpB,IAAMhjB,EAAqBC,cAC9B,EAAgCxF,IAAM8B,SAAS,IAA/C,mBAAOiY,EAAP,KACA,GADA,KACgC/Z,IAAM8B,SAAS,KAA/C,mBAAOulB,EAAP,KAAiBmB,EAAjB,KACG,EAAwCxoB,IAAM8B,SAAS,IAAvD,mBAAOgkB,EAAP,KAAqB2C,EAArB,KAEGzC,EAAiB,uCAAG,sCAAAziB,EAAA,sEAEb,yDAFa,SAGNC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,2DAFa,OAGlBC,EAHkB,OASpB+kB,EAAuB,GATH,cAUC/kB,EAAIR,KAAK2iB,cAVV,IAUxB,IAAI,EAAJ,qBAAU5L,EAAqC,QAC1CtT,EAAM,CAAEnF,MAAOyY,EAAY9X,GAAIyE,MAAOqT,EAAYqL,aACtDmD,EAAqB7kB,KAAK+C,GAZH,8BAcxB6hB,EAAgBC,GAdQ,kDAiBxB/nB,QAAQsD,IAAI,KAAIyD,SAASvE,KAAKoB,SAjBN,0DAAH,qDAqBdgjB,EAAa,uCAAG,sCAAAhkB,EAAA,sEAEZ,qDAFY,SAGLC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,uDAFY,OAGjBC,EAHiB,OASnBglB,EAAmB,GATA,cAUFhlB,EAAIR,KAAKkkB,UAVP,IAUvB,IAAI,EAAJ,qBAAUpN,EAA6B,QAC1BtZ,QAAQsD,IAAyB,OAArBgW,EAAQF,SAAkBE,EAAQF,UACtB,OAArBE,EAAQF,WAClBnT,EAAM,CAAEnF,MAAOwY,EAAQ7X,GAAIyE,MAAOoT,EAAQG,OAAOzC,MACrDgR,EAAiB9kB,KAAK+C,IAdD,8BAiBvB4hB,EAAYG,GAjBW,kDAmBvBhoB,QAAQsD,IAAI,KAAIyD,SAASvE,KAAKoB,SAnBP,0DAAH,qDAuBbqkB,EAAW,uCAAG,sBAAArlB,EAAA,6DACtB5C,QAAQsD,IAAI8V,GADU,SAGV,sDAHU,SAIHvW,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,OACRC,IAJQ,sDAKEP,KAAM4W,IARE,cAWrB1V,IAAMC,QAAQ,UAAW,CACxBE,SAAU,YACVC,UAAW,IACXC,WAAW,IAGZ9E,OAAOC,SAASC,QAAQ,aAjBH,kDAoBrBa,QAAQsD,IAAI,KAAIyD,SAASvE,KAAKoB,SApBT,0DAAH,qDA6BjB,OALHvE,IAAMkE,WAAU,WACfqjB,IACMvB,MACL,IAGK,gCACL,cAAC,IAAD,IAEA,sBAAKvmB,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,oBAGZ,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAU,QAAf,SACC,cAAC,IAAD,CACCwI,YAAY,oBACZM,WAAYhD,EACZvH,QAASqpB,EACTtf,SAAU,SAACpI,GAAD,OAAOoa,EAAS8O,WAAalpB,EAAE8B,gBAM7C,sBAAKhC,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,yBAGZ,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAU,QAAf,SACC,cAAC,IAAD,CACCwI,YAAY,oBACZM,WAAYhD,EACZvH,QAAS8nB,EACT/d,SAAU,SAACpI,GAAD,OAAOoa,EAAS+O,eAAiBnpB,EAAE8B,gBAMjD,sBAAKhC,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,qBACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAC/BsI,SAAU,SAACpI,GAAD,OAAOoa,EAASiO,QAA2B,EAAlBroB,EAAE2F,OAAO7D,cAG9C,sBAAKhC,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,2BACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,OAAOvB,UAAU,eAC7BsI,SAAU,SAACpI,GAAD,OAAOoa,EAASgP,cAAeppB,EAAE2F,OAAO7D,cAKpD,qBAAKhC,UAAU,WAAf,SACC,qBAAKA,UAAU,WAAf,SACC,sBAAOA,UAAU,kBAAkBC,QAAS,kBAAMkpB,KAAlD,2BCrIU,SAASI,KAEvB,IAAQjP,EAAaO,KAAbP,SACRpZ,QAAQsD,IAAI8V,GACZ,IAAMxU,EAAqBC,cAE3B,EAAwCxF,IAAM8B,SAAS,IAAvD,mBAAOmnB,EAAP,KAAqBC,EAArB,KAEAvoB,QAAQsD,IAAIglB,GACZ,MAAgCjpB,IAAM8B,SAAS,IAA/C,mBAAOulB,EAAP,KAAiBmB,EAAjB,KACG,EAAwCxoB,IAAM8B,SAAS,IAAvD,mBAAOgkB,EAAP,KAAqB2C,EAArB,KAEGzC,EAAiB,uCAAG,sCAAAziB,EAAA,sEAEb,yDAFa,SAGNC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,2DAFa,OAGlBC,EAHkB,OASpB+kB,EAAuB,GATH,cAUC/kB,EAAIR,KAAK2iB,cAVV,IAUxB,IAAI,EAAJ,qBAAU5L,EAAqC,QAC1CtT,EAAM,CAAEnF,MAAOyY,EAAY9X,GAAIyE,MAAOqT,EAAYqL,aACtDmD,EAAqB7kB,KAAK+C,GAZH,8BAcxB6hB,EAAgBC,GAdQ,kDAiBxB/nB,QAAQsD,IAAI,KAAIyD,SAASvE,KAAKoB,SAjBN,0DAAH,qDAqBdgjB,EAAa,uCAAG,sCAAAhkB,EAAA,sEAEZ,qDAFY,SAGLC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,uDAFY,OAGjBC,EAHiB,OASnBglB,EAAmB,GATA,cAUFhlB,EAAIR,KAAKkkB,UAVP,IAUvB,IAAI,EAAJ,qBAEqC,QAF3BpN,EAA6B,SAEfF,WAClBnT,EAAM,CAAEnF,MAAOwY,EAAQ7X,GAAIyE,MAAOoT,EAAQG,OAAOzC,MACrDgR,EAAiB9kB,KAAK+C,IAdD,8BAiBvB4hB,EAAYG,GACZhoB,QAAQsD,IAAI0kB,GAlBW,kDAoBvBhoB,QAAQsD,IAAI,KAAIyD,SAASvE,KAAKoB,SApBP,0DAAH,qDAwBb4kB,EAAc,uCAAG,4BAAA5lB,EAAA,sEAElBG,EAFkB,6DAEyCqW,EAAS3X,IAFlD,SAGNoB,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,MACUP,KAAM8lB,IAPK,cAUxB5kB,IAAMC,QAAQ,UAAW,CACxBE,SAAU,YACVC,UAAW,IACXC,WAAW,IAGZ9E,OAAOC,SAASC,QAAQ,aAhBA,gDAmBxBa,QAAQsD,IAAI,KAAIyD,SAASvE,KAAKoB,SAnBN,yDAAH,qDAuCpB,OAhBHvE,IAAMkE,WAAU,WACfqjB,IACMvB,MACL,IAEFhmB,IAAMkE,WAAU,WACZ6V,GACFmP,EAAgB,CACfL,WAAY9O,EAASE,QAAQ7X,GAC7B0mB,eAAgB/O,EAASG,YAAY9X,GACrC2mB,cAAe,IAAIvoB,KAAKuZ,EAASgP,eACjCf,QAASjO,EAASiO,YAGnB,CAACjO,IAGI,gCACL,cAAC,IAAD,IAEA,sBAAKta,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,oBAGZ,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAU,QAAf,SACC,cAAC,IAAD,CACCwI,YAAY,oBACZM,WAAYhD,EACZvH,QAASqpB,EACTtf,SAAU,SAACpI,GAAD,OAAOspB,EAAaJ,WAAalpB,EAAE8B,gBAMjD,sBAAKhC,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,yBAGZ,qBAAKA,UAAU,WAAf,SACC,qBAAKA,UAAU,QAAf,SACC,cAAC,IAAD,CACCwI,YAAY,oBACZM,WAAYhD,EACZvH,QAAS8nB,EACT/d,SAAU,SAACpI,GAAD,OAAOspB,EAAaH,eAAiBnpB,EAAE8B,gBAMrD,sBAAKhC,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,qBACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,SAASvB,UAAU,eAAe6I,aAAc2gB,EAAajB,QACzEjgB,SAAU,SAACpI,GAAD,OAAOspB,EAAajB,QAA2B,EAAlBroB,EAAE2F,OAAO7D,cAGlD,sBAAKhC,UAAU,WAAf,UACa,uBAAOA,UAAU,uCAAjB,2BACA,qBAAKA,UAAU,WAAf,SACX,uBAAOuB,KAAK,OAAOvB,UAAU,eAAe6I,aAAc,IAAI9H,KAAKyoB,EAAaF,eAChFhhB,SAAU,SAACpI,GAAD,OAAOspB,EAAaF,cAAe,IAAIvoB,KAAKb,EAAE2F,OAAO7D,eAKjE,qBAAKhC,UAAU,WAAf,SACC,qBAAKA,UAAU,WAAf,SACC,sBAAOA,UAAU,kBAAkBC,QAAS,kBAAMypB,KAAlD,2BChJL,IAAMC,GAAYrmB,cAAH,8NA6NAsmB,GA5MOrpB,IAAMwQ,YAAW,SAACvR,EAAOwR,GAE7C,MAAiDxN,0BACjDmmB,IADcE,EAAd,EAAQnmB,KAIR,GAJA,EAAyBvC,MAISZ,IAAM8B,SAAS,KAAjD,mBAAO4O,EAAP,KAAkBC,EAAlB,KACA,EAAwB3Q,IAAM8B,UAAS,GAAvC,mBAAO6R,EAAP,KAAaC,EAAb,KACMrS,EAAWgZ,KACjB,EAAoCva,IAAM8B,SAAS,IAAnD,mBAAOmnB,EAAP,KAAqBM,EAArB,KACA,EAA8BvpB,IAAM8B,UAAS,GAA7C,mBAAO6N,EAAP,KAAgBC,EAAhB,KAEM4Z,EAAc,uCAAG,4BAAAjmB,EAAA,6DACrB5C,QAAQsD,IAAIglB,GADS,SAGhBvlB,EAHgB,6DAG2CulB,EAAa7mB,IAHxD,SAIJoB,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,SACRC,QAPmB,cAUtBW,IAAMC,QAAQ,UAAW,CACxBE,SAAU,YACVC,UAAW,IACXC,WAAW,IAEZ9E,OAAOC,SAASC,QAAQ,aAfF,kDAkBtBuE,IAAMzD,MAAM,KAAI8G,SAASvE,KAAKoB,QAAS,CACtCC,SAAU,YACVC,UAAW,IACXC,WAAW,IAEZkP,GAAQ,GAvBc,0DAAH,qDA2Bd6V,EAAc,uCAAG,oCAAAlmB,EAAA,sEAGX,sDAHW,SAIJC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,wDAHW,OAUvB,GAAmB,OANZC,EAJgB,QAUf8C,OAAgB,CACxB9F,QAAQsD,IAAIN,EAAIR,KAAKmmB,WAEXA,EAAY,GAHE,cAII3lB,EAAIR,KAAKmmB,WAJb,IAIlB,IAJkB,iBAIRvP,EAJQ,QAKduP,EAAUzlB,KAAK,CACXuW,OAAQL,EAASE,QAAQG,OAAOzC,KAChCuC,YAAaH,EAASG,YAAYqL,YAClCyC,QAASjO,EAASiO,QAClBjX,KAAM,IAAIvQ,KAAKuZ,EAASgP,eAAeW,qBACvC3K,SAAY,sBAAMrf,QAAS,kBAAM6B,EAAS,CAAEP,KAAK,eAAgBE,QAAS6Y,KAAapV,cAAY,QAAQgF,cAAY,SAA3G,SAAoH,cAAC,IAAD,CAAavK,KAAK,aAClJ4f,UAAY,sBAAMtf,QAAS,WAAQ6pB,EAAYxP,GAAWnG,GAAQ,IAAtD,SAAgE,cAAC,IAAD,CAAaxU,KAAK,iBAPlG,EAAJ,qBAA0C,IAJxB,8BAelBuR,EAAa,CACXM,QAAS,CACP,CACEpK,MAAO,SACPqK,MAAO,UAET,CACErK,MAAO,cACPqK,MAAO,eAET,CACErK,MAAO,UACPqK,MAAO,WAET,CACErK,MAAO,gBACPqK,MAAO,QAET,CACIrK,MAAO,WACPqK,MAAO,WACPC,KAAO,YAEX,CACItK,MAAO,YACPqK,MAAO,YACPC,KAAO,aAGbC,KAAMkY,IAIV1Z,GAAW,GA1DQ,gDA6DrBjP,QAAQsD,IAAR,MA7DqB,yDAAH,qDAqHlB,OApDFjE,IAAMkE,WAAU,WACdulB,MACA,IAEFzpB,IAAMkE,WAAU,WACd,GAAGolB,EAAU,CACX,IADW,EACPK,EAAgB,GADT,cAEaL,EAAUA,WAFvB,yBAECvP,EAFD,QAGP4P,EAAc9lB,KAAK,CACbuW,OAAQL,EAASE,QAAQG,OAAOzC,KAChCuC,YAAaH,EAASG,YAAYqL,YAClCyC,QAASjO,EAASiO,QAClBjX,KAAM,IAAIvQ,KAAKuZ,EAASgP,eAAeW,qBACvC3K,SAAY,sBAAMrf,QAAS,kBAAM6B,EAAS,CAAEP,KAAK,eAAgBE,QAAS6Y,KAAapV,cAAY,QAAQgF,cAAY,SAA3G,SAAoH,cAAC,IAAD,CAAavK,KAAK,aAClJ4f,UAAY,sBAAMtf,QAAS,WAAQ6pB,EAAYxP,GAAWnG,GAAQ,IAAtD,SAAgE,cAAC,IAAD,CAAaxU,KAAK,iBAPtG,IAAI,EAAJ,qBAA2C,IAFlC,8BAaTuR,EAAa,CACXM,QAAS,CACP,CACEpK,MAAO,SACPqK,MAAO,UAET,CACErK,MAAO,cACPqK,MAAO,eAET,CACErK,MAAO,UACPqK,MAAO,WAET,CACErK,MAAO,gBACPqK,MAAO,QAET,CACIrK,MAAO,WACPqK,MAAO,WACPC,KAAO,YAEX,CACItK,MAAO,YACPqK,MAAO,YACPC,KAAO,aAGbC,KAAMuY,OAGZ,CAACL,IAGC,qCACA,cAAC,IAAD,IACE,qBAAK7pB,UAAU,MAAf,SAEIkQ,EACA,qBAAKlQ,UAAU,gCAAf,SACA,eAAC6R,GAAA,EAAD,CAAKC,GAAG,OAAR,UACA,cAACrB,GAAA,EAAD,CACLC,GAAG,OACHC,UAAU,SACVC,KAAK,KACEN,QAAQ,UACfpJ,KAAK,SACLmD,cAAY,SAPP,SASA,cAAC,KAAD,CACA2G,IAAKA,EACLlO,MAAO,CAAC,WAAa,MACrBmH,YAAU,EACV8H,OAAK,EACLC,eAAgB,CAAC,EAAG,GAAI,IACxBC,SAAO,EACPC,YAAa,EACbxO,KAAMuN,EACNkB,QAAM,EACNC,cAAY,EACZE,YAAU,MAGd,eAACmE,GAAA,EAAD,CAAOvC,KAAMA,EAAMwC,OAAQ,kBAAMvC,GAAQ,IAAzC,UACE,cAACsC,GAAA,EAAMzD,OAAP,UACA,cAACyD,GAAA,EAAME,MAAP,6BAEA,cAACF,GAAA,EAAMrD,KAAP,uEACA,eAACqD,GAAA,EAAM9Q,OAAP,WACA,cAAC0K,GAAA,EAAD,CAAQC,QAAQ,SAASrQ,QAAS,kBAAMkU,GAAQ,IAAhD,oBAGA,cAAC9D,GAAA,EAAD,CAAQC,QAAQ,UAAUrQ,QAAS,WAAQ8pB,KAA3C,mCCjLOI,OA1BjB,WACE,IAAM/H,EAAe7hB,IAAMmf,SACvB,OACE,gCACI,eAACxJ,GAAA,EAAD,CAAKlW,UAAU,OAAf,UACI,cAAC6R,GAAA,EAAD,IAEA,cAACA,GAAA,EAAD,CAAKC,GAAG,OAAR,SACI,cAACzB,GAAA,EAAD,CAASrQ,UAAU,kBAAkB4Q,KAAK,UAAU1L,cAAY,QAAQgF,cAAY,SAApF,SACI,mBAAGlK,UAAU,oBAGrB,cAAC6R,GAAA,EAAD,CAAKkI,IAAE,EAACsI,GAAG,IAAX,SACI,cAAC,KAAD,CACIC,QAAS,kBAAM,wBAAQtiB,UAAU,uBAAuB4Q,KAAK,UAA9C,SAAwD,cAAC,IAAD,CAAajR,KAAK,eACzF4iB,QAAS,kBAAMH,EAAaI,SAC5B1f,MAjCT,4MAsCH,cAAC,GAAD,CAAmBkO,IAAKoR,QCtCrB,SAASgI,GAAS5qB,GAEhC,MAAgCe,IAAM8B,SAAS,GAA/C,mBAAOqX,EAAP,KAAiBC,EAAjB,KAOG,OALHpZ,IAAMkE,WAAU,WAEf,OADAkV,EAAY,KACL,kBAAMA,EAAY,MACxB,IAGK,uBAAM3Z,UAAU,UAAhB,UACL,cAAC,KAAD,CAAY6P,MAAM,UAAUP,OAAO,MAAMoK,SAAUA,IAClD,sBAAK1Z,UAAU,sBAAf,UAEC,oBAAIA,UAAU,UAAd,mCAEA,qBAAKA,UAAU,MAAf,SAEC,qBAAKA,UAAU,SAAf,SACC,qBAAKA,UAAU,OAAf,SACC,cAAC,GAAD,UAMY,qBAAKA,UAAU,aAAa2C,GAAG,QAAQyH,SAAS,KAAKlD,KAAK,SAASmD,cAAY,OAA/E,SACd,qBAAKrK,UAAU,eAAekH,KAAK,WAAnC,SACC,qBAAKlH,UAAU,gBAAf,SACC,qBAAKA,UAAU,eAAf,SACC,qBAAKA,UAAU,mBAAf,SACC,sBAAKA,UAAU,OAAf,UACC,sBAAKA,UAAU,eAAf,UACC,oBAAIA,UAAU,cAAd,8BACA,wBAAQuB,KAAK,SAASvB,UAAU,YAAYsK,eAAa,QAAQC,aAAW,aAE7E,qBAAKvK,UAAU,YAAf,SACC,cAAC8oB,GAAD,mBASP,qBAAK9oB,UAAU,aAAa2C,GAAG,QAAQyH,SAAS,KAAKlD,KAAK,SAASmD,cAAY,OAA/E,SACC,qBAAKrK,UAAU,eAAekH,KAAK,WAAnC,SACC,qBAAKlH,UAAU,gBAAf,SACC,qBAAKA,UAAU,eAAf,SACC,qBAAKA,UAAU,mBAAf,SACC,sBAAKA,UAAU,OAAf,UACC,sBAAKA,UAAU,eAAf,UACC,oBAAIA,UAAU,cAAd,kCACA,wBAAQuB,KAAK,SAASvB,UAAU,YAAYsK,eAAa,QAAQC,aAAW,aAE7E,qBAAKvK,UAAU,YAAf,SACC,cAACupB,GAAD,yB,wGCfG,SAASc,GAAT,GAAsC,IAAX1P,EAAU,EAAVA,OAEtC,EAAwBpa,IAAM8B,SAAS,IAAvC,mBAAOqB,EAAP,KAAa4mB,EAAb,KAEMC,EAAY,SAAClN,GACf,IADyB,EACrBmN,EAAM,EADe,cAEVnN,EAAMoN,SAFI,IAEzB,IAAI,EAAJ,qBAA6B,CACzBD,GADyB,QAChBxO,UAHY,8BAKzB,OAAOwO,GAyBX,OANAjqB,IAAMkE,WAAU,WACTkW,GAjBY,WACf,IAAI+P,EAAW,GACf,GAAG/P,EAAO,CAAC,IAAD,gBACaA,EAAO4B,iBADpB,IACN,IAAI,EAAJ,qBAA0C,CAAC,IAAjCc,EAAgC,QACtCqN,EAAStmB,KAAK,CACVgF,KAAMiU,EAAM9b,KACZya,SAAUqB,EAAMrB,SAChB2O,kBAAmBJ,EAAUlN,GAC7BuN,IAAKvN,EAAMrB,YANb,8BASN9a,QAAQsD,IAAIkmB,GACZJ,EAAQI,IAMRG,KAEN,CAAClQ,IAGD,cAACmQ,GAAA,EAAD,CAAqBzb,MAAM,OAAOC,OAAO,OAAzC,SACE,eAACyb,GAAA,EAAD,CACE1b,MAAO,IACPC,OAAQ,IACR5L,KAAMA,EACNsnB,OAAQ,CACNC,IAAK,EACLC,MAAO,GACPC,KAAM,GACNC,OAAQ,GARZ,UAWE,cAACC,GAAA,EAAD,CAAeC,gBAAgB,QAC/B,cAACC,GAAA,EAAD,CAAOC,QAAQ,SACf,cAACC,GAAA,EAAD,IACA,cAAC,KAAD,IACA,cAACC,GAAA,EAAD,IACA,cAACC,GAAA,EAAD,CAAKH,QAAQ,WAAWI,KAAK,YAC7B,cAACD,GAAA,EAAD,CAAKH,QAAQ,oBAAoBI,KAAK,iB,qBChGjC,SAASC,GAAT,GAAqC,IAAd5N,EAAa,EAAbA,UAElC,EAAgC1d,WAAe,IAA/C,mBAAO0kB,EAAP,KAAiBC,EAAjB,KAEME,EAAa,uCAAE,gDAAAthB,EAAA,sEAEX,qDAFW,SAGJC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,uDAFW,OAGhBC,EAHgB,OASTR,EAAO,GATE,cAUQQ,EAAIR,KAAKuhB,UAVjB,IAUb,IAAI,EAAJ,qBAAuC,CAA7BZ,EAA6B,QAC/Bld,EAAM,CAAExE,GAAI0hB,EAAQD,OAAQ0H,KAAK,WAAD,OAAazH,EAAQD,QAAUzkB,KAAM,UACrEwE,EAAI,EACJ4nB,EAAQ,GAHuB,cAIf1H,EAAQnG,SAJO,IAInC,IAAI,EAAJ,qBAAUvD,EAA0B,QAChCoR,EAAM3nB,KAAK,CAAEzB,GAAIwB,EAAE,IAAIkgB,EAAQD,OAAQ0H,KAAMnR,EAAOzC,KAAMvY,KAAM,OAAQqC,MAAO2Y,IAC/ExW,IAN+B,8BAQnCgD,EAAI4kB,MAAQA,EACZroB,EAAKU,KAAK+C,IAnBD,8BAsBbjG,QAAQsD,IAAId,GACrBwhB,EAAYxhB,GAvBU,kDA0BrBxC,QAAQsD,IAAR,MA1BqB,0DAAF,qDA8BnBjE,aAAgB,WACZ6kB,MACF,IAWE,OACA,8BACI,cAAC,KAAD,CAAmBziB,GAAG,WAAWqpB,WAAY/G,EAAUgH,OAX5C,CAAEC,QAAS,OAAQC,QAAS,QAWgCC,YAAY,oBAAoBC,UAAU,EAAMC,YAAY,EAAMC,OAT7I,SAAmBlrB,GACXA,EAAMyqB,KAAKU,WAAW,aACtBtrB,QAAQsD,IAAInD,GACZ4c,EAAU5c,EAAMqC,KAAK1B,a,wBC7C/B0B,GAAO,CACX,CACE0F,KAAM,SACNqjB,GAAI,IACJC,GAAI,KACJ9B,IAAK,MAEP,CACExhB,KAAM,SACNqjB,GAAI,IACJC,GAAI,KACJ9B,IAAK,MAEP,CACExhB,KAAM,SACNqjB,GAAI,IACJC,GAAI,KACJ9B,IAAK,MAEP,CACExhB,KAAM,SACNqjB,GAAI,KACJC,GAAI,KACJ9B,IAAK,KAEP,CACExhB,KAAM,SACNqjB,GAAI,KACJC,GAAI,KACJ9B,IAAK,MAEP,CACExhB,KAAM,SACNqjB,GAAI,KACJC,GAAI,KACJ9B,IAAK,MAEP,CACExhB,KAAM,SACNqjB,GAAI,KACJC,GAAI,KACJ9B,IAAK,OAIM,SAAS+B,KAEpB,OAEI,cAAC7B,GAAA,EAAD,CAAqBzb,MAAM,OAAOC,OAAO,OAAzC,SACE,eAACsd,GAAA,EAAD,CACEvd,MAAO,IACPC,OAAQ,IACR5L,KAAMA,GACNmpB,OAAO,QACP7B,OAAQ,CACNC,IAAK,GACLC,MAAO,GACPC,KAAM,EACNC,OAAQ,GATZ,UAYE,cAACC,GAAA,EAAD,CAAeC,gBAAgB,QAC/B,cAACC,GAAA,EAAD,CAAOC,QAAQ,SACf,cAACC,GAAA,EAAD,IACA,cAAC,KAAD,IACA,cAACqB,GAAA,EAAD,CAAMvrB,KAAK,WAAWiqB,QAAQ,KAAKuB,OAAO,UAAUnB,KAAK,iB,gEClE/DloB,GAAO,CACX,CACE0F,KAAM,SACNqjB,GAAI,IACJb,KAAM,WAER,CACExiB,KAAM,SACNqjB,GAAI,GACJb,KAAM,WAER,CACExiB,KAAM,cACNqjB,GAAI,GACJb,KAAM,WAER,CACExiB,KAAM,YACNqjB,GAAI,MACJb,KAAM,WAER,CACExiB,KAAM,WACNqjB,GAAI,KACJb,KAAM,WAER,CACExiB,KAAM,iBACNqjB,GAAI,KACJb,KAAM,YAIJ9oB,GAAQ,CACZmoB,IAAK,MACLC,MAAO,EACP8B,UAAW,qBACX/jB,WAAY,QAGOgkB,G,gKAEnB,WACE,OACE,cAACnC,GAAA,EAAD,CAAqBzb,MAAM,OAAOC,OAAO,OAAzC,SACE,eAAC4d,GAAA,EAAD,CAAgBC,GAAG,MAAMC,GAAG,MAAMC,YAAY,MAAMC,YAAY,MAAMC,QAAS,GAAI7pB,KAAMA,GAAzF,UACE,cAAC8pB,GAAA,EAAD,CACEC,SAAU,GACVrmB,MAAO,CAAErC,SAAU,cAAe6mB,KAAM,QACxC8B,YAAU,EACVC,WAAS,EACTnC,QAAQ,OAEV,cAACE,GAAA,EAAD,CAAQkC,SAAU,GAAIC,OAAO,WAAWC,cAAc,SAASC,aAAcjrB,c,GAb/CkrB,iBCpCzB,SAASC,KAEpB,MAA4B1tB,WAAe,MAA3C,mBAAOoa,EAAP,KAAesD,EAAf,KAqCA,OAJA1d,aAAgB,WACZW,QAAQsD,IAAImW,KACd,CAACA,IAGH,8BACC,qBAAK3a,UAAU,kBAAf,SACG,cAAC,KAAD,CAA0B2C,GAAG,gBAAgBurB,YAtC7B,CAAC,GAAI,IAsCkD1c,QAAS,EAAhF,SACA,eAAC,KAAD,WACI,cAAC,KAAD,CAAgB2c,MAAO,EAAGC,MAAO,EAAGC,IAAK,EAAGC,IAAK,EAAGC,OAAO,oBAAoBhM,QAlCvF,WACI,OAAQ,cAACoK,GAAD,CAAiBhS,OAAQA,OAkC7B,cAAC,KAAD,CAAgBwT,MAAO,EAAGC,MAAO,EAAGC,IAAK,EAAGC,IAAK,EAAGC,OAAO,6BAA6BhM,QAfhG,WAEI,OAAQ,cAAC8H,GAAD,CAAkB1P,OAAQA,OAc9B,cAAC,KAAD,CAAgBwT,MAAO,EAAGC,MAAO,EAAGC,IAAK,EAAGC,IAAK,EAAG/L,QAxC5D,WACI,OAAO,cAACsJ,GAAD,CAAa5N,UAAWA,OAwC3B,cAAC,KAAD,CAAgBkQ,MAAO,EAAGC,MAAO,EAAGC,IAAK,EAAGC,IAAK,EAAGC,OAAO,yBAAyBhM,QAjC5F,WACI,OAAQ,cAACoK,GAAD,CAAiBhS,OAAQA,OAiC7B,cAAC,KAAD,CAAgBwT,MAAO,EAAGC,MAAO,EAAGC,IAAK,EAAGC,IAAK,EAAGC,OAAO,8BAA8BhM,QA9BjG,WACI,OAAQ,cAACoK,GAAD,CAAiBhS,OAAQA,OA8B7B,cAAC,KAAD,CAAgBwT,MAAO,EAAGC,MAAO,EAAGC,IAAK,EAAGC,IAAK,EAAGC,OAAO,yCAAyChM,QA3B5G,WACI,OAAQ,cAACoK,GAAD,CAAiBhS,OAAQA,OA2B7B,cAAC,KAAD,CAAgBwT,MAAO,EAAGC,MAAO,EAAGC,IAAK,EAAGC,IAAK,EAAGC,OAAO,4BAA4BhM,QAxB/F,WACI,OAAQ,cAACoK,GAAD,CAAiBhS,OAAQA,OAwB7B,cAAC,KAAD,CAAgBwT,MAAO,EAAGC,MAAO,EAAGC,IAAK,EAAGC,IAAK,EAAGC,OAAO,4BAA4BhM,QAAS0K,cCpD7F,SAASuB,KAEpB,MAA+BjuB,IAAM8B,SAAS,IAA9C,mBAAgB6iB,GAAhB,WAEME,EAAa,uCAAE,4BAAAthB,EAAA,sEAEX,qDAFW,SAGJC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,uDAFW,OAGhBC,EAHgB,OASbhD,QAAQsD,IAAIN,EAAIR,KAAKuhB,UAC9BC,EAAYhhB,EAAIR,KAAKuhB,UAVC,gDAcrB/jB,QAAQsD,IAAR,MAdqB,yDAAF,qDAsBnB,OAJAjE,IAAMkE,WAAU,WACZ2gB,MACF,IAGE,sBAAMplB,UAAU,UAAhB,SACA,sBAAKA,UAAU,sBAAf,UACI,cAACkW,GAAA,EAAD,UACI,cAACrE,GAAA,EAAD,UACI,oBAAI7R,UAAU,UAAd,uCAIR,cAACiuB,GAAD,SC5BZ,IAuIeQ,GAvIMluB,IAAMwQ,YAAW,SAACvR,EAAOwR,GAE5C,MAAkCzQ,IAAM8B,SAAS,IAAjD,mBAAkB6O,GAAlB,WACA,EAAwB3Q,IAAM8B,UAAS,GAAvC,mBAAa8R,GAAb,WACMrS,EAAWgZ,KACjB,EAAoCva,IAAM8B,SAAS,IAAnD,mBAAqBynB,GAArB,WACA,EAA8BvpB,IAAM8B,UAAS,GAA7C,mBAAO6N,EAAP,KAAgBC,EAAhB,KAEM6Z,EAAc,uCAAG,oCAAAlmB,EAAA,sEAGX,sDAHW,SAIJC,IAAM,CACvBhG,QAAS,CAAC,cAAgB,UAAhB,OAA2BE,aAAaC,QAAQ,eACxD8F,OAAQ,MACRC,IAJQ,wDAHW,OAUvB,GAAmB,OANZC,EAJgB,QAUf8C,OAAgB,CACxB9F,QAAQsD,IAAIN,EAAIR,KAAKmmB,WAEXA,EAAY,GAHE,cAII3lB,EAAIR,KAAKmmB,WAJb,IAIlB,IAJkB,iBAIRvP,EAJQ,QAKduP,EAAUzlB,KAAK,CACXuW,OAAQL,EAASE,QAAQG,OAAOzC,KAChCuC,YAAaH,EAASG,YAAYqL,YAClCyC,QAASjO,EAASiO,QAClBjX,KAAM,IAAIvQ,KAAKuZ,EAASgP,eAAeW,qBACvC3K,SAAY,sBAAMrf,QAAS,kBAAM6B,EAAS,CAAEP,KAAK,eAAgBE,QAAS6Y,KAAapV,cAAY,QAAQgF,cAAY,SAA3G,SAAoH,cAAC,IAAD,CAAavK,KAAK,aAClJ4f,UAAY,sBAAMtf,QAAS,WAAQ6pB,EAAYxP,GAAWnG,GAAQ,IAAtD,SAAgE,cAAC,IAAD,CAAaxU,KAAK,iBAPlG,EAAJ,qBAA0C,IAJxB,8BAelBuR,EAAa,CACXM,QAAS,CACP,CACEpK,MAAO,SACPqK,MAAO,UAET,CACErK,MAAO,cACPqK,MAAO,eAET,CACErK,MAAO,UACPqK,MAAO,WAET,CACErK,MAAO,gBACPqK,MAAO,QAET,CACIrK,MAAO,WACPqK,MAAO,WACPC,KAAO,YAEX,CACItK,MAAO,YACPqK,MAAO,YACPC,KAAO,aAGbC,KAAMkY,IAIV1Z,GAAW,GA1DQ,gDA6DrBjP,QAAQsD,IAAR,MA7DqB,yDAAH,qDAiEpBjE,IAAMkE,WAAU,WACdulB,MACA,IAyBA,OACE,qCACA,cAAC,IAAD,IACE,qBAAKhqB,UAAU,MAAf,SAEIkQ,EACA,qBAAKlQ,UAAU,gCAAf,SACA,eAAC6R,GAAA,EAAD,CAAKC,GAAG,OAAR,UACA,cAACrB,GAAA,EAAD,CACLC,GAAG,OACHC,UAAU,SACVC,KAAK,KACEN,QAAQ,UACfpJ,KAAK,SACLmD,cAAY,SAPP,SASA,cAAC,KAAD,CACA2G,IAAKA,EACLlO,MAAO,CAAC,WAAa,MACrBmH,YAAU,EACV8H,OAAK,EACLC,eAAgB,CAAC,EAAG,GAAI,IACxBC,SAAO,EACPC,YAAa,EACbxO,KA/CG,CACX8N,QAAS,CACP,CACEpK,MAAO,SACPqK,MAAO,UAET,CACErK,MAAO,UACPqK,MAAO,UAET,CACErK,MAAO,gBACPqK,MAAO,kBAGXE,KAAM,CACF,CACAgJ,OAAQ,eACRrZ,OAAQ,iDACRotB,cAAe,MA6BXvc,QAAM,EACNC,cAAY,EACZE,YAAU,YC7FLqc,OAxBjB,WACE,IAAMvM,EAAe7hB,IAAMmf,SACvB,OACE,gCACI,eAACxJ,GAAA,EAAD,CAAKlW,UAAU,OAAf,UACI,cAAC6R,GAAA,EAAD,IAEA,cAACA,GAAA,EAAD,CAAKC,GAAG,SAGR,cAACD,GAAA,EAAD,CAAKkI,IAAE,EAACsI,GAAG,IAAX,SACI,cAAC,KAAD,CACIC,QAAS,kBAAM,wBAAQtiB,UAAU,uBAAuB4Q,KAAK,UAA9C,SAAwD,cAAC,IAAD,CAAajR,KAAK,eACzF4iB,QAAS,kBAAMH,EAAaI,SAC5B1f,MA/BT,4MAoCH,cAAC,GAAD,CAAmBkO,IAAKoR,QCtCrB,SAASgI,GAAS5qB,GAEhC,MAAgCe,IAAM8B,SAAS,GAA/C,mBAAOqX,EAAP,KAAiBC,EAAjB,KAOG,OALHpZ,IAAMkE,WAAU,WAEf,OADAkV,EAAY,KACL,kBAAMA,EAAY,MACxB,IAGK,uBAAM3Z,UAAU,UAAhB,UACL,cAAC,KAAD,CAAY6P,MAAM,UAAUP,OAAO,MAAMoK,SAAUA,IAClD,sBAAK1Z,UAAU,sBAAf,UAEC,oBAAIA,UAAU,UAAd,0BAEA,qBAAKA,UAAU,MAAf,SAEC,qBAAKA,UAAU,SAAf,SACC,qBAAKA,UAAU,OAAf,SACC,cAAC,GAAD,gB,aCpBO,SAAS4uB,GAAcpvB,GAClC,IAAQkB,EAASuB,IAATvB,KAER,OAAIlB,EAAMqvB,gBAAkBnuB,EACjB,cAAC,KAAD,CAAUqnB,GAAG,WAEb,cAAC,KAAD,aAAOhL,UAAWvd,EAAMud,WAAevd,I,cCsFvCsvB,OAtDf,WAME,MAJsB,qBAAX3uB,SACTA,OAAOI,MAAQA,KAKf,cAAChB,EAAD,UACA,cAAC,EAAD,UACA,cAAC,GAAD,UACA,cAAC,KAAD,UAEI,sBAAKS,UAAU,UAAf,UACE,cAACoC,EAAD,IACA,sBAAKpC,UAAU,OAAf,UACA,cAACuD,EAAD,IACA,eAAC,KAAD,WACE,cAACqrB,GAAD,CAAeG,OAAK,EAACC,KAAK,SAASjS,UAAWjN,GAAOmf,OAAK,IAC1D,cAACL,GAAD,CAAeG,OAAK,EAACC,KAAK,gBAAgBjS,UAAWzT,EAAWulB,eAAa,EAACtqB,UAAU,6BACxF,cAACqqB,GAAD,CAAeG,OAAK,EAACC,KAAK,SAASjS,UAAWzQ,GAAMuiB,eAAa,EAACtqB,UAAU,sBAC5E,cAACqqB,GAAD,CAAeG,OAAK,EAACC,KAAK,WAAWjS,UAAW1P,GAAOwhB,eAAa,EAACtqB,UAAU,wBAC/E,cAACqqB,GAAD,CAAeG,OAAK,EAACC,KAAK,cAAcjS,UAAWxP,GAAWshB,eAAa,EAACtqB,UAAU,2BACtF,cAACqqB,GAAD,CAAeG,OAAK,EAACC,KAAK,kBAAkBjS,UAAWpP,GAAekhB,eAAa,EAACtqB,UAAU,wBAC9F,cAACqqB,GAAD,CAAeG,OAAK,EAACC,KAAK,WAAWjS,UAAWpN,GAASkf,eAAa,IACtE,cAACD,GAAD,CAAeG,OAAK,EAACC,KAAK,YAAYjS,UAAWjP,GAAU+gB,eAAa,IACxE,cAACD,GAAD,CAAeG,OAAK,EAACC,KAAK,aAAajS,UAAWvD,GAAWqV,eAAa,IAC1E,cAACD,GAAD,CAAeG,OAAK,EAACC,KAAK,WAAWjS,UAAW6C,GAASiP,eAAa,IACtE,cAACD,GAAD,CAAeG,OAAK,EAACC,KAAK,YAAYjS,UAAWmS,GAAML,eAAa,IACpE,cAACD,GAAD,CAAeG,OAAK,EAACC,KAAK,mCAA0BjS,UAAW8D,GAAUgO,eAAa,IACtF,cAACD,GAAD,CAAeG,OAAK,EAACC,KAAK,YAAYjS,UAAWoS,GAASN,eAAa,IACvE,cAACD,GAAD,CAAeG,OAAK,EAACC,KAAK,aAAajS,UAAW0G,GAAWoL,eAAa,IAC1E,cAACD,GAAD,CAAeG,OAAK,EAACC,KAAK,YAAYjS,UAAWiI,GAAU6J,eAAa,IACxE,cAACD,GAAD,CAAeG,OAAK,EAACC,KAAK,UAAUjS,UAAW2I,GAAQmJ,eAAa,IACpE,cAACD,GAAD,CAAeG,OAAK,EAACC,KAAK,eAAejS,UAAW2J,GAAamI,eAAa,IAC9E,cAACD,GAAD,CAAeG,OAAK,EAACC,KAAK,WAAWjS,UAAWqS,GAASP,eAAa,IACtE,cAACD,GAAD,CAAeG,OAAK,EAACC,KAAK,mBAAmBjS,UAAW4L,GAAakG,eAAa,IAClF,cAACD,GAAD,CAAeG,OAAK,EAACC,KAAK,YAAYjS,UAAWqN,GAAUyE,eAAa,IACxE,cAACD,GAAD,CAAeG,OAAK,EAACC,KAAK,cAAcjS,UAAWsS,GAAYR,eAAa,IAC5E,cAACD,GAAD,CAAeG,OAAK,EAACC,KAAK,UAAUjS,UAAWxK,GAAQsc,eAAa,IACpE,cAACD,GAAD,CAAeG,OAAK,EAACC,KAAK,WAAWjS,UAAWuS,GAAST,eAAa,IACtE,cAACD,GAAD,CAAe7R,UAAWgD,GAAM8O,eAAa,OAE/C,cAAClpB,EAAD,mBChFV4pB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEF7gB,SAASC,eAAe,W","file":"static/js/main.31631427.chunk.js","sourcesContent":["import React from 'react'\r\nimport {\r\n  ApolloClient,\r\n  InMemoryCache,\r\n  ApolloProvider as Provider,\r\n  createHttpLink,\r\n  split,\r\n} from '@apollo/client'\r\n\r\nimport { setContext } from '@apollo/client/link/context'\r\nimport { WebSocketLink } from '@apollo/client/link/ws'\r\nimport { getMainDefinition } from '@apollo/client/utilities'\r\n\r\nlet httpLink = createHttpLink({\r\n  uri: 'http://priqh2server.herokuapp.com/graphql',\r\n})\r\n\r\nconst authLink = setContext((_, { headers }) => {\r\n  // // get the authentication token from local storage if it exists\r\n  const token = localStorage.getItem('tokenARRU');\r\n  // return the headers to the context so httpLink can read them\r\n  return {\r\n    headers: {\r\n      ...headers,\r\n      authorization: token ? `Bearer ${token}` : '',\r\n    },\r\n  }\r\n})\r\n\r\nhttpLink = authLink.concat(httpLink)\r\n\r\nconst wsLink = new WebSocketLink({\r\n  uri: `ws://priqh2server.herokuapp.com/graphql`,\r\n  options: {\r\n    reconnect: true,\r\n    connectionParams: {\r\n      Authorization: `Bearer ${localStorage.getItem('tokenARRU')}`,\r\n    },\r\n  },\r\n});\r\n\r\nconst splitLink = split(\r\n  ({ query }) => {\r\n    const definition = getMainDefinition(query)\r\n    return (\r\n      definition.kind === 'OperationDefinition' &&\r\n      definition.operation === 'subscription'\r\n    )\r\n  },\r\n  wsLink,\r\n  httpLink\r\n)\r\n\r\nconst client = new ApolloClient({\r\n  link: splitLink,\r\n  cache: new InMemoryCache(),\r\n})\r\n\r\nexport default function ApolloProvider(props) {\r\n  return <Provider client={client} {...props} />\r\n}","import React from 'react';\r\nimport FeatherIcon from 'feather-icons-react';\r\n\r\nexport default function SidebarItem({title, icon,l, selecteditem,title2, setselecteditem}) {\r\n    \r\n    const refreshPage = (e) => {\r\n        window.location.replace(l);\r\n    }\r\n\r\n    return (\r\n        <li className={selecteditem === title || selecteditem === title2 ? \"sidebar-item active\" : \"sidebar-item \"} onClick={refreshPage}>\r\n            <span className=\"sidebar-link\" onClick={()=> setselecteditem(title)}>\r\n            <FeatherIcon icon={icon}/>\r\n                <span className=\"align-middle\">{title}</span>\r\n            </span>\r\n       </li>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport jwtDecode from 'jwt-decode';\r\n\r\nconst AuthStateContext = React.createContext();\r\nconst AuthDispatchContext = React.createContext();\r\n\r\nlet user = null;\r\nconst token = localStorage.getItem(\"tokenARRU\");\r\n\r\n\r\nif(token !== 'undefined' && token !== undefined && token !== null){\r\n\r\n    const decodedToken = jwtDecode(token);\r\n    const expiresAt = new Date(decodedToken.exp * 1000);\r\n\r\n    if(new Date() > expiresAt){\r\n        localStorage.removeItem('tokenARRU');\r\n    } else {\r\n        user = decodedToken;\r\n    }\r\n} else {\r\n    console.error('token not found');\r\n}\r\n\r\nconst authReducer = (state, action) => {\r\n    switch(action.type) {\r\n        case 'LOGIN' :\r\n            localStorage.setItem('tokenARRU',action.payload);\r\n            const decodedToken = jwtDecode(action.payload);\r\n            return {\r\n                ...state,\r\n                user: decodedToken,\r\n            }\r\n        case 'LOGOUT' :\r\n            localStorage.removeItem('tokenARRU');\r\n            return {\r\n                ...state,\r\n                user: null,\r\n            }\r\n        default:\r\n            throw new Error(`Unkonwn action type: ${action.type}`);\r\n    }\r\n}\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n    const [state, dispatch] = React.useReducer(authReducer, { user });\r\n\r\n    return (\r\n        <AuthDispatchContext.Provider value={dispatch}>\r\n            <AuthStateContext.Provider value={state}>\r\n                {children}\r\n            </AuthStateContext.Provider>\r\n        </AuthDispatchContext.Provider>\r\n    );\r\n}\r\n\r\nexport const useAuthState = () => React.useContext(AuthStateContext);\r\nexport const useAuthDispatch = () => React.useContext(AuthDispatchContext);","import React, { Profiler } from 'react';\r\nimport SidebarItem from './SidebarItem';\r\nimport { useAuthState } from '../../context/auth';\r\n\r\nexport default function Sidebar(props) {\r\n\r\n\tconst { user } = useAuthState();\r\n\t\r\n\tconst [selectedItem, setSelectedItem]=React.useState(window.location.href.slice(22,window.location.href.length));\r\n\r\n\t\r\n\tif(user !== null && user !== undefined){\r\n    return (\r\n        <nav id=\"sidebar\" className=\"sidebar\">\r\n\t\t\t<div className=\"sidebar-content js-simplebar\">\r\n\t\t\t\t<span className=\"sidebar-brand\" href=\"index.html\">\r\n                    <span className=\"px-4\">\r\n                        <img src=\"img/photos/priqh.png\" alt=\"priqh2\" style={{ \"height\": \"80px\" }}/>\r\n                    </span>\r\n                </span>\r\n\r\n\t\t\t\t<ul className=\"sidebar-nav\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t{ user.payload.interfaces.filter((el) => [\"gestion des utilisateurs\", \"gestion des roles\", \"gestion des groupes\", \"gestion des fonctionalites\", \"gestion des interfaces\", \"gestion des tracabilites\"].indexOf(el.titre) > -1).length > 0 ? \r\n\t\t\t\t\t<li className=\"sidebar-header\">\r\n\t\t\t\t\t\tDroits d'accès\r\n\t\t\t\t\t</li> : \"\"}\r\n\r\n\t\t\t\t\t{ user.payload.interfaces.filter((el) => el.titre === \"gestion des utilisateurs\").length > 0 ?  \r\n\t\t\t\t\t<SidebarItem title=\"Utilisateurs\" icon=\"users\" l=\"/Utilisateurs\" selecteditem={selectedItem} setselecteditem={setSelectedItem}/>\r\n\t\t\t\t\t: \"\"}\r\n\r\n\t\t\t\t\t{ user.payload.interfaces.filter((el) => el.titre === \"gestion des roles\").length > 0 ?\r\n\t\t\t\t\t<SidebarItem title=\"Roles\" icon=\"briefcase\" l=\"/Roles\" selecteditem={selectedItem} setselecteditem={setSelectedItem}/>\r\n\t\t\t\t\t: \"\" }\r\n\r\n\t\t\t\t\t{ user.payload.interfaces.filter((el) => el.titre === \"gestion des groupes\").length > 0 ?\r\n\t\t\t\t\t<SidebarItem title=\"Groupes\" icon=\"book\" l=\"/Groupes\" selecteditem={selectedItem} setselecteditem={setSelectedItem} />\r\n\t\t\t\t\t: \"\" }\r\n\t\t\t\t\t{ user.payload.interfaces.filter((el) => el.titre === \"gestion des fonctionalites\").length > 0 ?\r\n\t\t\t\t\t<SidebarItem title=\"Fonctionalites\" icon=\"book\" l=\"/Fonctionalites\" selecteditem={selectedItem} setselecteditem={setSelectedItem} />\r\n\t\t\t\t\t: \"\" } \r\n\t\t\t\t\t{ user.payload.interfaces.filter((el) => el.titre === \"gestion des interfaces\").length > 0 ?\r\n\t\t\t\t\t<SidebarItem title=\"Interfaces\" icon=\"layout\" l=\"/Interfaces\" selecteditem={selectedItem} setselecteditem={setSelectedItem} />\r\n\t\t\t\t\t: \"\" } \r\n\t\t\t\t\t{ user.payload.interfaces.filter((el) => el.titre === \"gestion des tracabilites\").length > 0 ?\r\n\t\t\t\t\t<SidebarItem title=\"Tracabilites\" icon=\"search\" l=\"/Traces\" selecteditem={selectedItem} setselecteditem={setSelectedItem} />\r\n\t\t\t\t\t: \"\" } \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t{ user.payload.interfaces.filter((el) => [\"gestion des communes\", \"gestion des quartiers\", \"gestion des criteres\", \"gestion des projets\", \"gestion des tranches\"].indexOf(el.titre) > -1).length > 0 ? \r\n\t\t\t\t\t<li className=\"sidebar-header\">\r\n\t\t\t\t\t\tIdentification des projets\r\n\t\t\t\t\t</li> : \"\"}\r\n\r\n\t\t\t\t\t{ user.payload.interfaces.filter((el) => el.titre === \"gestion des communes\").length > 0 ? \r\n\t\t\t\t\t<SidebarItem title=\"Communes\" icon=\"list\" l=\"/communes\" selecteditem={selectedItem} setselecteditem={setSelectedItem} />\r\n\t\t\t\t\t: \"\" }\r\n\t\t\t\t\t{ user.payload.interfaces.filter((el) => el.titre === \"gestion des quartiers\").length > 0 ? \r\n\t\t\t\t\t<SidebarItem title=\"Quartiers\" icon=\"map-pin\" l=\"/Quartiers\" selecteditem={selectedItem} setselecteditem={setSelectedItem} />\r\n\t\t\t\t\t: \"\" }\r\n\t\t\t\t\t{ user.payload.interfaces.filter((el) => el.titre === \"gestion des criteres\").length > 0 ? \r\n\t\t\t\t\t<SidebarItem title=\"Critéres d'éligibilité\" icon=\"filter\" l=\"/Critéres d'éligibilité\" selecteditem={selectedItem} setselecteditem={setSelectedItem} />\r\n\t\t\t\t\t: \"\" }\r\n\t\t\t\t\t{ user.payload.interfaces.filter((el) => el.titre === \"gestion des projets\").length > 0 ? \r\n\t\t\t\t\t<SidebarItem title=\"Projets\" icon=\"clipboard\" l=\"/Projets\" selecteditem={selectedItem} setselecteditem={setSelectedItem} />\r\n\t\t\t\t\t: \"\" }\r\n\t\t\t\t\t{ user.payload.interfaces.filter((el) => el.titre === \"gestion des tranches\").length > 0 ? \r\n\t\t\t\t\t<SidebarItem title=\"Tranches\" icon=\"pie-chart\" l=\"/Tranches\" selecteditem={selectedItem} setselecteditem={setSelectedItem} />\r\n\t\t\t\t\t: \"\" }\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t\t{ user.payload.interfaces.filter((el) => [\"gestion des bailleurs\", \"gestion des memoires\"].indexOf(el.titre) > -1).length > 0 ? \r\n\t\t\t\t\t<li className=\"sidebar-header\">\r\n\t\t\t\t\t\tFinancement\r\n\t\t\t\t\t</li> : \"\"}\r\n\t\t\t\t\t{ user.payload.interfaces.filter((el) => el.titre === \"gestion des bailleurs\").length > 0 ? \r\n\t\t\t\t\t<SidebarItem title=\"Beilleurs de fond\" icon=\"users\" l=\"/beilleurs\" selecteditem={selectedItem} setselecteditem={setSelectedItem} />\r\n\t\t\t\t\t: \"\" }\r\n\t\t\t\t\t{ user.payload.interfaces.filter((el) => el.titre === \"gestion des memoires\").length > 0 ? \r\n\t\t\t\t\t<SidebarItem title=\"Memoire\" icon=\"dollar-sign\" l=\"/Memoire\" selecteditem={selectedItem} setselecteditem={setSelectedItem} />\r\n\t\t\t\t\t: \"\" }\r\n\t\r\n\t\t\t\t\t{ user.payload.interfaces.filter((el) => [\"gestion des avancements\", \"gestion des decomptes\", \"gestion des prestataires\"].indexOf(el.titre) > -1).length > 0 ? \r\n\t\t\t\t\t<li className=\"sidebar-header\">\r\n\t\t\t\t\t\tSuivi de Travaux\r\n\t\t\t\t\t</li> : \"\"}\r\n\t\t\t\t\r\n\t\t\t\t\t{ user.payload.interfaces.filter((el) => el.titre === \"gestion des avancements\").length > 0 ? \r\n\t\t\t\t\t<SidebarItem title=\"Avancement\" icon=\"trending-up\" l=\"/Avancement\" selecteditem={selectedItem} setselecteditem={setSelectedItem} />\r\n\t\t\t\t\t: \"\" }\r\n\t\t\t\t\t{ user.payload.interfaces.filter((el) => el.titre === \"gestion des decomptes\").length > 0 ? \r\n\t\t\t\t\t<SidebarItem title=\"Decompte\" icon=\"dollar-sign\" l=\"/Decompte\" selecteditem={selectedItem} setselecteditem={setSelectedItem} />\r\n\t\t\t\t\t: \"\" }\r\n\t\t\t\t\t{ user.payload.interfaces.filter((el) => el.titre === \"gestion des prestataires\").length > 0 ? \r\n\t\t\t\t\t<SidebarItem title=\"Prestataire\" icon=\"dollar-sign\" l=\"/Prestataire\" selecteditem={selectedItem} setselecteditem={setSelectedItem} />\r\n\t\t\t\t\t: \"\" }\r\n\r\n\t\t\t\t\t<li className=\"sidebar-header\">\r\n\t\t\t\t\t\tprofile\r\n\t\t\t\t\t\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<SidebarItem title=\"Mon profile\" title2=\"settings\" icon=\"user\" l=\"/Profile\" selecteditem={selectedItem} setselecteditem={setSelectedItem} />\r\n\t\t\t\t\t<SidebarItem title=\"deconnection\" icon=\"log-out\" l=\"/login\" selecteditem={selectedItem} setselecteditem={setSelectedItem} />\r\n\t\t\t\t\t\r\n\t\t\t\t</ul>\r\n\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t</nav>\r\n    ) } else {\r\n\t\treturn(\r\n\t\t\t<React.Fragment></React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { useAuthState } from '../../context/auth';\r\nimport { useAuthDispatch } from '../../context/auth';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport {ToastContainer as TContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport axios from 'axios';\r\nimport { gql, useSubscription } from '@apollo/client'\r\n\r\nconst NOTIFICATIONS = gql`\r\nsubscription notifications {\r\n  notifications{\r\n    message\r\n    type\r\n    interface{titre}\r\n  }\r\n}`\r\nexport default function Navbar(props) {\r\n\r\n    const { data: notificationsRL, error: messageError } = useSubscription(\r\n\t\tNOTIFICATIONS\r\n\t)\r\n\r\n    const { user } = useAuthState();\r\n    \r\n    const dispatch = useAuthDispatch();\r\n\r\n    const logout = () => {\r\n        dispatch({ type:'LOGOUT' });\r\n        window.location.href = '/login';\r\n    }\r\n\r\n\r\n    const [notifications, setNotifications] = React.useState([]);\r\n\r\n    const fetchNotifications = async () => {\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/notifications/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\t\t\t\r\n                let interfaces = [];\r\n                for(const i of user.payload.interfaces){\r\n                    interfaces.push(i.titre);\r\n                }\r\n \r\n                let notifs = [];\r\n                for(const n of res.data.notifications){\r\n                    if(interfaces.indexOf(n.interface.titre) > -1){\r\n                        notifs.push(n);\r\n                    }\r\n                }\r\n\t\t\t\tsetNotifications(notifs);\r\n                \r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t}\r\n\r\n    React.useEffect(() => {\r\n     \r\n        if(notificationsRL){\r\n        \r\n        let interfaces = [];\r\n        for(const i of user.payload.interfaces){\r\n            interfaces.push(i.titre);\r\n        }\r\n        \r\n            let notifs = [];\r\n            for(const n of notificationsRL.notifications){\r\n                if(interfaces.indexOf(n.interface.titre) > -1){\r\n                    notifs.push(n);\r\n                }\r\n            }\r\n            \r\n            notifs.slice(0,notifs.length-notifications.length).forEach((notif) => {\r\n                toast.success(notif.message, {\r\n                    position: 'top-right',\r\n                    autoClose: 3000,\r\n                    draggable: false\r\n                });\r\n            });\r\n            setNotifications(notificationsRL.notifications);\r\n        }\r\n    },[notificationsRL]);\r\n\r\n    React.useEffect(() => {\r\n        fetchNotifications();\r\n    },[]);\r\n\r\n    if(user){\r\n    return (\r\n        <>\r\n        <TContainer/>\r\n        <nav className=\"navbar navbar-expand navbar-light navbar-bg\">\r\n            <a className=\"sidebar-toggle d-flex\">\r\n                <i className=\"hamburger align-self-center\"></i>\r\n            </a>\r\n\r\n\r\n            <div className=\"navbar-collapse collapse\">\r\n                <ul className=\"navbar-nav navbar-align\">\r\n                    <li className=\"nav-item dropdown\">\r\n                        <a className=\"nav-icon dropdown-toggle\" href=\"#\" id=\"alertsDropdown\" data-toggle=\"dropdown\">\r\n                            <div className=\"position-relative\">\r\n                                <FeatherIcon icon=\"bell\" />\r\n                                <span className=\"indicator\">{notifications.length}</span>\r\n                            </div>\r\n                        </a>\r\n                        <div className=\"dropdown-menu dropdown-menu-sm dropdown-menu-left py-0\" aria-labelledby=\"alertsDropdown\">\r\n                            <div className=\"dropdown-menu-header\">\r\n                                {notifications.length} Notifications\r\n                            </div>\r\n                            <div className=\"list-group\">\r\n                                {\r\n                                    notifications.map((notification, index) => (\r\n                                        <a key={index} href=\"#\" className=\"list-group-item\">\r\n                                        <div className=\"row g-0 align-items-center\">\r\n                                            <div className=\"col-10\">\r\n                                                <div className=\"text-muted small mt-1\">{notification.message}</div>\r\n                                                <div className=\"text-muted small mt-1\">{new Date(notification.updatedAt).toLocaleString()}</div>\r\n                                            </div>\r\n                                        </div>\r\n                                        </a>\r\n                                    ))\r\n                                }\r\n                               \r\n                              \r\n                            </div>\r\n                            <div className=\"dropdown-menu-footer\">\r\n                                <a href=\"#\" className=\"text-muted\">Show all notifications</a>\r\n                            </div>\r\n                        </div>\r\n                    </li>\r\n                   \r\n                    <li className=\"nav-item dropdown\">\r\n\r\n                        <a className=\"nav-icon dropdown-toggle d-inline-block d-sm-none\" href=\"#\" data-toggle=\"dropdown\">\r\n                            <FeatherIcon className=\"align-middle\" icon=\"settings\" />\r\n                        </a>\r\n\r\n                        <a className=\"nav-link dropdown-toggle d-none d-sm-inline-block\" href=\"#\" data-toggle=\"dropdown\">\r\n                            { 1 > 0 ? \"\" : <><img src={user.payload.image === null || user.payload === undefined ? \"img/photos/user-01.png\" : `http://priqh2server.herokuapp.com/img/utilisateurs/${user.payload.image}`} className=\"avatar img-fluid rounded mr-1\" alt=\"user\" /> <span className=\"text-dark\">{ user.payload.nom+\" \"+user.payload.prenom }</span></> }\r\n                            <img src=\"img/photos/user-01.png\" className=\"avatar img-fluid rounded mr-1\" alt=\"user\" /> <span className=\"text-dark\">{ user.payload.nom+\" \"+user.payload.prenom }</span>\r\n                        </a>\r\n\r\n                        <div className=\"dropdown-menu dropdown-menu-right\">\r\n                            <a className=\"dropdown-item\" href=\"/Profile\"><FeatherIcon className=\"align-middle mr-1\" icon=\"user\" /> Profile</a>\r\n                          \r\n                            <div className=\"dropdown-divider\"></div>\r\n                            <a className=\"dropdown-item\" href=\"/settings\"><FeatherIcon className=\"align-middle mr-1\" icon=\"settings\" /> Settings & Privacy</a>\r\n                          \r\n                            <div className=\"dropdown-divider\"></div>\r\n                            <span className=\"dropdown-item\" style={{ \"cursor\": \"pointer\" }} onClick={logout}><FeatherIcon className=\"align-middle mr-1\" icon=\"log-out\" /> Log out</span>\r\n                        </div>\r\n\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </nav></>\r\n    ) } else {\r\n        return (\r\n            <React.Fragment></React.Fragment>\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<div className=\"row text-muted\">\r\n\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t<p className=\"mb-0\">\r\n                            &copy; {new Date().getFullYear()} L'ARRU -  \r\n\t\t\t\t\t\t\t<a href=\"https://www.linkedin.com/in/sarra-garbouj-9136101bb/\" target=\"_blank\" className=\"text-muted\"><strong> Sarra Garbouj </strong></a> \r\n                             &  \r\n                            <a href=\"https://www.linkedin.com/in/ghaith-arfaoui-%F0%9F%9A%80-7501aa180/\" target=\"_blank\" className=\"text-muted\"><strong> Ghaith Arfaoui</strong></a>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</footer>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport Select from 'react-select';\r\nimport makeAnimated from 'react-select/animated';\r\nimport axios from 'axios';\r\n\r\nconst animatedComponents = makeAnimated();\r\nexport default function Form({ user }) {\r\nconst [selectedLabels,setSelectedLabels]=React.useState([]);\r\nconst [roles, setRoles] = React.useState([]);\r\nconst [roles_specifications, setRoles_specifications] = React.useState([]);\r\nconst [relations, setRelations] = React.useState([]);\r\nconst [utilisateur, setUtilisateur] = React.useState({});\r\nconst [showDiv, setShowDiv]= React.useState(false);\r\nconst [rolesDefault, setRolesDefault] = React.useState([]);\r\n\r\n\tconst fetchRoles = async () => {\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/roles/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\t\r\n\t\t\tsetRoles_specifications(res.data.roles);\r\n\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\t\r\n\t\t\t\tlet roles_options = [];\r\n\t\t\t\tfor(const role of res.data.roles){\r\n\t\t\t\t\tlet obj = { value: role.id, label: role.titre }\r\n\t\t\t\t\troles_options.push(obj);\r\n\t\t\t\t}\r\n\t\t\t\tsetRoles(roles_options);\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log('roles_specifications',roles_specifications);\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t}\r\n\tfunction checkedSp (value,id,role) {\r\n\t\tfor(let i =0 ; i< user.roles.length; i++)\r\n\t\t{if(user.roles[i].specification === value){\r\n\t\t\tconst roleSelected = roles_specifications.filter((el) => {return el.titre === role});\r\n\t\t\tconsole.log(roleSelected);\r\n\t\t\tfor(let i=0; i<relations.length; i++){\r\n\t\t\t\tif(relations[i].role_id === roleSelected[0].id){\r\n\t\t\t\t\trelations[i].specification_id = id;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}}\r\n\t\t return false ;\r\n\t}\r\n\r\n\tReact.useEffect(() => {\r\n\t\tfetchRoles()\r\n\t},[]);\r\n\r\n  \tconst handleChange = (e) => {\r\n\t\tsetRelations(Array.isArray(e) ? e.map(x => { return {role_id: x.value, specification_id: null}}) : []);\r\n\t\tsetSelectedLabels(Array.isArray(e) ? e.map(x => { return {label: x.label, value: x.value}}) : []);\r\n  \t}\r\n\r\n\tconst handleRolesDefault = (roles) => {\r\n\t\tsetRelations(roles.map(x => { return {role_id: x.value, specification_id: null}}));\r\n\t\tsetSelectedLabels(roles.map(x => { return {label: x.label, value: x.value}}));\r\n  \t}\r\n\r\n\tconst handleRelations = (e,index) => {\r\n\t\trelations[index].specification_id = e.target.value;\r\n\t}\r\n\r\n\tconst addUser = async() => {\r\n\t\tconsole.log({utilisateur, relations});\r\n\t\ttry{\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/utilisateurs/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'post',\r\n\t\t\t  \turl,\r\n\t\t\t\tdata: {utilisateur, relations}\r\n\t\t\t});\r\n\r\n\t\t\twindow.location.replace('/Utilisateurs');\r\n\r\n\t\t}catch(err){\r\n\t\t\tconsole.log(err.response.data.message);\r\n\t\t}\r\n\t}\r\n\r\n\tconst updateUser = async() => {\r\n\t\tconsole.log({utilisateur, relations});\r\n\t\ttry{\r\n\t\t\tconst url =`http://priqh2server.herokuapp.com/api/v1/utilisateurs/${user.id}`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'put',\r\n\t\t\t  \turl,\r\n\t\t\t\tdata: {utilisateur, relations}\r\n\t\t\t});\r\n\r\n\t\t\twindow.location.replace('/Utilisateurs');\r\n\r\n\t\t}catch(err){\r\n\t\t\tconsole.log(err.response.data.message);\r\n\t\t}\r\n\t}\r\n\r\n\tconst makeArray = async() => {\r\n\t\tconst defaults = [];\r\n\t\tfor(const role of roles){\r\n\t\t\tfor(const roleUser of user.roles){\r\n\t\t\t\tif(role.label === roleUser.titre){\r\n\t\t\t\t\tdefaults.push(role);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetRolesDefault(defaults);\r\n\t\thandleRolesDefault(defaults);\r\n\t}\r\n\r\n\r\n    return (\r\n        <div>\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Cin :</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"text\" className=\"form-control\" onChange={(e) => setUtilisateur({ ...utilisateur, cin: e.target.value })} placeholder={user ? user.cin : \"CIN\"}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Nom :</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"text\" className=\"form-control\" onChange={(e) => setUtilisateur({ ...utilisateur, nom: e.target.value })} placeholder={user ? user.nom : \"Nom\"}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Prénom :</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"text\" className=\"form-control\" onChange={(e) => setUtilisateur({ ...utilisateur, prenom: e.target.value })} placeholder={user ? user.prenom : \"Prénom\"}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Email :</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"email\" className=\"form-control\" onChange={(e) => setUtilisateur({ ...utilisateur, email: e.target.value })} placeholder={user ? user.email : \"Email\"}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n            <div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Password :</label>\r\n                <div className=\"col-sm-9\">\r\n                    <input type=\"password\" className=\"form-control\" placeholder=\"Password\" onChange={(e) => setUtilisateur({ ...utilisateur, password: e.target.value })}/>\r\n                </div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Telephone :</label>\r\n                <div className=\"col-sm-9\">\r\n                    <input type=\"tel\" className=\"form-control\" onChange={(e) => setUtilisateur({ ...utilisateur, telephone: e.target.value })} placeholder={user ? user.telephone : \"telephone\"}/>\r\n                </div>\r\n\t\t\t</div>\r\n\t\t\t<hr/>\r\n\t\t\t{ user ? \r\n\t\t\t<div>\r\n\t\t\t<div className=\"mb-3 row\">\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n                    <button className=\"btn btn-danger\" onClick={() => { setShowDiv(!showDiv); makeArray() }}>{ !showDiv ? \"Réinitialiser les roles\" : \"cancel\"}</button>\r\n                </div>\r\n\t\t\t</div>\r\n\r\n\t\t\t{ showDiv ? (\r\n\t\t\t<div>\r\n\t\t\t<hr/>\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Roles :</label>\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<div className=\"boxes\" >\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tcloseMenuOnSelect={false}\r\n\t\t\t\t\t\t\tdefaultValue={user ? rolesDefault : []}\r\n\t\t\t\t\t\t\tcomponents={animatedComponents}\r\n\t\t\t\t\t\t\tisMulti\r\n\t\t\t\t\t\t\toptions={roles}\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t/>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"mb-3 row\">\r\n                \r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<div className=\"boxes\" id=\"box\" >\r\n\t\t\t\t\t\t{selectedLabels && <div style={{ marginTop: 20, lineHeight: '25px' }}>\r\n\t\t\t\t\t\t\t<div>{\r\n\t\t\t\t\t\t\t\t\tselectedLabels.map((role,index) =>( \r\n\t\t\t\t\t\t\t\t\t\t<div key={index} className=\"mb-3 row\">\r\n\t\t\t\t\t\t\t\t\t\t\t{ `${role.label} :` }\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\troles_specifications.filter((el) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn el.titre === role.label\r\n\t\t\t\t\t\t\t\t\t\t\t\t})[0].specification.map((sp,i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span key={i}><input className=\"col\" defaultChecked={checkedSp(sp.titre,sp.id,role.label)} type=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t onClick={(e) => handleRelations(e,index)} name={role.label} value={sp.id} /> { sp.titre}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t}</div>\r\n\t\t\t\t\t\t</div>}\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div> </div>) : \"\" \r\n\t\t\t}</div> : (\r\n\t\t\t<div>\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">roles</label>\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<div className=\"boxes\" >\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tcloseMenuOnSelect={false}\r\n\t\t\t\t\t\t\tdefaultValue={user ? rolesDefault : []}\r\n\t\t\t\t\t\t\tcomponents={animatedComponents}\r\n\t\t\t\t\t\t\tisMulti\r\n\t\t\t\t\t\t\toptions={roles}\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t/>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"mb-3 row\">\r\n                \r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<div className=\"boxes\" id=\"box\" >\r\n\t\t\t\t\t\t{selectedLabels && <div style={{ marginTop: 20, lineHeight: '25px' }}>\r\n\t\t\t\t\t\t\t<div>{\r\n\t\t\t\t\t\t\t\t\tselectedLabels.map((role,index) =>( \r\n\t\t\t\t\t\t\t\t\t\t<div key={index} className=\"mb-3 row\">\r\n\t\t\t\t\t\t\t\t\t\t\t{ `${role.label} :` }\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\troles_specifications.filter((el) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn el.titre === role.label\r\n\t\t\t\t\t\t\t\t\t\t\t\t})[0].specification.map((sp,i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span key={i}><input className=\"col\" type=\"radio\" onClick={(e) => handleRelations(e,index)} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={role.label}  value={sp.id} /> { sp.titre}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t}</div>\r\n\t\t\t\t\t\t</div>}\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div> </div> )\r\n\t\t\t}\r\n\t\t\t<div className=\"mb-3 row\">\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<span onClick={() => { if (user){ updateUser() } else { addUser(); }}} className=\"btn btn-primary\">Submit</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport '../../css_folder/style.css';\r\nimport Form from '../components/Form'\r\nimport axios from 'axios';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport { gql, useSubscription } from '@apollo/client'\r\nimport { Table } from 'react-bootstrap';\r\n\r\n\r\nconst UTILISATEURS = gql`\r\nsubscription utilisateurs {\r\n  utilisateurs{\r\n    nom\r\n    prenom\r\n\temail\r\n    telephone\r\n    roles{role{titre}}\r\n  }\r\n}`\r\n\r\nexport default function Dashboard() {\r\n\tconst [users,setUsers]= React.useState([]);\r\n\r\n\tconst [userEdit, setUserEdit] = React.useState({});\r\n\r\n\tconst { data: utilisateurs, error: messageError } = useSubscription(\r\n\t\tUTILISATEURS\r\n\t)\r\n\t\r\n\r\n\t//console.log(utilisateurs.utilisateurs);\r\n\t  //console.log('messageError', messageError);\r\n\t\r\n\tReact.useEffect(() => {\r\n\t\tfetchUsers();\r\n\t},[]);\r\n\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif(utilisateurs !== undefined){\r\n\t\t\tsetUsers(utilisateurs.utilisateurs);\r\n\t\t}\r\n\t},[utilisateurs]);\r\n\t  \r\n\tconst fetchUsers = async (e) => {\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/utilisateurs/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\t\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t  \r\n\t\t\t\tsetUsers(res.data.utilisateurs);\r\n\t\t\t  \tconsole.log(res);\r\n\r\n\t\t\t}\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\tconsole.log(\"Alert\");\r\n\t\t\t}\r\n\t}\r\n\r\n\tconst updateUser = async (id) => {\r\n\t\ttry {\r\n\t\t\tconst url =`http://priqh2server.herokuapp.com/api/v1/utilisateurs/${id}`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'put',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\t\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tsetUsers(res.data.utilisateurs);\r\n\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\tconsole.log(\"Alert\");\r\n\t\t\t}\r\n\t}\r\n\r\n\tconst deleteUser = async (user) => {\r\n\t\t// eslint-disable-next-line no-restricted-globals\r\n\t\tvar del=confirm(\"Are you sure you want to delete this user \"+user.nom+\" \"+user.prenom+\"?\");\r\n\t\tif (del){\r\n\t\t   try{\r\n\t\t\t   const url =`http://priqh2server.herokuapp.com/api/v1/utilisateurs/${user.id}`;\r\n\t\t\t   const res = await axios({\r\n\t\t\t\t   headers: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t\t\t method: 'delete',\r\n\t\t\t\t\t url\r\n\t\t\t   });\r\n\t\t\t   \r\n\t\t\t   alert (user.nom+\" \"+user.prenom+\" deleted.\");\r\n\t\t\t   window.location.replace('/Utilisateurs');\r\n\r\n\t\t   }catch(err){\r\n\t\t\t   console.log(err);\r\n\t\t   }\r\n\t\t\t\r\n\t\t} else {\r\n\t\t   alert(user.nom+\" \"+user.prenom+\" not deleted\");\r\n\t\t}\r\n   }\r\n\t\r\n    return (\r\n        <main className=\"content\">\r\n        <div className=\"container-fluid p-0\">\r\n\r\n            <div className=\"row mb-2 mb-xl-3\">\r\n                <div className=\"col-auto d-none d-sm-block\">\r\n\t\t\t\t<h1 className=\"h3 mb-3\">Gestion des utilisateurs </h1>\r\n                </div>\r\n\r\n            </div>\r\n            <div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-12 col-xl-12\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5 className=\"card-title\">Liste des utilisateurs</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Table responsive>\r\n\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<th style={{\"width\":\"13%\"}}>Nom</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th style={{\"width\":\"13%\"}}>Email</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th style={{\"width\":\"13%\"}}>Telephone</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th style={{\"width\":\"13%\"}}>Role</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th style={{\"width\":\"10%\"}}><span data-toggle=\"modal\" data-target=\"#defaultModalPrimary\" style={{ \"cursor\": \"pointer\" }}><FeatherIcon icon=\"user-plus\"/></span></th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tusers.map((utilisateur, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ utilisateur.nom+\" \"+utilisateur.prenom }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{ utilisateur.email }</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{utilisateur.telephone}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td><ul className=\"px-0\">{utilisateur.roles.map((role, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li style={{ listStyleType: \"none\" }} key={index}>{role.role.titre}</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}</ul> </td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td className=\"table-action\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span style={{ \"cursor\": \"pointer\" }} data-toggle=\"modal\" data-target=\"#ModalMod\" onClick={(e) => setUserEdit(utilisateur)}><FeatherIcon icon=\"edit-2\" /></span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span style={{ \"cursor\": \"pointer\" }} onClick={() => deleteUser(utilisateur)}><FeatherIcon icon=\"trash\" /></span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</Table>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"modal fade\" id=\"defaultModalPrimary\" tabIndex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"modal-dialog\" role=\"document\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-12 col-xl-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"modal-title\">Ajouter utilisateur</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form   />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n\t\t\t\t<div className=\"modal fade\" id=\"ModalMod\" tabIndex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog\" role=\"document\">\r\n                        \r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                \r\n                                <div className=\"col-12 col-xl-12\">\r\n                                \r\n\t\t\t\t\t\t\t         <div className=\"card\">\r\n                                         \r\n\t\t\t\t\t\t\t\t\t <div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"modal-title\">Modifier utilisateur</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t        <div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t        <Form user={userEdit} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n                           \r\n\t\t\t\t\t\t</div>\r\n\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n                        </div>\r\n\r\n        </div>\r\n\t\t\r\n    </main>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Select from 'react-select'\r\nimport makeAnimated from 'react-select/animated'\r\nimport axios from 'axios';\r\n\r\nexport default function RoleForm({ role }) {\r\n\t\r\n\tconst animatedComponents = makeAnimated();\r\n\r\n\tconst [fonctionalites, setFonctionalites] = React.useState([]);\r\n\tconst [titre, setTitre] = React.useState('');\r\n\tconst [interfaces,setInterfaces] = React.useState([]);\r\n\tconst [specifications,setSpecifications] = React.useState([]);\r\n\tconst [showDiv, setShowDiv]= React.useState(false);\r\n\tconst [fonctionalitesDefault, setFonctionalitesDefault] = React.useState([]);\r\n\tconst [interfacesDefault, setInterfacesDefault] = React.useState([]);\r\n\r\n\tconst addRole = async () => {\r\n\t\t\r\n\t\tif(titre === \"\") return console.log('titre obligatoire !!');\r\n\t\tif(selectedFonctionalites.length === 0) return console.log('fonctionalite obligatoire !!');\r\n\t\tif(selectedInterfaces.length === 0) return console.log('interface obligatoire !!');\r\n\t\tconst data = { titre, relations:{fonctionalites: selectedFonctionalites, interfaces: selectedInterfaces} }\r\n\t\ttry{\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/roles/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'post',\r\n\t\t\t  \turl,\r\n\t\t\t\tdata\r\n\t\t\t});\r\n\r\n\t\t\tconsole.log(res);\r\n\t\t\twindow.location.replace('/Roles');\r\n\r\n\t\t}catch(err){\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n\t}\r\n\r\n\tconst updateRole = async () => {\r\n\r\n\t\tconst data = { titre, relations:{fonctionalites: selectedFonctionalites, interfaces: selectedInterfaces} }\r\n\t\t\r\n\t\ttry{\r\n\t\t\tconst url = `http://priqh2server.herokuapp.com/api/v1/roles/${role.id}`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'put',\r\n\t\t\t  \turl,\r\n\t\t\t\tdata\r\n\t\t\t});\r\n\r\n\t\t\tconsole.log(res);\r\n\t\t\twindow.location.replace('/Roles');\r\n\r\n\t\t}catch(err){\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tconst fetchFonctionalites = async () => {\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/fonctionalites/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\t\r\n\t\t\t//console.log(res.data.fonctionalites);\r\n\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tlet fonctionalites_options = [];\r\n\t\t\t\tfor(const fonctionalite of res.data.fonctionalites){\r\n\t\t\t\t\tlet obj = { value: fonctionalite.id, label: fonctionalite.titre }\r\n\t\t\t\t\tfonctionalites_options.push(obj);\r\n\t\t\t\t}\r\n\t\t\t\tsetFonctionalites(fonctionalites_options);\r\n\t\t\t}\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t}\r\n\r\n\tconst fetchInterfaces = async () => {\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/interfaces/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\t\r\n\t\t\t//console.log(res.data.fonctionalites);\r\n\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tlet interfaces_options = [];\r\n\t\t\t\tfor(const interfac of res.data.interfaces){\r\n\t\t\t\t\tlet obj = { value: interfac.id, label: interfac.titre }\r\n\t\t\t\t\tinterfaces_options.push(obj);\r\n\t\t\t\t}\r\n\t\t\t\tsetInterfaces(interfaces_options);\r\n\t\t\t}\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t}\r\n\r\n\tReact.useEffect(() => {\r\n\t\tfetchFonctionalites();\r\n\t\tfetchInterfaces();\r\n\t},[]);\r\n\r\n\tconst [selectedFonctionalites, setSelectedFonctionalites] = React.useState([]);\r\n\tconst [selectedInterfaces, setSelectedInterfaces] = React.useState([]);\r\n\r\n\tconst handleFonctionalitesChange = (e) => {\r\n\t\tsetSelectedFonctionalites(Array.isArray(e) ? e.map(x => x.value) : []);\r\n\t}\r\n\r\n\tconst handleInterfacesChange = (e) => {\r\n\t\tsetSelectedInterfaces(Array.isArray(e) ? e.map(x => x.value) : []);\r\n\t}\r\n\t\r\n\r\n\tconst makeArray = async() => {\r\n\t\tconsole.log(role);\r\n\t\tlet defaultsF = [];\r\n\t\tfor(const fonctionalite of fonctionalites){\r\n\t\t\tfor(const fonctionaliteRole of role.fonctionalites){\r\n\t\t\t\tif(fonctionalite.label === fonctionaliteRole.titre){\r\n\t\t\t\t\tdefaultsF.push(fonctionalite);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet defaultsI = [];\r\n\t\tfor(const interf of interfaces){\r\n\t\t\tfor(const interfRole of role.interfaces){\r\n\t\t\t\tif(interf.label === interfRole.titre){\r\n\t\t\t\t\tdefaultsI.push(interf);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsetFonctionalitesDefault(defaultsF);\r\n\t\thandleFonctionalitesDefault(defaultsF);\r\n\r\n\t\tsetInterfacesDefault(defaultsI);\r\n\t\thandleInterfacesDefault(defaultsI);\r\n\t}\r\n\r\n\tconst handleFonctionalitesDefault = (fonctionalites) => {\r\n\t\tsetSelectedFonctionalites(fonctionalites.map( x => x.value ));\r\n  \t}\r\n\r\n\tconst handleInterfacesDefault = (interfaces) => {\r\n\t\tsetSelectedInterfaces(interfaces.map( x => x.value ));\r\n  \t}\r\n\r\n    return (\r\n        <React.Fragment>\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Titre</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"text\" className=\"form-control\" onChange={(e) => setTitre(e.target.value)} placeholder={ role ? role.titre : \"Titre\" }/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t{ role ? \"\" :\r\n\t\t\t<div>\t\t\t\t\t\t\t\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Fonctionalites</label>\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<div className=\"boxes\" >\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tcloseMenuOnSelect={false}\r\n\t\t\t\t\t\t\tcomponents={animatedComponents}\r\n\t\t\t\t\t\t\tisMulti\r\n\t\t\t\t\t\t\toptions={fonctionalites}\r\n\t\t\t\t\t\t\tonChange={handleFonctionalitesChange}\r\n\t\t\t\t\t\t/>\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Interfaces</label>\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<div className=\"boxes\" >\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tcloseMenuOnSelect={false}\r\n\t\t\t\t\t\t\tcomponents={animatedComponents}\r\n\t\t\t\t\t\t\tisMulti\r\n\t\t\t\t\t\t\toptions={interfaces}\r\n\t\t\t\t\t\t\tonChange={handleInterfacesChange}\r\n\t\t\t\t\t\t/>\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div></div>\r\n\t\t\t}\r\n\r\n\t\t\t<hr/>\r\n\t\t\t{ role ? \r\n\t\t\t<div>\r\n\t\t\t<div className=\"mb-3 row\">\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n                    <button className=\"btn btn-danger\" onClick={() => { setShowDiv(!showDiv); makeArray() }}>{ !showDiv ? \"Réinitialiser les interfaces & fonctionalites\" : \"cancel\"}</button>\r\n                </div>\r\n\t\t\t</div>\r\n\r\n\t\t\t{ showDiv ? (\r\n\t\t\t<div>\r\n\t\t\t<hr/>\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">fonctionalites</label>\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<div className=\"boxes\" >\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tcloseMenuOnSelect={false}\r\n\t\t\t\t\t\t\tcomponents={animatedComponents}\r\n\t\t\t\t\t\t\tdefaultValue={fonctionalitesDefault}\r\n\t\t\t\t\t\t\tisMulti\r\n\t\t\t\t\t\t\toptions={fonctionalites}\r\n\t\t\t\t\t\t\tonChange={handleFonctionalitesChange}\r\n\t\t\t\t\t\t/>\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Interfaces</label>\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<div className=\"boxes\" >\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tcloseMenuOnSelect={false}\r\n\t\t\t\t\t\t\tcomponents={animatedComponents}\r\n\t\t\t\t\t\t\tdefaultValue={interfacesDefault}\r\n\t\t\t\t\t\t\tisMulti\r\n\t\t\t\t\t\t\toptions={interfaces}\r\n\t\t\t\t\t\t\tonChange={handleInterfacesChange}\r\n\t\t\t\t\t\t/>\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t</div>) : \"\" } </div> : \"\" }\r\n\t\t\t\r\n\t\t\t<div className=\"mb-3 row\">\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<span onClick={() => { if (role){ updateRole() } else { addRole() }}} className=\"btn btn-primary\">Submit</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\r\n\t</React.Fragment>\t\r\n    );\r\n}","import React from 'react'\r\nimport '../../css_folder/style.css'\r\nimport RoleForm from '../components/RoleForm'\r\nimport axios from 'axios';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport { Table } from 'react-bootstrap';\r\n\r\nexport default function Role() {\r\n\r\n\tconst [roles, setRoles] = React.useState([]);\r\n\tconst [roleEdit, setRoleEdit] = React.useState({});\r\n\r\n\t  \r\n\tconst fetchRoles = async (e) => {\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/roles/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\t\r\n\t\t\tsetRoles(res.data.roles);\r\n\t\t\tconsole.log(res);\r\n\t\t\t\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\tconsole.log(\"Alert\");\r\n\t\t\t}\r\n\t}\r\n\r\n\tconst deleteRole = async (role) => {\r\n\t\t // eslint-disable-next-line no-restricted-globals\r\n\t\t var del=confirm(\"Are you sure you want to delete this role \"+role.titre+\" ?\");\r\n\t\t if (del){\r\n\t\t\ttry{\r\n\t\t\t\tconst url =`http://priqh2server.herokuapp.com/api/v1/roles/${role.id}`;\r\n\t\t\t\tconst res = await axios({\r\n\t\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t\t\t  method: 'delete',\r\n\t\t\t\t\t  url\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\talert (role.titre+\" deleted.\");\r\n\t\t\t\twindow.location.replace('/Roles');\r\n\r\n\t\t\t}catch(err){\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t\t\t \r\n\t\t } else {\r\n\t\t\talert(role.titre+\" not deleted\");\r\n\t\t }\r\n\t}\r\n\r\n\r\n\tReact.useEffect(() => {\r\n\t\tfetchRoles();\r\n\t},[]);\r\n\r\n\r\n    return (\r\n        <main className=\"content\">\r\n        <div className=\"container-fluid p-0\">\r\n\r\n            <div className=\"row mb-2 mb-xl-3\">\r\n                <div className=\"col-auto d-none d-sm-block\">\r\n\t\t\t\t<h1 className=\"h3 mb-3\">Gestion des roles</h1>\r\n                </div>\r\n\r\n            </div>\r\n            <div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-12 col-xl-12\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5 className=\"card-title\">Liste des roles</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Table responsive>\r\n\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<th style={{\"width\":\"20%\"}}>Titre</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th style={{\"width\":\"35%\"}}>Fonctionalités</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th style={{\"width\":\"35%\"}}>Interfaces</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th style={{\"width\":\"10%\"}}><span data-toggle=\"modal\" data-target=\"#defaultModalPrimary\" style={{ \"cursor\": \"pointer\" }}><FeatherIcon icon=\"folder-plus\"/></span></th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t{roles.map((role,index) => (\r\n\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{role.titre}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>\r\n                                            \t<table className=\"table\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{role.fonctionalites.map((fonctionalite,index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{fonctionalite.titre}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</table>\r\n                                            </td>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<td>\r\n                                            \t<table className=\"table\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{role.interfaces.map((interf,index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{interf.titre}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</table>\r\n                                            </td>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"table-action\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span style={{ \"cursor\": \"pointer\" }} data-toggle=\"modal\" data-target=\"#ModalMod\" onClick={() => setRoleEdit(role)}><FeatherIcon icon=\"edit-2\" /></span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span style={{ \"cursor\": \"pointer\" }} onClick={() => deleteRole(role)}><FeatherIcon icon=\"trash\" /></span>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</Table>\r\n                <div className=\"modal fade\" id=\"defaultModalPrimary\" tabIndex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog\" role=\"document\">\r\n                        \r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                \r\n                                <div className=\"col-12 col-xl-12\">\r\n                                \r\n\t\t\t\t\t\t\t         <div className=\"card\">\r\n                                         \r\n\t\t\t\t\t\t\t\t\t <div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"modal-title\">Ajouter role</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t        <div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t        <RoleForm />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n                           \r\n\t\t\t\t\t\t</div>\r\n\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n\t\t\t\t<div className=\"modal fade\" id=\"ModalMod\" tabIndex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog\" role=\"document\">\r\n                        \r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                \r\n                                <div className=\"col-12 col-xl-12\">\r\n                                \r\n\t\t\t\t\t\t\t         <div className=\"card\">\r\n                                         \r\n\t\t\t\t\t\t\t\t\t <div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"modal-title\">Modifier role</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span type=\"button\" className=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t        <div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t        <RoleForm role={roleEdit} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n                           \r\n\t\t\t\t\t\t</div>\r\n\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n                        </div>\r\n\r\n        </div>\r\n    </main>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Select from 'react-select'\r\nimport makeAnimated from 'react-select/animated'\r\nimport axios from 'axios';\r\n\r\nexport default function GroupForm({ role }) {\r\n\r\n\tconst animatedComponents = makeAnimated();\r\n    \r\n\tconst [specifications, setSpecifications] = React.useState([]);\r\n\tconst [specificationsDefault, setSpecificationsDefault] = React.useState([]);\r\n\tconst [selectedSpecifications, setSelectedSpecifications] = React.useState([]);\r\n\tconst [showDiv, setShowDiv] = React.useState(false);\r\n\r\n\tconst fetchSpecifications = async () => {\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/specifications/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\t\r\n\t\t\t//console.log(res.data.fonctionalites);\r\n\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tlet Specification_options = [];\r\n\t\t\t\tfor(const specification of res.data.specifications){\r\n\t\t\t\t\tlet obj = { value: specification.id, label: specification.titre }\r\n\t\t\t\t\tSpecification_options.push(obj);\r\n\t\t\t\t}\r\n\t\t\t\tsetSpecifications(Specification_options);\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t}\r\n\r\n\tconst updateRole = async () => {\r\n\t\tconst data = { relations:{specifications: selectedSpecifications} }\r\n\t\ttry{\r\n\t\t\tconst url = `http://priqh2server.herokuapp.com/api/v1/roles/${role.id}`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'put',\r\n\t\t\t  \turl,\r\n\t\t\t\tdata\r\n\t\t\t});\r\n\r\n\t\t\tconsole.log(res);\r\n\t\t\twindow.location.replace('/Groupes');\r\n\r\n\t\t}catch(err){\r\n\t\t\tconsole.log(err.response);\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleSpecificationsChange = (e) => {\r\n\t\tsetSelectedSpecifications(Array.isArray(e) ? e.map(x => x.value) : []);\r\n\t}\r\n\r\n\tconst makeArray = async () => {\r\n\t\t\r\n\t\tconst defaults = [];\r\n\t\tfor(const specification of specifications){\r\n\t\t\tfor(const specificationRole of role.specification){\r\n\t\t\t\tif(specification.label === specificationRole.titre){\r\n\t\t\t\t\tdefaults.push(specification);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetSpecificationsDefault(defaults);\r\n\t\thandleSpecificationsDefault(defaults);\r\n\t}\r\n\r\n\tconst handleSpecificationsDefault = (specifications) => {\r\n\t\tsetSelectedSpecifications(specifications.map( x => x.value ));\r\n  \t}\r\n\r\n\tReact.useEffect(() => {\r\n\t\tfetchSpecifications();\r\n\t\t\r\n\t},[])\r\n\t\r\n    return (\r\n\t\t<div>\r\n\t\t\t<div className=\"mb-3 row\">\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n                    <button className=\"btn btn-danger\" onClick={() => { setShowDiv(!showDiv); makeArray() }}>{ !showDiv ? \"Réinitialiser les specifications\" : \"cancel\"}</button>\r\n                </div>\r\n\t\t\t</div>\t\r\n\t\t\t{ showDiv ?\t\r\n\t\t\t<div>\t\t\t\t\r\n\t\t\t<div className=\"mb-3 row\">\r\n\t\t\t\t<label className=\"col-form-label col-sm-3 text-sm-left\">Specifications</label>\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<div className=\"boxes\" >\r\n\t\t\t\t\t<Select \r\n\t\t\t\t\t\tcloseMenuOnSelect={false} \r\n\t\t\t\t\t\tcomponents={animatedComponents}\r\n\t\t\t\t\t\tdefaultValue={specificationsDefault}\r\n\t\t\t\t\t\tisMulti\r\n\t\t\t\t\t\toptions={specifications}\r\n\t\t\t\t\t\tonChange={handleSpecificationsChange}\r\n\t\t\t\t\t/>\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div> \r\n\t\t\t\r\n\t\t\t<div className=\"mb-3 row\">\r\n\t\t\t\t<div className=\"col-sm-10\">\r\n\t\t\t\t\t<button type=\"submit\" onClick={updateRole} className=\"btn btn-primary\">Submit</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div> </div> : \"\"\r\n\t\t\t}\r\n\t\t</div>\r\n    );\r\n}","import React from 'react'\r\nimport '../../css_folder/style.css'\r\nimport GroupForm from '../components/GroupForm'\r\nimport axios from 'axios';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport { Table } from 'react-bootstrap';\r\n\r\nexport default function Group() {\r\n\r\n\tconst [roles, setRoles] = React.useState([]);\r\n\tconst [role, setRole] = React.useState({});\r\n\r\n\tReact.useEffect(() => {\r\n\t\tfetchRoles();\r\n\t},[])\r\n\r\n\tconst fetchRoles = async (e) => {\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/roles/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\t\r\n\t\t\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t  \r\n\t\t\t\tsetRoles(res.data.roles);\r\n\t\t\t  \tconsole.log(res);\r\n\r\n\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t\tconsole.log(\"Alert\");\r\n\t\t\t}\r\n\t}\r\n\r\n\t\r\n\r\n    return (\r\n        <main className=\"content\">\r\n        <div className=\"container-fluid p-0\">\r\n\r\n            <div className=\"row mb-2 mb-xl-3\">\r\n                <div className=\"col-auto d-none d-sm-block\">\r\n\t\t\t\t<h1 className=\"h3 mb-3\">Gestion des groupes</h1>\r\n                </div>\r\n\r\n            </div>\r\n            <div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-12 col-xl-12\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5 className=\"card-title\">Liste des groupes</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Table responsive>\r\n\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<th style={{\"width\":\"30%\"}}>Titre</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th style={{\"width\":\"60%\"}}>Specifications</th>\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<th style={{\"width\":\"10%\"}}></th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{roles.map((role,index) => (\r\n\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{role.titre}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>\r\n                                            \t<Table responsive>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{role.specification.map((specification,i) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr key={i}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td key={i}>{specification.titre}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Table>\r\n                                            </td>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"table-action\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span style={{ \"cursor\": \"pointer\" }} onClick={() => setRole(role)} data-toggle=\"modal\" data-target=\"#ModalMod\"><FeatherIcon icon=\"edit-2\" /></span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</Table>\r\n               \r\n\r\n\t\t\t\t<div className=\"modal fade\" id=\"ModalMod\" tabIndex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog\" role=\"document\">\r\n                        \r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                \r\n                                <div className=\"col-12 col-xl-12\">\r\n                                \r\n\t\t\t\t\t\t\t         <div className=\"card\">\r\n                                         \r\n\t\t\t\t\t\t\t\t\t <div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"modal-title\">Modifier role</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t        <div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t        <GroupForm role={role}/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n                           \r\n\t\t\t\t\t\t</div>\r\n\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n                        </div>\r\n\r\n        </div>\r\n    </main>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport axios from 'axios';\r\n\r\nimport '../../css_folder/style.css'\r\n\r\nexport default function Interface() {\r\n\r\n    const [interfaces, setInterfaces] = React.useState([]);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tfetchInterfaces();\r\n\t},[])\r\n\r\n\t  \r\n\tconst fetchInterfaces = async (e) => {\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/fonctionalites/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\t\t\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tsetInterfaces(res.data.fonctionalites);\r\n\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(\"Alert\",err);\r\n\t\t\t}\r\n\t}\r\n\r\n    return (\r\n        <main className=\"content\">\r\n        <div className=\"container-fluid p-0\">\r\n\r\n            <div className=\"row mb-2 mb-xl-3\">\r\n                <div className=\"col-auto d-none d-sm-block\">\r\n\t\t\t\t<h1 className=\"h3 mb-3\">Les Fonctionalites</h1>\r\n                </div>\r\n\r\n            </div>\r\n            <div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-12 col-xl-12\">\r\n\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5 className=\"card-title\">Liste des Fonctionalites</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n                            <table className=\"table\">\r\n\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<th style={{\"width\":\"100%\"}}>titre</th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</thead>\r\n\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n                                    {interfaces.map((fonctionalite,index) => (\r\n\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t<td key={index}>{fonctionalite.titre}</td>\r\n\t\t\t\t\t\t\t\t\t\t\r\n                                        </tr>\r\n                                    ))}\t\t\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n                                  \r\n                            </table>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t    </div>\r\n                    </div>\r\n                </div>\r\n                </div>\r\n                    </main>\r\n    )\r\n}\r\n\r\n","import React from 'react'\r\nimport axios from 'axios'\r\nexport default function GroupSpecification({ specification }) {\r\n\r\n    const [titre, setTitre] = React.useState('');\r\n    \r\n    const addSpecification = async () => {\r\n\t\ttry{\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/Specifications/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'post',\r\n\t\t\t  \turl,\r\n\t\t\t\tdata: { titre }\r\n\t\t\t});\r\n\r\n\t\t\tconsole.log(res);\r\n\t\t\twindow.location.replace('/Specifications');\r\n\r\n\t\t}catch(err){\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n\t}\r\n\r\n\tconst updateSpecification = async () => {\r\n\t\ttry{\r\n\t\t\tconst url = `http://priqh2server.herokuapp.com/api/v1/specifications/${specification.id}`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'put',\r\n\t\t\t  \turl,\r\n\t\t\t\tdata: { titre }\r\n\t\t\t});\r\n\r\n\t\t\tconsole.log(res);\r\n\t\t\twindow.location.replace('/Specifications');\r\n\r\n\t\t}catch(err){\r\n\t\t\tconsole.log(err.response);\r\n\t\t}\r\n\t}\r\n\r\n   \r\n\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Titre :</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"text\" className=\"form-control\" onChange={(e) => setTitre(e.target.value )} placeholder={specification ? specification.titre : \"\"}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n            <div className=\"mb-3 row\">\r\n\t\t\t\t<div className=\"col-sm-10\">\r\n\t\t\t\t\t<button type=\"submit\" onClick={() => {specification ? updateSpecification() : addSpecification()}} className=\"btn btn-primary\">Submit</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div> \r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport '../../css_folder/style.css'\r\nimport GroupSpecification from '../components/GroupSpecification'\r\nimport axios from 'axios';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport { Table } from 'react-bootstrap';\r\n\r\nexport default function Specification() {\r\n    \r\n    const [specifications, setSpecifications] = React.useState([]);\r\n\tconst [specification, setSpecification] = React.useState({});\r\n\r\n\tReact.useEffect(() => {\r\n\t\tfetchSpecifications();\r\n\t},[])\r\n\r\n\tconst fetchSpecifications = async (e) => {\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/specifications/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\t\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tsetSpecifications(res.data.specifications);\r\n\t\t\t  \tconsole.log(res);\r\n\t\t\t}\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t}\r\n\r\n    const deleteSpecification = async (specification) => {\r\n      // eslint-disable-next-line no-restricted-globals\r\n\t\tvar del=confirm(\"Are you sure you want to delete this specification \"+specification.titre+\"?\");\r\n\t\tif (del){\r\n\t\t   try{\r\n\t\t\t   const url =`http://priqh2server.herokuapp.com/api/v1/specifications/${specification.id}`;\r\n\t\t\t   const res = await axios({\r\n\t\t\t\t   headers: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t\t\t method: 'delete',\r\n\t\t\t\t\t url\r\n\t\t\t   });\r\n\t\t\t   \r\n\t\t\t   alert (specification.titre+\" deleted.\");\r\n\t\t\t   window.location.replace('/Specifications');\r\n\r\n\t\t   }catch(err){\r\n\t\t\t   console.log(err);\r\n\t\t   }\r\n\t\t\t\r\n\t\t} else {\r\n\t\t   alert(specification.titre+\" not deleted\");\r\n\t\t}\r\n    }\r\n\r\n    return (\r\n        <main className=\"content\">\r\n        <div className=\"container-fluid p-0\">\r\n\r\n            <div className=\"row mb-2 mb-xl-3\">\r\n                <div className=\"col-auto d-none d-sm-block\">\r\n\t\t\t\t<h1 className=\"h3 mb-3\">Gestion des specifications</h1>\r\n                </div>\r\n\r\n            </div>\r\n            <div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-12 col-xl-12\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5 className=\"card-title\">Liste des groupes</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Table responsive>\r\n\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<th style={{\"width\":\"90%\"}}>Titre</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<th style={{\"width\":\"10%\"}}><span data-toggle=\"modal\" data-target=\"#defaultModalPrimary\" style={{ \"cursor\": \"pointer\" }}><FeatherIcon icon=\"folder-plus\"/></span></th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{specifications.map((specification,index) => (\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{specification.titre}</td>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"table-action\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span style={{ \"cursor\": \"pointer\" }} onClick={() => setSpecification(specification)} data-toggle=\"modal\" data-target=\"#ModalMod\"><FeatherIcon icon=\"edit-2\" /></span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span style={{ \"cursor\": \"pointer\" }} onClick={() => deleteSpecification(specification)}><FeatherIcon icon=\"trash\" /></span>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</Table>\r\n\r\n                    <div className=\"modal fade\" id=\"defaultModalPrimary\" tabIndex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog\" role=\"document\">\r\n                        \r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                \r\n                                <div className=\"col-12 col-xl-12\">\r\n                                \r\n\t\t\t\t\t\t\t         <div className=\"card\">\r\n                                         \r\n\t\t\t\t\t\t\t\t\t <div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"modal-title\">Ajouter specification</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t        <div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t        <GroupSpecification/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n                           \r\n\t\t\t\t\t\t</div>\r\n\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n               \r\n\r\n\t\t\t\t<div className=\"modal fade\" id=\"ModalMod\" tabIndex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog\" role=\"document\">\r\n                        \r\n                        <div className=\"modal-content\">\r\n                            <div className=\"modal-header\">\r\n                                \r\n                                <div className=\"col-12 col-xl-12\">\r\n                                \r\n\t\t\t\t\t\t\t         <div className=\"card\">\r\n                                         \r\n\t\t\t\t\t\t\t\t\t <div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"modal-title\">Modifier specicifation</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t        <div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t        <GroupSpecification specification={specification}/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n                           \r\n\t\t\t\t\t\t</div>\r\n\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n                        </div>\r\n\r\n        </div>\r\n    </main>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { useAuthState } from '../../context/auth';\r\nimport axios from 'axios';\r\n\r\nexport default function Settings() {\r\n\r\n    const { user } = useAuthState();\r\n\r\n    const [nomprenom, setNomPrenom] = React.useState({});\r\n    \r\n    const [email, setEmail] = React.useState('');\r\n    const [telephone, setTelephone] = React.useState('');\r\n    const [password, setPassword] = React.useState('');\r\n    const [confirmPassword, setConfirmPassword] = React.useState('');\r\n    const [currentPassword, setCurrentPassword] = React.useState('');\r\n\r\n\r\n    const updateNomPrenom = async (e) => {\r\n        if(nomprenom.nom === \"\") delete nomprenom.nom;\r\n        if(nomprenom.prenom === \"\") delete nomprenom.prenom;\r\n\r\n        console.log(nomprenom);\r\n\r\n        const form = new FormData();\r\n\r\n        if( nomprenom.nom ) form.append('nom', nomprenom.nom);\r\n        if( nomprenom.prenom ) form.append('nom', nomprenom.prenom);\r\n        if( document.getElementById('image').files[0] !== undefined ) form.append('image', document.getElementById('image').files[0]);\r\n\r\n        console.log(form.get('image'));\r\n        \r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/utilisateurs/modifierProfile';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'put',\r\n\t\t\t  \turl,\r\n                data: form\r\n\t\t\t});\r\n            console.log(res);\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(\"Alert\",err);\r\n\t\t\t}\r\n\t}\r\n\r\n    const updateInfo = async (e) => {\r\n        const data = {};\r\n\r\n        if(email !== \"\") data.email = email;\r\n        if(telephone !== \"\") data.telephone = telephone;\r\n\r\n        console.log(data)\r\n        try {\r\n            \r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/utilisateurs/modifierProfile';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'put',\r\n\t\t\t  \turl,\r\n                data\r\n\t\t\t});\r\n            console.log(res);\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(\"Alert\",err);\r\n\t\t\t}\r\n    }\r\n\r\n    const updatePassword = async (e) => {\r\n\r\n        if(currentPassword === \"\" ){\r\n            console.log('Please fill your current password!');\r\n        } else if ( password == \"\" && confirmPassword == \"\" ){\r\n            console.log('Please tell us your new password and confirm it!');\r\n        } else if ( password !== confirmPassword ) {\r\n            console.log('Your passwords didnt match up ! Please try again.');\r\n        } else{\r\n\r\n        const data = {};\r\n\r\n        if(currentPassword !== \"\") data.currentPassword = currentPassword;\r\n        if(password !== \"\") data.password = password;\r\n\r\n        console.log(data)\r\n        try {\r\n            \r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/utilisateurs/modifierMotDePasse';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'put',\r\n\t\t\t  \turl,\r\n                data\r\n\t\t\t});\r\n            console.log(res);\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(\"Alert\",err);\r\n\t\t\t}\r\n        }\r\n    }\r\n\r\n    const [selectedImg, setSelectedImg]=React.useState(\"img/photos/user-01.png\");\r\n\r\n    function handleChange(event) {\r\n    setSelectedImg( URL.createObjectURL(event.target.files[0]));\r\n    }\r\n    return (\r\n        <main className=\"content\">\r\n        <div className=\"container-fluid p-0\">\r\n\r\n            <h1 className=\"h3 mb-3\">Modifier profile</h1>\r\n\r\n            <div className=\"row\">\r\n                <div className=\"col-md-3 col-xl-2\">\r\n\r\n                    <div className=\"card\">\r\n                        <div className=\"card-header\">\r\n                            <h5 className=\"card-title mb-0\">Profile </h5>\r\n                        </div>\r\n\r\n                        <div className=\"list-group list-group-flush\" role=\"tablist\">\r\n                            <a className=\"list-group-item list-group-item-action active\" data-toggle=\"list\" href=\"#account\" role=\"tab\">\r\n                                S'identifier\r\n                            </a>\r\n                            <a className=\"list-group-item list-group-item-action\" data-toggle=\"list\" href=\"#info\" role=\"tab\">\r\n                                Mes informations\r\n                            </a>\r\n                            <a className=\"list-group-item list-group-item-action\" data-toggle=\"list\" href=\"#password\" role=\"tab\">\r\n                                Mot de passe \r\n                            </a> \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"col-md-9 col-xl-10\">\r\n                    <div className=\"tab-content\">\r\n                        <div className=\"tab-pane fade show active\" id=\"account\" role=\"tabpanel\">\r\n\r\n                            <div className=\"card\">\r\n                                <div className=\"card-header\">\r\n\r\n                                    <h5 className=\"card-title mb-0\">S'identifier</h5>\r\n                                </div>\r\n                                <div className=\"card-body\">\r\n                                    <form>\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-md-8\">\r\n                                            <div className=\"mb-3 col-md-6\">\r\n                                                <label className=\"form-label\" htmlFor=\"inputFirstName\">Nom</label>\r\n                                                <input type=\"text\" className=\"form-control\" onChange={(e) => setNomPrenom({...nomprenom ,nom: e.target.value})} id=\"inputFirstName\" placeholder={user.payload.nom} />\r\n                                            </div>\r\n                                            <div className=\"mb-3 col-md-6\">\r\n                                                <label className=\"form-label\" htmlFor=\"inputLastName\">Prenom</label>\r\n                                                <input type=\"text\" className=\"form-control\" onChange={(e) => setNomPrenom({...nomprenom ,prenom: e.target.value})} id=\"inputLastName\" placeholder={user.payload.prenom} />\r\n                                            </div>\r\n                                            </div>\r\n                                            <div className=\"col-md-4\">\r\n                                                <div className=\"text-center\">\r\n                                                    <img src={selectedImg} className=\"rounded-circle img-responsive mt-2\" width=\"128\" height=\"128\" alt=\"image\" />\r\n                                                    <div className=\"mt-2\">\r\n                                                        <input type=\"file\" id=\"image\" onChange={handleChange}  />\r\n                                                    </div>\r\n                                                    <small>Pour une meilleur resultat, utiliser une image d'au moins 128px  avec .jpg format</small>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <span onClick={updateNomPrenom}  className=\"btn btn-primary\">Enregistrer</span>\r\n                                    </form>\r\n\r\n                                </div>\r\n                           \r\n                        </div>\r\n\r\n                        </div>\r\n                        <div className=\"tab-pane fade\" id=\"info\" role=\"tabpanel\">\r\n                <div className=\"card\">\r\n                    <div className=\"card-header\">\r\n                        <h5 className=\"card-title mb-0\">Mes informations</h5>\r\n                    </div>\r\n                <div className=\"card-body\">\r\n                <form>\r\n                    <div className=\"mb-3\">\r\n                        <label className=\"form-label\" htmlFor=\"inputEmail4\">Email</label>\r\n                        <input type=\"email\" className=\"form-control\" onChange={(e) => setEmail(e.target.value)} id=\"inputEmail4\" placeholder={user.payload.email} />\r\n                    </div>\r\n                    \r\n                    <div className=\"row\">\r\n                        <div className=\"mb-3 col-md-6\">\r\n                            <label className=\"form-label\" htmlFor=\"inputCity\">Telephone</label>\r\n                            <input type=\"phone\" className=\"form-control\" placeholder={user.payload.telephone} onChange={(e) => setTelephone(e.target.value)} id=\"inputCity\" />\r\n                        </div>\r\n                        <div className=\"mb-3 col-md-4\">\r\n                            <label className=\"form-label\" htmlFor=\"inputState\">role</label>\r\n                    <select id=\"inputState\" className=\"form-control\">\r\n                        <option selected>Choose...</option>\r\n                        <option>...</option>\r\n                    </select>\r\n                    </div>\r\n                        \r\n                    </div>\r\n                    <span onClick={updateInfo} className=\"btn btn-primary\">Enregistrer</span>\r\n                </form>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n                        <div className=\"tab-pane fade\" id=\"password\" role=\"tabpanel\">\r\n                            <div className=\"card\">\r\n                                <div className=\"card-body\">\r\n                                    <h5 className=\"card-title\">Mot de passe </h5>\r\n\r\n                                    <form>\r\n                                        <div className=\"mb-3\">\r\n                                            <label className=\"form-label\" htmlFor=\"inputPasswordCurrent\">Mot de passe actuel</label>\r\n                                            <input type=\"password\" onChange={ (e) => setCurrentPassword(e.target.value) } className=\"form-control\" id=\"inputPasswordCurrent\" />\r\n                                            <small><a href=\"#\">Oublier mot de passe?</a></small>\r\n                                        </div>\r\n                                        <div className=\"mb-3\">\r\n                                            <label className=\"form-label\" htmlFor=\"inputPasswordNew\">Nouveau mot de passe</label>\r\n                                            <input type=\"password\" onChange={ (e) => setPassword(e.target.value) } className=\"form-control\" id=\"inputPasswordNew\" />\r\n                                        </div>\r\n                                        <div className=\"mb-3\">\r\n                                            <label className=\"form-label\" htmlFor=\"inputPasswordNew2\">Comfirmer mot de passe</label>\r\n                                            <input type=\"password\" onChange={ (e) => setConfirmPassword(e.target.value) } className=\"form-control\" id=\"inputPasswordNew2\" />\r\n                                        </div>\r\n                                        <span onClick={ updatePassword } className=\"btn btn-primary\">Enregistrer</span>\r\n                                    </form>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </main>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { useAuthState } from '../../context/auth';\r\nimport FeatherIcon from 'feather-icons-react';\r\n\r\n\r\nexport default function Profile() {\r\n\r\n    const { user } = useAuthState();\r\n\r\n    return (\r\n        <main className=\"content\">\r\n        <div className=\"container-fluid p-0\">\r\n\r\n            <h1 className=\"h3 mb-3\">Profile</h1>\r\n\r\n            <div className=\"row\">\r\n                <div className=\"col-md-4 col-xl-3\">\r\n                    <div className=\"card mb-3\">\r\n                        <div className=\"card-header\">\r\n                            <h5 className=\"card-title mb-0\">Mon Profile </h5>\r\n                        </div>\r\n                        <div className=\"card-body text-center\">\r\n                            <img src=\"img/photos/user-01.png\" alt=\"photo de profile\" className=\"img-fluid rounded-circle mb-2\" width=\"128\" height=\"128\" />\r\n                            <h5 className=\"card-title mb-0\">{user.payload.nom+\" \"+user.payload.prenom}</h5>\r\n                            <div className=\"text-muted mb-2\">{user.payload.email}</div>\r\n\r\n                            <div>\r\n                                <a className=\"btn btn-primary btn-sm\" href=\"/settings\">Modifier mon profile</a>\r\n                                </div>\r\n                        </div>\r\n                        <hr className=\"my-0\" />\r\n                        <div className=\"card-body\">\r\n                            <h5 className=\"h6 card-title\">Mes roles </h5>\r\n                            {\r\n                                user.payload.roles.map((role,index) => (\r\n                                    <span key={index} st href=\"#\" data-toggle=\"modal\" data-target=\"#ModalMod\" className=\"badge btn-primary mr-1 my-1\">{role.titre}</span>\r\n                                ))\r\n                            }\r\n                        </div>\r\n                        <hr className=\"my-0\" />\r\n                        <div className=\"card-body\">\r\n                            <h5 className=\"h6 card-title\">plus d'iformations</h5>\r\n                            <ul className=\"list-unstyled mb-0\">\r\n                                <li className=\"mb-1\"><FeatherIcon icon=\"user-check\" /> CIN <span style={{color :\"#3B7DDD\"}}>{user.payload.cin}</span> </li>\r\n\r\n                                <li className=\"mb-1\"><FeatherIcon icon=\"phone\" /> telephone <span style={{color :\"#3B7DDD\"}}>{user.payload.telephone}</span> </li>\r\n                            </ul>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"col-md-8 col-xl-9\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card-header\">\r\n\r\n                            <h5 className=\"card-title mb-0\">Activities</h5>\r\n                        </div>\r\n                        <div className=\"card-body h-100\">\r\n\r\n                            <div className=\"d-flex align-items-start\">\r\n                                <img src=\"img/photos/user-01.png\" width=\"36\" height=\"36\" className=\"rounded-circle mr-2\" alt=\"Vanessa Tucker\" />\r\n                                <div className=\"flex-grow-1\">\r\n                                    <small className=\"float-right text-navy\">5m ago</small>\r\n                                    Activities ....\r\n                                    <small className=\"text-muted\">Today 7:51 pm</small><br />\r\n\r\n                                </div>\r\n                            </div>\r\n\r\n\r\n                            <hr />\r\n                            <a href=\"#\" className=\"btn btn-primary btn-block\">Load more</a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n        <div className=\"modal fade\" id=\"ModalMod\" tabIndex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n            <div className=\"modal-dialog\" role=\"document\">        \r\n                <div className=\"modal-content\">\r\n                    <div className=\"modal-header\"> \r\n                        <div className=\"col-12 col-xl-12\">\r\n\t\t\t\t\t\t\t<div className=\"card\">      \r\n\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t<h5 className=\"modal-title\">liste des fonctionalités </h5>\r\n\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n                                    <table className=\"table\">\r\n                                        <tbody>\r\n                                            <tr>\r\n                                                <td>Gestion des projets</td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>Gestion des quartiers</td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </main>\r\n\r\n    )\r\n}\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport { useAuthDispatch } from '../../context/auth';\r\nimport { useAuthState } from '../../context/auth';\r\nimport { Button, Spinner } from 'react-bootstrap';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport useKeypress from 'react-use-keypress';\r\n\r\nexport default function Login() {\r\n\r\n\tuseKeypress(['Enter'], (event) => {\r\n\t\tif(event.key === 'Enter'){\r\n\t\t\tlogin(event);\r\n\t\t}\r\n\t  });\r\n\t\r\n\tconst { user } = useAuthState();\r\n\tconst [loading, setLoading] = React.useState(false);\r\n\r\n\t/*if(user && window.history){\r\n\t\twindow.history.back();\r\n\t}*/\r\n\r\n\tconst [email, setEmail] = React.useState('');\r\n\tconst [password, setPassword] = React.useState('');\r\n\r\n\tconst dispatch = useAuthDispatch();\r\n\r\n\tconst login = async (e) => {\r\n\t\tsetLoading(true);\r\n\t\te.preventDefault();\r\n\t\tconst data = { email, password };\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/utilisateurs/login';\r\n\t\t\tconst res = await axios({\r\n\t\t\t  method: 'post',\r\n\t\t\t  url,\r\n\t\t\t  data,\r\n\t\t\t});\r\n\t\r\n\t\t\ttoast.success('Success', {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tdraggable: false\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tdispatch({ type:'LOGIN', payload: res.data.token });\r\n\t\t\t\r\n\t\t\twindow.location.replace('/');\r\n\t\t\t\r\n\t\t\t} catch (err) {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\t\r\n\t\t\t\ttoast.error(err.response.data.message, {\r\n\t\t\t\t\tposition: 'top-right',\r\n\t\t\t\t\tautoClose: 5000,\r\n\t\t\t\t\tdraggable: true\r\n\t\t\t\t});\r\n\t\t\t\t  \r\n\t\t\t}\r\n\t}\r\n\r\n\tif(!user){\r\n    return (\r\n        <main className=\"d-flex w-100\">\r\n\t\t<ToastContainer />\r\n\t\t<div className=\"container d-flex flex-column\">\r\n\t\t\t<div className=\"row vh-100\">\r\n\t\t\t\t<div className=\"col-sm-10 col-md-8 col-lg-6 mx-auto d-table h-100\">\r\n\t\t\t\t\t<div className=\"d-table-cell align-middle\">\r\n\r\n\t\t\t\t\t\t<div className=\"text-center mt-4\">\r\n\t\t\t\t\t\t\t<h1 className=\"h2\">Bienvenue</h1>\r\n\t\t\t\t\t\t\t<p className=\"lead\">\r\n\t\t\t\t\t\t\t\tconnecter pour acceder à votre compte\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t<div className=\"m-sm-4\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t<img src=\"img/photos/priqh.png\" alt=\"ARRU\" className=\"img-fluid \" width=\"132\" height=\"132\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<form>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t<label className=\"form-label\">Email</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<input className=\"form-control form-control-lg\" type=\"email\" onChange={(e) => setEmail(e.target.value)} name=\"email\" placeholder=\"Entrer votre email\" />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t<label className=\"form-label\">Mot de passe </label>\r\n\t\t\t\t\t\t\t\t\t\t\t<input className=\"form-control form-control-lg\" type=\"password\" onChange={(e) => setPassword(e.target.value)} name=\"password\" placeholder=\"Entrer votre mot de passe\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<small>\r\n            \t\t\t\t\t\t\t\t\t<a href=\"#\">oublier mot de passe ?</a>\r\n          \t\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"text-center mt-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t <Button variant=\"primary\" block onClick={login} disabled={loading}>{\r\n\t\t\t\t\t\t\t\t\t\t\t loading ?\r\n\t\t\t\t\t\t\t\t\t\t\t <Spinner\r\n\t\t\t\t\t\t\t\t\t\t\t\tas=\"span\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tanimation=\"border\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\r\n\t\t\t\t\t\t\t\t\t\t\t\trole=\"status\"\r\n\t\t\t\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t\t `Sign in`\r\n\t\t\t\t\t\t\t\t\t\t\t }</Button> \r\n\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</main>\r\n\r\n    )}\r\n\telse{\r\n\t\treturn (\r\n\t\t\t<React.Fragment></React.Fragment>\r\n\t\t)\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport { MDBDataTableV5 } from 'mdbreact';\r\nimport 'mdbreact/dist/css/mdb.css';\r\nimport '@fortawesome/fontawesome-free/css/all.css';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport axios from 'axios';\r\nimport { Col } from 'react-bootstrap';\r\nimport { Spinner } from 'react-bootstrap';\r\nimport { gql, useSubscription } from '@apollo/client'\r\n\r\nconst TRACES = gql`\r\nsubscription traces {\r\n\ttraces{\r\n    \tutilisateur{nom, prenom, cin}, action, createdAt\r\n  \t}\r\n}`\r\n\r\nconst TraceTable = React.forwardRef((props, ref) => {\r\n\r\n    const [datatable, setDatatable] = React.useState({});\r\n    const [loading, setLoading] = React.useState(true);\r\n    const [tracesINFO, setTraces] = React.useState([]);\r\n\r\n\r\n    const { data: traces, error: messageError } = useSubscription(\r\n\t\tTRACES\r\n\t)\r\n\r\n\r\n    React.useEffect(() => {\r\n        if(traces){\r\n            let tracesData = [];\r\n        for(const trace of traces.traces){\r\n            tracesData.push({\r\n                cin: trace.utilisateur.cin,\r\n                nom: trace.utilisateur.nom,\r\n                prenom: trace.utilisateur.prenom,\r\n                action: trace.action,\r\n                date: new Date(trace.createdAt).toLocaleString()\r\n            });\r\n        }\r\n    \r\n        setDatatable({\r\n          columns: [\r\n            {\r\n              label: 'Cin',\r\n              field: 'cin',\r\n            },\r\n            {\r\n              label: 'Nom',\r\n              field: 'nom',\r\n            },\r\n            {\r\n              label: 'Prenom',\r\n              field: 'prenom',\r\n            },\r\n            {\r\n              label: 'Action',\r\n              field: 'action',\r\n            },\r\n            {\r\n              label: 'Date',\r\n              field: 'date',\r\n              sort: 'desc'\r\n            },\r\n          ],\r\n          rows: tracesData,\r\n        });\r\n        }\r\n    },[traces]);\r\n\r\n  const fetchTraces = async () => {\r\n    try {\r\n\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/traces/';\r\n\t\tconst res = await axios({\r\n\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\tmethod: 'get',\r\n\t\t\turl,\r\n\t\t});\r\n\r\n        let tracesData = [];\r\n        for(const trace of res.data.traces){\r\n            tracesData.push({\r\n                cin: trace.utilisateur ? trace.utilisateur.cin : null,\r\n                nom: trace.utilisateur ? trace.utilisateur.nom : null,\r\n                prenom: trace.utilisateur ? trace.utilisateur.prenom : null,\r\n                action: trace.action,\r\n                date: new Date(trace.createdAt).toLocaleString()\r\n            });\r\n        }\r\n    \r\n        setDatatable({\r\n          columns: [\r\n            {\r\n              label: 'Cin',\r\n              field: 'cin',\r\n            },\r\n            {\r\n              label: 'Nom',\r\n              field: 'nom',\r\n            },\r\n            {\r\n              label: 'Prenom',\r\n              field: 'prenom',\r\n            },\r\n            {\r\n              label: 'Action',\r\n              field: 'action',\r\n            },\r\n            {\r\n              label: 'Date',\r\n              field: 'date',\r\n              sort: 'desc'\r\n            },\r\n          ],\r\n          rows: tracesData,\r\n        });\r\n    \r\n        setLoading(false);\r\n\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    fetchTraces();\r\n  },[]);\r\n\r\n    return (\r\n      <>\r\n      <ToastContainer />\r\n        <div className=\"p-3\">\r\n        {\r\n            loading ?\r\n            <div className=\"d-flex justify-content-center\">\r\n            <Col md=\"auto\" >\r\n            <Spinner\r\n\t\t\t\t\t\t\tas=\"span\"\r\n\t\t\t\t\t\t\tanimation=\"border\"\r\n\t\t\t\t\t\t\tsize=\"lg\"\r\n              variant=\"primary\"\r\n\t\t\t\t\t\t\trole=\"status\"\r\n\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t/> </Col></div>: \r\n            <MDBDataTableV5\r\n            ref={ref}\r\n            style={{\"marginLeft\":\"1%\"}}\r\n            responsive\r\n            hover\r\n            entriesOptions={[5, 20, 25]}\r\n            striped\r\n            pagesAmount={5}\r\n            data={datatable}\r\n            paging\r\n            searchBottom\r\n            order={['date', 'desc' ]}\r\n            barReverse />\r\n        }\r\n        </div>\r\n      \r\n      </>\r\n    )\r\n});\r\n\r\nexport default TraceTable;","import React from 'react'\r\nimport '../../../css_folder/style.css'\r\nimport axios from 'axios';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport { Table } from 'react-bootstrap';\r\nimport { gql, useSubscription } from '@apollo/client'\r\nimport TraceTable from './components/TraceTable';\r\n\r\nconst TRACES = gql`\r\nsubscription traces {\r\n\ttraces{\r\n    \tutilisateur{nom, prenom, cin}, action, createdAt\r\n  \t}\r\n}`\r\nexport default function Traces() {\r\n    \r\n    const [tracesINFO, setTraces] = React.useState([]);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tfetchTraces();\r\n\t},[]);\r\n\r\n    const { data: traces, error: messageError } = useSubscription(\r\n\t\tTRACES\r\n\t)\r\n\r\n    React.useEffect(() => {\r\n        if(traces){\r\n            setTraces(traces.traces);\r\n        }\r\n    },[traces]);\r\n\r\n\tconst fetchTraces = async (e) => {\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/traces/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\t\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tsetTraces(res.data.traces);\r\n\t\t\t  \tconsole.log(res);\r\n\t\t\t}\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t}\r\n    \r\n\r\n    return (\r\n        <main className=\"content\">\r\n        <div className=\"container-fluid p-0\">\r\n\r\n            <div className=\"row mb-2 mb-xl-3\">\r\n                <div className=\"col-auto d-none d-sm-block\">\r\n\t\t\t\t<h1 className=\"h3 mb-3\">Gestion des Traces</h1>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-12 col-xl-12\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<div className=\"card-header\">\r\n\t\t\t\t\t\t\t\t\t<h5 className=\"card-title\">Liste des Traces</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<TraceTable />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n            </div>\r\n        </div>\r\n    </main>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Select from 'react-select'\r\nimport makeAnimated from 'react-select/animated'\r\nimport { Container, Card, Button, Modal } from 'react-bootstrap';\r\nimport { MapContainer , TileLayer, FeatureGroup, Polygon } from \"react-leaflet\";\r\nimport { EditControl } from \"react-leaflet-draw\"\r\nimport axios from 'axios'\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport default function MapFormAdd({ quartier }) {\r\n\r\n    console.log(quartier);\r\n    const [quartierEdit, setQuartier] = React.useState({});\r\n\r\n    const editQuartier = async () => {\r\n        console.log({ quartier: quartierEdit })\r\n\t\t try {\r\n\t\t\tconst url =`http://priqh2server.herokuapp.com/api/v1/quartiers/${quartier.id}`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'put',\r\n\t\t\t  \turl,\r\n                data:{ quartier: quartierEdit }\r\n\t\t\t});\r\n\r\n            toast.success('Success', {\r\n                position: 'top-right',\r\n                autoClose: 5000,\r\n                draggable: false\r\n              });\r\n\t\t\t\r\n\t\t\t\tconsole.log(res.data);\r\n                window.location.replace('/Quartiers');\r\n\t\t\t\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err);\r\n                toast.error(err.response.data.message, {\r\n                    position: 'top-right',\r\n                    autoClose: 5000,\r\n                    draggable: true\r\n                  });\r\n\t\t\t}\r\n\t}\r\n\r\n    return (\r\n        <React.Fragment>\r\n        <Container>\r\n        <ToastContainer />\r\n                \r\n                    <Card>\r\n                        <Card.Header>\r\n                        <div className=\"mb-3 row\">\r\n                            <label className=\"col-form-label col-sm-3 text-sm-left\">Nom en francais</label>\r\n                            <div className=\"col-sm-9\">\r\n                                <input type=\"text\" className=\"form-control\" placeholder=\"Nom en francais\" defaultValue={quartier.nom_fr}\r\n                                onChange={(e) => setQuartier({...quartierEdit, nom_fr: e.target.value})}/>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"mb-3 row\">\r\n                            <label className=\"col-form-label col-sm-3 text-sm-left\">Nom en arabe</label>\r\n                            <div className=\"col-sm-9\">\r\n                                <input type=\"text\" className=\"form-control\" placeholder=\"Nom en arabe\" defaultValue={quartier.nom_ar}\r\n                                onChange={(e) => setQuartier({...quartierEdit, nom_ar: e.target.value})}/>\r\n                            </div>\r\n                        </div>\r\n\r\n                        \r\n                        <div className=\"mb-3 row\">\r\n                            <label className=\"col-form-label col-sm-3 text-sm-left\">Surface (Hectar)</label>\r\n                            <div className=\"col-sm-9\">\r\n                                <input type=\"number\" className=\"form-control\" placeholder=\"Surface Totale (Hectar)\" defaultValue={quartier.surface}\r\n                                onChange={(e) => setQuartier({...quartierEdit, surface: e.target.value * 1})}/>\r\n                            </div>\r\n                        </div>\r\n                        </Card.Header>\r\n                        <Card.Body>\r\n                            <Button variant=\"primary\" onClick={editQuartier}>\r\n                                Enregistrer\r\n                            </Button> \r\n                        </Card.Body>\r\n                    </Card>\r\n\r\n        </Container>\r\n\r\n        </React.Fragment>\r\n    )\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { useMap } from \"react-leaflet3\";\r\nimport { GeoSearchControl } from \"leaflet-geosearch\";\r\n\r\nconst SearchControl = props => {\r\n  const map = useMap();\r\n\r\n  useEffect(() => {\r\n    const searchControl = new GeoSearchControl({\r\n      provider: props.provider,\r\n      ...props\r\n    });\r\n\r\n    map.addControl(searchControl);\r\n    return () => map.removeControl(searchControl);\r\n  }, [props]);\r\n\r\n  return null;\r\n};\r\nexport default SearchControl;","import React from \"react\";\r\nimport { MapContainer , Marker, Popup, TileLayer, Polygon, Tooltip, LayersControl, ZoomControl} from \"react-leaflet3\";\r\nimport { Container, Button, Row, Col, Modal } from 'react-bootstrap';\r\nimport axios from 'axios';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport \"./map.css\";\r\nimport MapFormUpdate from './MapFormUpdate';\r\nimport { Spinner } from 'react-bootstrap'\r\n\r\nimport { OpenStreetMapProvider } from \"react-leaflet-geosearch\";\r\nimport SearchControl from \"./SearchControl\";\r\n\r\nconst {BaseLayer} = LayersControl;\r\n\r\nexport default function Map({ quartiers, loading, setLoading }) {\r\n\r\n  const prov = OpenStreetMapProvider();\r\n\r\n  const [show, setShow] = React.useState(false);\r\n  const [showEdit, setShowEdit] = React.useState(false);\r\n  const [quartier, setQuartier] = React.useState({});\r\n  \r\n  const deleteQuartier = async (id) => {\r\n    console.log(id);\r\n\t\ttry {\r\n\t\t\tconst url =`http://priqh2server.herokuapp.com/api/v1/quartiers/${id}`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'delete',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\r\n      console.log(res.data);\r\n\r\n\t\t\tif (res.status === 203) {\r\n\t\t\t\twindow.location.replace('/Quartiers');\r\n\t\t\t}\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t}\r\n\r\n  const multiPolygon = (limites) => {\r\n    let polys = [];\r\n    for(const limite of limites){\r\n      polys.push([limite.lat, limite.lng]);\r\n    }\r\n\r\n    return polys;\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {\r\n        loading ?\r\n        <div className=\"d-flex justify-content-center\">\r\n        <Col md=\"auto\" >\r\n        <Spinner\r\n\t\t\t\t\tas=\"span\"\r\n\t\t\t\t\tanimation=\"border\"\r\n\t\t\t\t\tsize=\"lg\"\r\n          variant=\"primary\"\r\n\t\t\t\t\trole=\"status\"\r\n\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t/> </Col></div> : \r\n      <MapContainer  center={[34.886917, 9.537499]} zoom={7} zoomControl={false}>\r\n        <LayersControl position=\"bottomright\">\r\n          <BaseLayer checked name=\"osm\">\r\n            <TileLayer\r\n            attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n            />\r\n          </BaseLayer>\r\n          <BaseLayer name=\"satellite\">\r\n            <TileLayer\r\n            attribution='&copy; <a href=\"server.arcgisonline.com\">arcgisonline Maps</a> contributors'\r\n            url=\"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\"\r\n            />\r\n          </BaseLayer>\r\n        </LayersControl>\r\n        <ZoomControl position=\"bottomleft\" zoomInText=\"+\" zoomOutText=\"-\" />\r\n\r\n        <SearchControl\r\n          provider={prov}\r\n          showMarker={false}\r\n          showPopup={false}\r\n          popupFormat={({ query='tunis', result }) => result.label}\r\n          maxMarkers={3}\r\n          retainZoomLevel={false}\r\n          animateZoom={true}\r\n          autoClose={false}\r\n          searchLabel={\"Enter address, please\"}\r\n          keepResult={true}\r\n        />\r\n    \r\n        {\r\n        quartiers.map((quartier, index) => (\r\n              <Marker position={[quartier.center.lat,quartier.center.lng]} key={index}>\r\n                <Popup>\r\n                  Nom: {quartier.nom_fr} <br />\r\n                  <Row className=\"justify-content-md-center\">\r\n                    <Col md=\"auto\">\r\n                    <Button variant=\"danger\" onClick={() => { setQuartier(quartier); setShow(true)}}>\r\n                        <FeatherIcon icon=\"trash\" />\r\n                    </Button>\r\n                \r\n                    <Button variant=\"success\" onClick={() => { setQuartier(quartier); setShowEdit(true)}}>\r\n                      <FeatherIcon icon=\"edit\" />\r\n                    </Button>\r\n                    </Col>\r\n                  </Row>\r\n                </Popup>\r\n              </Marker>\r\n          ))\r\n        }\r\n      \r\n      { \r\n      quartiers.map((quartier, index) => ( \r\n      <Polygon key={index} pathOptions={{ color: 'blue' }} positions={multiPolygon(quartier.latlngs)}>\r\n        <Tooltip sticky>{quartier.nom_fr}</Tooltip>\r\n      </Polygon> ))\r\n      }\r\n      \r\n      </MapContainer>\r\n      }\r\n        <Modal show={show} onHide={() => setShow(false)}>\r\n          <Modal.Header>\r\n          <Modal.Title>Confirmation</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>Are you sure you want delete {quartier.nom_fr}!</Modal.Body>\r\n          <Modal.Footer>\r\n          <Button variant=\"danger\" onClick={() => setShow(false)}>\r\n            Close\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={() => { deleteQuartier(quartier.id) }}>\r\n            Save Changes\r\n          </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n\r\n        <Modal\r\n        show={showEdit}\r\n        size=\"lg\"\r\n        onHide={() => setShowEdit(false)}\r\n        dialogClassName=\"modal-100w\"\r\n        aria-labelledby=\"example-custom-modal-styling-title\"\r\n        >\r\n        <Modal.Header >\r\n          <Modal.Title id=\"example-custom-modal-styling-title\">\r\n            Modifier Quartier\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body className=\"show-grid\">\r\n         <MapFormUpdate quartier={quartier}/>\r\n        </Modal.Body>\r\n      </Modal>\r\n    </Container>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport Select from 'react-select'\r\nimport makeAnimated from 'react-select/animated'\r\nimport { Container, Card, Button, Modal } from 'react-bootstrap';\r\nimport { Map as MapContainer  , Marker, Popup, TileLayer, Polygon, FeatureGroup, LayersControl, ZoomControl} from \"react-leaflet\";\r\nimport * as turf from '@turf/turf'\r\nimport { EditControl } from \"react-leaflet-draw\"\r\nimport axios from 'axios'\r\n\r\nconst {BaseLayer} = LayersControl;\r\n\r\nexport default function MapFormAdd() {\r\n    const animatedComponents = makeAnimated();\r\n    \r\n    const [show, setShow] = React.useState(false);\r\n    const [commune, setCommune] = React.useState(null);\r\n    const [nom_fr, setNomFr] = React.useState(\"\");\r\n    const [nom_ar, setNomAr] = React.useState(\"\");\r\n    const [gouvernorats, setGouvernorats] = React.useState([]);\r\n    const [gouvernorat, setGouvernorat] = React.useState(null);\r\n    const [communes, setCommunes] = React.useState([]);\r\n\r\n    const handlesChangeCommune = (e) => {\r\n\t\tsetCommune(e.value);\r\n\t}\r\n\r\n    const handlesChangeGouvernorat = (e) => {\r\n        console.log(e);\r\n        let communes_options = [];\r\n\t\tfor(const commune of e.value.communes){\r\n\t\t\tlet obj = { value: commune, label: commune.nom_fr+\" - \"+ commune.nom_ar }\r\n\t\t\tcommunes_options.push(obj);\r\n\t\t}\r\n        setCommunes(communes_options);\r\n        setGouvernorat(e.value);\r\n        console.log(communes_options, gouvernorat);\r\n    }\r\n    \r\n\r\n    const [mapLayers, setMapLayers] = React.useState([]);\r\n\r\n\r\n    const fetchGouvernorats = async () => {\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/gouvernorats/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\t\r\n\t\t\tconsole.log(res.data.gouvernorats);\r\n\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tlet gouvernorats_options = [];\r\n\t\t\t\tfor(const gouvernorat of res.data.gouvernorats){\r\n\t\t\t\t\tlet obj = { value: gouvernorat, label: gouvernorat.nom_fr+\" - \"+ gouvernorat.nom_ar }\r\n\t\t\t\t\tgouvernorats_options.push(obj);\r\n\t\t\t\t}\r\n\t\t\t\tsetGouvernorats(gouvernorats_options);\r\n\t\t\t}\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t}\r\n\r\n    const addQuartier = async () => {\r\n        console.log(mapLayers);\r\n\t\t try {\r\n\t\t\tconst url =`http://priqh2server.herokuapp.com/api/v1/quartiers/`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'post',\r\n\t\t\t  \turl,\r\n                data:{ quartiers: mapLayers }\r\n\t\t\t});\r\n\r\n\t\t\tif (res.status === 201) {\r\n\t\t\t\tconsole.log(res.data);\r\n                window.location.replace('/Quartiers');\r\n\t\t\t}\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t}\r\n\r\n    React.useEffect(() => {\r\n        fetchGouvernorats()\r\n    },[]);\r\n\r\n    const _onCreate = (e) => {\r\n        console.log(e);\r\n    \r\n        const { layerType, layer } = e;\r\n\r\n        if (layerType === \"polygon\") {\r\n          const { _leaflet_id } = layer;\r\n\r\n          mapLayers.push({ id: _leaflet_id, commune_id: commune.id, commune_code: commune.code, quartier: {nom_fr: \"\", nom_ar: \"\", surface: turf.area(layer.toGeoJSON())}, center: layer.getCenter(), latlngs: layer.getLatLngs()[0] });\r\n        }\r\n\r\n        setShow(true);\r\n        console.log(mapLayers);\r\n    };\r\n    \r\n    const _onEdited = (e) => {\r\n        //console.log(e);\r\n    const {\r\n        layers: { _layers },\r\n    } = e;\r\n    \r\n    for(let i=0; i<mapLayers.length; i++){\r\n        for(const layer of Object.values(_layers)){\r\n            \r\n            if(mapLayers[i].id === layer._leaflet_id){\r\n                mapLayers.splice(i,1,{ id: layer._leaflet_id, commune_id: commune.id, quartier: {nom_fr: mapLayers[i].quartier.nom, nom_ar: mapLayers[i].quartier.nom_ar}, center: layer.getCenter(), latlngs: layer.getLatLngs()[0] });\r\n            }\r\n        }\r\n    }\r\n\r\n        console.log(mapLayers);\r\n    };\r\n    \r\n    const _onDeleted = (e) => {\r\n        //console.log(e);\r\n    const {\r\n        layers: { _layers },\r\n    } = e;\r\n    \r\n    console.log(Object.values(_layers));\r\n        \r\n    for(let i=0; i<mapLayers.length; i++){\r\n        for(const layer of Object.values(_layers)){\r\n            \r\n            if(mapLayers[i].id === layer._leaflet_id){\r\n                mapLayers.splice(i,1);\r\n            }\r\n        }\r\n    }\r\n        console.log(\"delete\",mapLayers);\r\n    };\r\n\r\n    return (\r\n        <React.Fragment>\r\n        <Container>\r\n                { commune ?\r\n                    <Card>\r\n                        <Card.Body>\r\n                            <MapContainer  center={[34.886917, 9.537499]} zoom={7} zoomControl={false}>\r\n                            <LayersControl position=\"bottomright\">\r\n                            <BaseLayer checked name=\"osm\">\r\n                                <TileLayer\r\n                                attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                                />\r\n                            </BaseLayer>\r\n                            <BaseLayer name=\"satellite\">\r\n                                <TileLayer\r\n                                attribution='&copy; <a href=\"server.arcgisonline.com\">arcgisonline Maps</a> contributors'\r\n                                url=\"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\"\r\n                                />\r\n                            </BaseLayer>\r\n                            </LayersControl>\r\n                            <ZoomControl position=\"bottomleft\" zoomInText=\"+\" zoomOutText=\"-\" />\r\n                            \r\n                            \r\n                            <FeatureGroup>\r\n                                <EditControl\r\n                                position='topright'\r\n                                onCreated={_onCreate}\r\n                                onEdited={_onEdited}\r\n                                onDeleted={_onDeleted}\r\n                                click={(e) => console.log(e)}\r\n                                draw={{\r\n                                    rectangle: false,\r\n                                    circle: false,\r\n                                    circlemarker: false,\r\n                                    marker: false,\r\n                                    polyline: false\r\n                                }}\r\n                                />\r\n                                \r\n                            </FeatureGroup>\r\n                                \r\n                            </MapContainer >\r\n                        </Card.Body>\r\n                    </Card> : \"\"\r\n                }\r\n                    <Card>\r\n                        <Card.Header>\r\n                        <Select className=\"py-2\"\r\n                            placeholder=\"Select Gouvernorat ...\"\r\n\t\t\t\t\t\t\tcloseMenuOnSelect={false}\r\n\t\t\t\t\t\t\tcomponents={animatedComponents}\r\n\t\t\t\t\t\t\toptions={gouvernorats}\r\n                            onChange={handlesChangeGouvernorat}\r\n                            defaultValue={gouvernorats[0]}\r\n\t\t\t\t\t\t/>\t\r\n                        { gouvernorat ?\r\n                        <Select className=\"py-2\"\r\n                            placeholder=\"Select Commune ...\"\r\n\t\t\t\t\t\t\tcloseMenuOnSelect={false}\r\n\t\t\t\t\t\t\tcomponents={animatedComponents}\r\n\t\t\t\t\t\t\toptions={communes}\r\n                            \r\n                            onChange={handlesChangeCommune}\r\n\t\t\t\t\t\t/> : ''}\r\n                        </Card.Header>\r\n                        <Card.Body>\t  \r\n                            \r\n                            <Button variant=\"primary\" onClick={addQuartier}>\r\n                                Enregistrer\r\n                            </Button>\r\n                            \r\n                        </Card.Body>\r\n                    </Card>\r\n\r\n        </Container>\r\n\r\n        <Modal show={show} onHide={() => setShow(false)}>\r\n            <Modal.Header >\r\n            <Modal.Title>Nom quartier</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n            <div className=\"row mb-3\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">nom en francais</label>\r\n                <div className=\"col-sm-9\">\r\n                    <input type=\"text\" className=\"form-control\" onChange={(e) => setNomFr(e.target.value)} />\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">nom en arabe</label>\r\n                <div className=\"col-sm-9\">\r\n                    <input type=\"text\" className=\"form-control\" onChange={(e) => setNomAr(e.target.value)} />\r\n                </div>\r\n            </div>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n           \r\n            <Button variant=\"primary\" onClick={() => { mapLayers[mapLayers.length - 1].quartier.nom_fr = nom_fr; mapLayers[mapLayers.length - 1].quartier.nom_ar = nom_ar; setNomFr(\"\"); setNomAr(\"\"); setShow(false); }}>\r\n                Enregistrer\r\n            </Button>\r\n            <Button variant=\"danger\" onClick={() => setShow(false)}>\r\n                Fermer\r\n            </Button> \r\n            </Modal.Footer>\r\n        </Modal>\r\n        </React.Fragment>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Map from './components/Map'\r\nimport Select from 'react-select'\r\nimport makeAnimated from 'react-select/animated'\r\nimport axios from 'axios'\r\n\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport MapFormAdd from './components/MapFormAdd'\r\n\r\nimport { Container, Row, Col, Modal, Card, Button } from 'react-bootstrap';\r\nimport LoadingBar from 'react-top-loading-bar';\r\nimport { gql, useSubscription } from '@apollo/client'\r\n\r\nconst QUARTIERS = gql`\r\nsubscription quartiers {\r\n  quartiers{\r\n    id\r\n    code\r\n    nom_fr\r\n    nom_ar\r\n    center{lat lng}\r\n    latlngs{lat lng}\r\n    surface\r\n  }\r\n}`\r\n\r\nconst GOUVERNORATS = gql`\r\nsubscription gouvernorats {\r\n    gouvernorats{\r\n    id\r\n    code\r\n    nom_fr\r\n    nom_ar\r\n    communes{\r\n      id\r\n      code\r\n      nom_fr\r\n      nom_ar\r\n      quartiers{\r\n        id\r\n        code\r\n        nom_fr\r\n        nom_ar\r\n        center{lat lng}\r\n        latlngs{lat lng}\r\n        surface\r\n      }\r\n    }\r\n  }\r\n}`\r\n\r\nexport default function Quartiers() {\r\n    const animatedComponents = makeAnimated();\r\n\r\n    const [show, setShow] = React.useState(false);\r\n    const [gouvernorat, setGouvernorat] = React.useState(false);\r\n    const [commune, setCommune] = React.useState(\"\");\r\n    const [gouvernorats, setGouvernorats] = React.useState([]);\r\n    const [communes, setCommunes] = React.useState([]);\r\n    const [quartiers, setQuartiers] = React.useState([]);\r\n    const [progress, setProgress] = React.useState(0);\r\n    const [loading, setLoading] = React.useState(true);\r\n\r\n    const { data: quartiersINFO, error: messageError } = useSubscription(\r\n\t\tQUARTIERS\r\n\t)\r\n\r\n    const { data: gouvernoratsINFO, error: messageError1 } = useSubscription(\r\n\t\tGOUVERNORATS\r\n\t)\r\n\r\n    console.log(\"gouvernoratsINFO\",gouvernoratsINFO);\r\n\r\n    const handlesChangeGouvernorat = (e) => {\r\n\r\n        //document.getElementsByClassName('glass')[0].value = e.label\r\n        console.log(\"fgdfgdfg\",document.getElementsByClassName('geosearch leaflet-bar leaflet-control leaflet-control-geosearch leaflet-geosearch-button')[0].onclick = true);\r\n\r\n        setLoading(true);\r\n        console.log(e);\r\n        let communes_options = [];\r\n        let allQuartiers = [];\r\n\t\tfor(const commune of e.value.communes){\r\n\t\t\tlet obj = { value: commune, label: commune.nom_fr+\" - \"+ commune.nom_ar }\r\n\t\t\tcommunes_options.push(obj);\r\n            allQuartiers.push(...commune.quartiers)\r\n\t\t}\r\n        console.log(allQuartiers);\r\n        setCommunes(communes_options);\r\n        setGouvernorat(e.value);\r\n        setQuartiers(allQuartiers);\r\n        setLoading(false);\r\n    }\r\n\r\n    const handlesChangeCommune = (e) => {\r\n        setLoading(true);\r\n\t\tsetCommune(e.value);\r\n        setQuartiers(e.value.quartiers);\r\n        setLoading(false);\r\n\t}\r\n\r\n    const fetchGouvernorats = async () => {\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/gouvernorats/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\t\r\n\t\t\tconsole.log(res.data.gouvernorats);\r\n\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tlet gouvernorats_options = [];\r\n\t\t\t\tfor(const gouvernorat of res.data.gouvernorats){\r\n\t\t\t\t\tlet obj = { value: gouvernorat, label: gouvernorat.nom_fr+\" - \"+ gouvernorat.nom_ar }\r\n\t\t\t\t\tgouvernorats_options.push(obj);\r\n\t\t\t\t}\r\n\t\t\t\tsetGouvernorats(gouvernorats_options);\r\n\t\t\t}\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t}\r\n\r\n    const fetchQuartiers = async () => {\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/quartiers/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\t\r\n\t\t\tconsole.log(\"fetchQuartiers\",res.data.quartiers);\r\n\r\n\t\t\r\n\t\t\tsetQuartiers(res.data.quartiers);\r\n\t\t\r\n\r\n            console.log(quartiers);\r\n\r\n            setLoading(false);\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t}\r\n\r\n    React.useEffect(() => {\r\n        if(quartiersINFO){\r\n            console.log(quartiersINFO);\r\n            setQuartiers(quartiersINFO.quartiers);\r\n        }\r\n        \r\n    },[quartiersINFO]);\r\n\r\n    React.useEffect(() => {\r\n        if(gouvernoratsINFO){\r\n            let gouvernorats_options = [];\r\n\t\t\tfor(const gouvernorat of gouvernoratsINFO.gouvernorats){\r\n\t\t\t\tlet obj = { value: gouvernorat, label: gouvernorat.nom_fr+\" - \"+ gouvernorat.nom_ar }\r\n\t\t\t\tgouvernorats_options.push(obj);\r\n\t\t\t}\r\n\t\t\tsetGouvernorats(gouvernorats_options);\r\n        }\r\n    },[gouvernoratsINFO]);\r\n\r\n    React.useEffect(() => {\r\n        setProgress(20);\r\n        fetchQuartiers();\r\n        setProgress(50);\r\n        fetchGouvernorats();\r\n        setProgress(100);\r\n        return () => setProgress(0);\r\n    },[]);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n            <LoadingBar color='#1a2e8a' height='4px' progress={progress}  />\r\n        <div className=\"container-fluid p-0\">\r\n\r\n            <h1 className=\"h3 mb-3\">Gestion des quartiers</h1>\r\n\r\n            <div className=\"row\">\r\n                <div className=\"col-12 col-lg-12\" >\r\n                   \r\n                    <Container>\r\n                        <Row>\r\n                           \r\n                            <Col xs={12} md={9} >\r\n                            <Card>\r\n                                <Card.Body>\r\n                                    <Map quartiers={quartiers} loading={loading} />\r\n                                </Card.Body>\r\n                            </Card>\r\n                            </Col>\r\n\r\n                            <Col xs={12} md={3}>\r\n                            <Card>\r\n                                <Card.Header>\r\n                                    <Button variant=\"primary\" size=\"primary\" block onClick={() => setShow(true)}>\r\n                                        <FeatherIcon icon=\"map\" /><FeatherIcon icon=\"plus\" />\r\n                                    </Button>\r\n                                </Card.Header>\r\n                                <Card.Body>\r\n                                \r\n                                <div className=\"mb-3 row\">\r\n                                    \r\n                                    <div className=\"col-sm-12\">\r\n                                        <div className=\"boxes\" >\r\n                                        <Select className=\"py-2\"\r\n                                            placeholder=\"Select Gouvernorat ...\"\r\n                                            closeMenuOnSelect={false}\r\n                                            components={animatedComponents}\r\n                                            options={gouvernorats}\r\n                                            onChange={handlesChangeGouvernorat}\r\n                                            defaultValue={gouvernorats[0]}\r\n                                        />\t\t\t\t\t\t\t\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                { gouvernorat ?\r\n                                <div className=\"mb-3 row\">\r\n                                    \r\n                                    <div className=\"col-sm-12\">\r\n                                        <div className=\"boxes\" >\r\n                                        <Select className=\"py-2\"\r\n                                            placeholder=\"Select Commune ...\"\r\n                                            closeMenuOnSelect={false}\r\n                                            components={animatedComponents}\r\n                                            options={communes}\r\n                                            \r\n                                            onChange={handlesChangeCommune}\r\n                                        />\t\t\t\t\t\r\n                                        </div>\r\n                                    </div>\r\n                                </div> : ''\r\n                                }\r\n\r\n                                </Card.Body>\r\n                            </Card>\r\n                            </Col>\r\n                        </Row>\r\n                   </Container>         \r\n                </div> \r\n            </div>\r\n\r\n            <div className=\"modal fade\" id=\"ModalMod\" tabIndex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n                <div className=\"modal-dialog\" role=\"document\">\r\n                        \r\n                    <div className=\"modal-content\">\r\n                        <div className=\"modal-header\">\r\n                                \r\n                            <div className=\"col-12 col-xl-12\">\r\n                                \r\n\t\t\t\t\t\t\t    <div className=\"card\">\r\n                                         \r\n\t\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"modal-title\">Ajouter Quartier</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t    <div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t        \r\n\t\t\t\t\t\t\t\t    </div>\r\n\t\t\t\t\t\t\t    </div>\r\n                           \r\n\t\t\t\t\t\t    </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <Modal\r\n        show={show}\r\n        size=\"lg\"\r\n        onHide={() => setShow(false)}\r\n        dialogClassName=\"modal-100w\"\r\n        aria-labelledby=\"example-custom-modal-styling-title\"\r\n        >\r\n        <Modal.Header >\r\n          <Modal.Title id=\"example-custom-modal-styling-title\">\r\n            Ajouter Quartier\r\n          </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body className=\"show-grid\">\r\n         <MapFormAdd />\r\n        </Modal.Body>\r\n      </Modal>\r\n\r\n    </main>\r\n    )\r\n}\r\n","import React from 'react';\r\n\r\nconst StoreStateContext = React.createContext();\r\nconst StoreDispatchContext = React.createContext();\r\n\r\nlet projet = null;\r\nlet prestataire = null;\r\nlet newProjet = null;\r\nlet commune = null;\r\nlet memoire = null;\r\nlet financements = null;\r\nlet decompte = null;\r\nlet gouvernorat = localStorage.getItem('gouvernoratPriqh2');\r\n\r\nif(!gouvernorat){\r\n    gouvernorat = 'Bizerte';\r\n}\r\n\r\n\r\nconst storeReducer = (state, action) => {\r\n    switch(action.type) {\r\n        case 'decompteEdit' :\r\n            return {\r\n                ...state,\r\n                decompte: action.payload,\r\n            }\r\n        case 'financementEdit' :\r\n            return {\r\n                ...state,\r\n                financements: action.payload,\r\n            }\r\n        case 'memoireEdit' :\r\n            return {\r\n                ...state,\r\n                memoire: action.payload,\r\n            }\r\n        case 'prestataireEdit' :\r\n            return {\r\n                ...state,\r\n                prestataire: action.payload,\r\n            }\r\n        case 'newProjet' :\r\n            return {\r\n                ...state,\r\n                newProjet: action.payload,\r\n            }\r\n        case 'projetEdit' :\r\n            return {\r\n                ...state,\r\n                projet: action.payload\r\n            }\r\n        case 'communeEdit' :\r\n            return {\r\n                ...state,\r\n                commune: action.payload\r\n            }\r\n        case 'gouvernoratEdit' :\r\n            localStorage.setItem('gouvernoratPriqh2',action.payload);\r\n            return {\r\n                ...state,\r\n                gouvernorat: action.payload\r\n            }\r\n\r\n        default:\r\n            throw new Error(`Unkonwn action type: ${action.type}`);\r\n    }\r\n}\r\n\r\nexport const StoreProvider = ({ children }) => {\r\n    const [state, dispatch] = React.useReducer(storeReducer, { projet, commune, gouvernorat, newProjet, prestataire, memoire, financements, decompte });\r\n\r\n    return (\r\n        <StoreDispatchContext.Provider value={dispatch}>\r\n            <StoreStateContext.Provider value={state}>\r\n                {children}\r\n            </StoreStateContext.Provider>\r\n        </StoreDispatchContext.Provider>\r\n    );\r\n}\r\n\r\nexport const useStoreState = () => React.useContext(StoreStateContext);\r\nexport const useStoreDispatch = () => React.useContext(StoreDispatchContext);","import React from 'react';\r\nimport \"react-svg-map/lib/index.css\";\r\nimport Tunisia from '@svg-maps/tunisia';\r\nimport { useStoreDispatch } from '../../../context/store';\r\nimport { SVGMap } from \"react-svg-map\";\r\n\r\nexport default function Carte() {\r\n\r\n\tconst dispatch = useStoreDispatch();\r\n\r\n\t\treturn (\r\n\t\t\t<article className=\"examples__block\">\r\n       \t\t<div>\r\n\t\t\t\t<div className=\"examples__block__map\">\r\n\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t<div id=\"world_map\" style={{\"height\":\"350px\"}} className=\"jvm-container\">\r\n\t\t\t\t\t\t<SVGMap \r\n\t\t\t\t\t\t\tdata-for='test'\r\n\t\t\t\t\t\t\tmap={Tunisia}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tonLocationFocus={(e) => dispatch({ type:'gouvernoratEdit', payload: e.target.ariaLabel })}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t/>\r\n\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\r\n        \t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t</article>\r\n\t\t);\r\n\t\r\n}\r\n","import React from 'react';\r\nimport Select from 'react-select';\r\nimport makeAnimated from 'react-select/animated';\r\nimport axios from 'axios';\r\nimport { useStoreDispatch } from '../../../../context/store';\r\nimport { useStoreState } from '../../../../context/store';\r\n\r\nexport default function Step1() {\r\n\r\n    const dispatch = useStoreDispatch();\r\n    const { newProjet } = useStoreState();\r\n\r\n\tconsole.log(newProjet);\r\n\r\n    const animatedComponents = makeAnimated();\r\n    \r\n    \r\n\tconst [gouvernorats, setGouvernorats] = React.useState(null);\r\n\tconst [gouvernorat, setGouvernorat] = React.useState(null);\r\n\tconst [communes, setCommunes] = React.useState(null);\r\n\tconst [commune, setCommune] = React.useState(null);\r\n    const [quartiers, setQuartiers] = React.useState([]);\r\n    const [selectedQuartiers, setSelectedQuartiers] = React.useState([]);\r\n\tconst [nom, setNom] = React.useState('');\r\n\r\n    const [disabled, setDisabled] = React.useState(false);\r\n\r\n\tconst handlesChangeCommune = (e) => {\r\n        dispatch({ type: \"newProjet\", payload: { ...newProjet, commune_code: e.value.code } });\r\n        setCommune(e.value);\r\n\t\tlet quartiers_options = [];\r\n        \r\n\t\tfor(const quartier of e.value.quartiers){\r\n\t\t\tlet obj = { value: quartier, label: quartier.nom_fr+\" - \"+ quartier.nom_ar }\r\n\t\t\tquartiers_options.push(obj);\r\n\t\t}\r\n\t\tsetQuartiers(quartiers_options);\r\n        console.log(quartiers_options);\r\n\t}\r\n\r\n    const handlesChangeGouvernorat = (e) => {\r\n        let communes_options = [];\r\n        console.log(e)\r\n\t\tfor(const commune of e.value.communes){\r\n\t\t\tlet obj = { value: commune, label: commune.nom_fr+\" - \"+ commune.nom_ar }\r\n\t\t\tcommunes_options.push(obj);\r\n\t\t}\r\n        setCommunes(communes_options);\r\n        setGouvernorat(e.value);\r\n        console.log(communes_options, gouvernorat);\r\n    }\r\n\r\n\tconst handlesChangeQuartier = (e) => {\r\n\t\tlet nomProjet = '';\r\n\t\tfor(const n of e){\r\n\t\t\tnomProjet = nomProjet + n.label.split('-')[0] + ' '\r\n\t\t}\r\n\r\n\t\tlet surface_totale = 0;\r\n\t\tfor(const q of e){\r\n\t\t\tsurface_totale+=q.value.surface\r\n\t\t}\r\n\r\n\t\tconsole.log(nomProjet);\r\n\t\tdispatch({ type: \"newProjet\", payload: { ...newProjet, projet: { ...(newProjet.projet), nom: nomProjet.trim(), surface_totale }, quartiers: e.map(x => x.value.id) } });\r\n       /* if(e.map(x => x.value).length === newProjet.projet.nbr_qaurtiers){\r\n\t\t\tsetSelectedQuartiers(quartiers);\r\n\t\t\tsetQuartiers([]);\r\n        }else{\r\n\t\t\tdispatch({ type: \"newProjet\", payload: { ...newProjet, quartiers: e.map(x => x.value) } });\r\n\t\t\tsetQuartiers(selectedQuartiers);\r\n\t\t}*/\r\n\t}\r\n\r\n\tconst fetchQuartiers = async () => {\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/quartiers/sans_projet';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\t\r\n\t\t\tlet gouvernorats_options = [];\r\n\t\t\tfor(const gouvernorat of res.data.gouvernorats){\r\n\t\t\t\tlet obj = { value: gouvernorat, label: gouvernorat.nom_fr+\" \"+gouvernorat.nom_ar }\r\n\t\t\t\tgouvernorats_options.push(obj);\r\n\t\t\t}\r\n\t\t\tsetGouvernorats(gouvernorats_options);\r\n            console.log(gouvernorats_options);\r\n\t\t\t\r\n\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t}\r\n\r\n    React.useEffect(() => {\r\n        if(!disabled){\r\n            fetchQuartiers();\r\n        }\r\n    },[disabled]);\r\n\r\n  return (\r\n    <div>\r\n            <div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">\r\n\t\t\t\t\tGouvernorat\r\n\t\t\t\t</label>\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<div className=\"boxes\">\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tplaceholder=\"Select Gouvernorat ...\"\r\n\t\t\t\t\t\t\tcomponents={animatedComponents}\r\n\t\t\t\t\t\t\toptions={gouvernorats}\r\n\t\t\t\t\t\t\tonChange={handlesChangeGouvernorat}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t{ gouvernorat ?\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">\r\n\t\t\t\t\tCommune\r\n\t\t\t\t</label>\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<div className=\"boxes\">\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tplaceholder=\"Select Commune ...\"\r\n\t\t\t\t\t\t\tdefaultValue={communes[0]}\r\n\t\t\t\t\t\t\tcomponents={animatedComponents}\r\n\t\t\t\t\t\t\toptions={communes}\r\n\t\t\t\t\t\t\tonChange={handlesChangeCommune}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div> : '' }\r\n\r\n\t\t\t{ commune ?\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">\r\n\t\t\t\t\tQuartiers\r\n\t\t\t\t</label>\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<div className=\"boxes\">\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tplaceholder=\"Select Quartiers ...\"\r\n\t\t\t\t\t\t\tcomponents={animatedComponents}\r\n\t\t\t\t\t\t\tisMulti\r\n\t\t\t\t\t\t\toptions={quartiers}\r\n\t\t\t\t\t\t\tonChange={handlesChangeQuartier}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div> : '' }\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useStoreDispatch } from '../../../../context/store';\r\nimport { useStoreState } from '../../../../context/store';\r\n\r\nexport default function Step2() {\r\n\r\n    const [projet, setProjet] = React.useState({});\r\n\r\n    const dispatch = useStoreDispatch();\r\n    const { newProjet } = useStoreState();\r\n\r\n\tconst dispatchData = () => {\r\n\t\tdispatch({type: \"newProjet\", payload: {...newProjet, projet}});\r\n\t}\r\n\r\n  return (\r\n    <div>\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Nombre quartiers</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" placeholder=\"Nombre quartiers\"\r\n\t\t\t\t\tonChange={(e) => {projet.nbr_quartiers= e.target.value * 1;  dispatchData(); }}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n            <div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Surface Urbanisée (Hectar)</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" placeholder=\"Surface Urbanisée (Hectar)\"\r\n\t\t\t\t\tonChange={(e) => { projet.surface_urbanisee_totale= e.target.value * 1;  dispatchData(); }}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Nombre de logements</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" placeholder=\"Nombre de logements\"\r\n\t\t\t\t\tonChange={(e) => { projet.nombre_logements_totale= e.target.value * 1; dispatchData(); }}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n            <div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Nombre habitants</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" placeholder=\"Nombre habitants\"\r\n\t\t\t\t\tonChange={(e) => { projet.nombre_habitants_totale= e.target.value * 1; dispatchData(); }}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useStoreDispatch } from '../../../../context/store';\r\nimport { useStoreState } from '../../../../context/store';\r\n\r\nexport default function Step3() {\r\n\r\n\tconst { newProjet } = useStoreState();\r\n\r\n\tconsole.log(newProjet);\r\n    \r\n    const [quartiers, setQuartiers] = React.useState([]);\r\n\tconst [drainage, setDrainage] = React.useState({type: 'drainage des eaux pluviales', quantite: 0, cout: 0});\r\n\tconst [voirie, setVoirie] = React.useState({type: 'voirie', quantite: 0, cout: 0});\r\n\tconst [assainissement, setAssainissement] = React.useState({type: 'assainissement', quantite: 0, cout: 0});\r\n\tconst [eclairage, setEclairage] = React.useState({type: 'eclairage public', quantite: 0, cout: 0});\r\n\tconst [eau, setEau] = React.useState({type: 'eau potable', quantite: 0, cout: 0});\r\n\r\n\tconst dispatch = useStoreDispatch();\r\n\r\n\tconst dispatchData = () => {\r\n\t\tdispatch({ type: \"newProjet\", payload: {...newProjet, infrastructures: [drainage, voirie, assainissement, eclairage, eau] }});\r\n\t}\r\n\r\n\tReact.useEffect(() => {\r\n\t\tdispatchData();\r\n\t},[]);\r\n\t\r\n  return (\r\n    <div>\r\n            <div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Drainage</label>\r\n                <div className=\"col-sm-4\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" placeholder=\"quantite (km)\"\r\n\t\t\t\t\tonChange={(e) => { drainage.quantite= e.target.value * 1; dispatchData();}}/>\r\n\t\t\t\t</div>\r\n                <div className=\"col-sm-5\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" placeholder=\"cout (mdt)\"\r\n\t\t\t\t\tonChange={(e) => { drainage.cout= e.target.value * 1;  dispatchData();}}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n            <div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Voirie</label>\r\n                <div className=\"col-sm-4\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" placeholder=\"quantite (km)\"\r\n\t\t\t\t\tonChange={(e) => { voirie.quantite= e.target.value * 1;  dispatchData();}}/>\r\n\t\t\t\t</div>\r\n                <div className=\"col-sm-5\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" placeholder=\"cout (mdt)\"\r\n\t\t\t\t\tonChange={(e) => { voirie.cout= e.target.value * 1;  dispatchData();}}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n            <div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Assainissement</label>\r\n                <div className=\"col-sm-4\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" placeholder=\"quantite (km)\"\r\n\t\t\t\t\tonChange={(e) => { assainissement.quantite= e.target.value * 1;  dispatchData();}}/>\r\n\t\t\t\t</div>\r\n                <div className=\"col-sm-5\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" placeholder=\"cout (mdt)\"\r\n\t\t\t\t\tonChange={(e) => { assainissement.cout= e.target.value * 1;  dispatchData();}}/>\r\n\t\t\t\t</div>\r\n            </div>\r\n            <div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Eclairage Public</label>\r\n                <div className=\"col-sm-4\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" placeholder=\"p.lumineux\"\r\n\t\t\t\t\tonChange={(e) => { eclairage.quantite= e.target.value * 1; dispatchData();}}/>\r\n\t\t\t\t</div>\r\n                <div className=\"col-sm-5\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" placeholder=\"cout (mdt)\"\r\n\t\t\t\t\tonChange={(e) => { eclairage.cout= e.target.value * 1;  dispatchData();}}/>\r\n\t\t\t\t</div>\r\n            </div>\r\n            <div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Eau potable</label>\r\n                <div className=\"col-sm-4\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" placeholder=\"quantite (km)\"\r\n\t\t\t\t\tonChange={(e) => { eau.quantite= e.target.value * 1;  dispatchData();}}/>\r\n\t\t\t\t</div>\r\n                <div className=\"col-sm-5\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" placeholder=\"cout (mdt)\"\r\n\t\t\t\t\tonChange={(e) => { eau.cout= e.target.value * 1;  dispatchData();}}/>\r\n\t\t\t\t</div>\r\n            </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport axios from 'axios';\r\nimport { useStoreDispatch } from '../../../../context/store';\r\nimport { useStoreState } from '../../../../context/store';\r\n\r\nexport default function Step4() {\r\n\r\n\tconst { newProjet } = useStoreState();\r\n\tconsole.log(newProjet);\r\n    const [etude, setEtude] = React.useState({ bureau_etude: '', cout_etude: 0 });\r\n\tconst dispatch = useStoreDispatch();\r\n\r\n\tconsole.log(newProjet);\r\n\r\n    const AddProjet = async() => {\r\n\t\t\r\n\t\ttry{\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/projets/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'post',\r\n\t\t\t  \turl,\r\n\t\t\t\tdata: {...newProjet, projet: {...(newProjet.projet), ...etude} }\r\n\t\t\t});\r\n\r\n\t\t\ttoast.success('Success', {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 3000,\r\n\t\t\t\tdraggable: false\r\n\t\t\t});\r\n\r\n\t\t\twindow.location.replace('/Projets');\r\n\r\n\t\t}catch(err){\r\n\t\t\tconsole.log(err.message);\r\n\t\t\t\r\n\t\t\ttoast.error(err.message, {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tdraggable: true\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n  return (\r\n    <div>\r\n        <ToastContainer/>\r\n            <div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Etude</label>\r\n                <div className=\"col-sm-4\">\r\n\t\t\t\t\t<input type=\"text\" className=\"form-control\" placeholder=\"Bureau\"\r\n\t\t\t\t\tonChange={(e) => { etude.bureau_etude= e.target.value;  }}/>\r\n\t\t\t\t</div>\r\n                <div className=\"col-sm-5\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" placeholder=\"cout (mdt)\"\r\n\t\t\t\t\tonChange={(e) => { etude.cout_etude= e.target.value * 1; }}/>\r\n\t\t\t\t</div>\r\n            </div>\r\n\r\n            <div className=\"mb-3 row\">\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<span  className=\"btn btn-primary\" onClick={() => AddProjet()}>Submit</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport Step1 from './steps/Step1';\r\nimport Step2 from './steps/Step2';\r\nimport Step3 from './steps/Step3';\r\nimport Step4 from './steps/Step4';\r\n\r\nimport StepZilla from \"react-stepzilla\";\r\nimport './steps/main.css';\r\n\r\nexport default function FormProjet() {\r\n\r\n\tconst steps = [\r\n\t\t{ name: \"Projet\", component: <Step2 /> },\r\n\t\t{ name: \"Quartiers\", component: <Step1 /> },\r\n\t\t{ name: \"Infrastructure\", component: <Step3 /> },\r\n\t\t{ name: \"Etude\", component: <Step4 /> }\r\n\t  ]\r\n\t\r\n    return (\r\n\t\t<div className='step-progress'>\r\n        \t<StepZilla \r\n\t\t\t\tsteps={steps}\r\n\t\t\t\tnextButtonCls=\"btn btn-primary pull-right\"\r\n\t\t\t\tbackButtonCls=\"btn btn-primary pull-left\"\r\n\t\t\t\tstepsNavigation={false}\r\n\t\t\t/>\r\n    \t</div>\r\n    );\r\n}\r\n","import React from 'react'\r\nimport axios from 'axios';\r\nimport {ToastContainer as TContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useStoreState } from '../../../context/store';\r\n\r\nexport default function FormProjetUpdate() {\r\n\r\n    const {projet} = useStoreState();\r\n\r\n    const loadValues = () => {\r\n\r\n        const drainage = {\r\n            type: \"drainage des eaux pluviales\", \r\n            quantite: projet ? projet.infrastructures.filter((infra) => infra.type === \"drainage des eaux pluviales\")[0].quantite : '',\r\n            cout: projet ? projet.infrastructures.filter((infra) => infra.type === \"drainage des eaux pluviales\")[0].cout : ''}\r\n        \r\n        const eau = {\r\n            type: \"eau potable\",\r\n            quantite: projet ? projet.infrastructures.filter((infra) => infra.type === \"eau potable\")[0].quantite : '',\r\n            cout: projet ? projet.infrastructures.filter((infra) => infra.type === \"eau potable\")[0].cout : ''}\r\n\r\n        const assainissement = {\r\n            type: \"assainissement\",\r\n            quantite: projet ? projet.infrastructures.filter((infra) => infra.type === \"assainissement\")[0].quantite : '',\r\n            cout: projet ? projet.infrastructures.filter((infra) => infra.type === \"assainissement\")[0].cout : ''\r\n        }\r\n\r\n        const eclairage = {\r\n            type: \"eclairage public\",\r\n            quantite: projet ? projet.infrastructures.filter((infra) => infra.type === \"eclairage public\")[0].quantite : '',\r\n            cout: projet ? projet.infrastructures.filter((infra) => infra.type === \"eclairage public\")[0].cout : ''}\r\n        \r\n        const voirie = {\r\n            type: \"voirie\",\r\n            quantite: projet ? projet.infrastructures.filter((infra) => infra.type === \"voirie\")[0].quantite : '',\r\n            cout: projet ? projet.infrastructures.filter((infra) => infra.type === \"voirie\")[0].cout : ''}\r\n        \r\n        const etude = {\r\n            bureau_etude: projet && projet.bureau_etude ? projet.bureau_etude : '',\r\n            cout_etude: projet && projet.cout_etude ? projet.cout_etude : 0}\r\n\r\n        return {drainage,eau,assainissement,eclairage,voirie,etude};\r\n    }\r\n\r\n    const [drainage, setDrainage] = React.useState(loadValues().drainage);\r\n\r\n    const [eau, setEau] = React.useState(loadValues().eau);\r\n\r\n    const [assainissement, setAssainissement] = React.useState(loadValues().assainissement);\r\n\r\n    const [eclairage, setEclairage] = React.useState(loadValues().eclairage);\r\n\r\n    const [voirie, setVoirie] = React.useState(loadValues().voirie);\r\n\r\n    const [etude, setEtude] = React.useState(loadValues().etude);\r\n\r\n    const updateProjet = async() => {\r\n\r\n        console.log({projet: {...etude}, infrastructures: [drainage, eau, assainissement, eclairage, voirie]});\r\n\t\ttry{\r\n\t\t\tconst url = `http://priqh2server.herokuapp.com/api/v1/projets/${projet.id}`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'put',\r\n\t\t\t  \turl,\r\n\t\t\t\tdata: {projet: {...etude}, infrastructures: [drainage, eau, assainissement, eclairage, voirie]}\r\n\t\t\t});\r\n\r\n\t\t\t toast.success('Success', {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 3000,\r\n\t\t\t\tdraggable: false\r\n\t\t\t});\r\n\r\n            window.location.replace('/Projets');\r\n            \r\n\t\t}catch(err){\r\n\t\t\tconsole.log(err.response.data.message);\r\n\t\t\t\r\n\t\t\ttoast.error(err.response.data.message, {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tdraggable: true\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n  React.useEffect(() => {\r\n    if(projet !== null){\r\n        const p = loadValues();\r\n        setDrainage(p.drainage);\r\n        setEau(p.eau);\r\n        setEclairage(p.eclairage);\r\n        setVoirie(p.voirie);\r\n        setAssainissement(p.assainissement);\r\n        setEtude(p.etude);\r\n    }\r\n  },[projet]);\r\n\r\n    return (\r\n        <div>\r\n            <TContainer />\r\n            <div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Drainage</label>\r\n                <div className=\"col-sm-4\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" placeholder=\"quantite (km)\" onChange={(e) => drainage.quantite= e.target.value * 1}\r\n                    defaultValue={drainage.quantite}/>\r\n\t\t\t\t</div>\r\n                <div className=\"col-sm-5\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" placeholder=\"cout (mdt)\" onChange={(e) => drainage.cout= e.target.value * 1}\r\n                    defaultValue={drainage.cout}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n            <div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Voirie</label>\r\n                <div className=\"col-sm-4\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" placeholder=\"quantite (km)\" onChange={(e) => voirie.quantite= e.target.value * 1}\r\n                    defaultValue={voirie.quantite}/>\r\n\t\t\t\t</div>\r\n                <div className=\"col-sm-5\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" placeholder=\"cout (mdt)\" onChange={(e) => voirie.cout= e.target.value * 1}\r\n                    defaultValue={voirie.cout}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n            <div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Assainissement</label>\r\n                <div className=\"col-sm-4\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" placeholder=\"quantite (km)\" onChange={(e) => assainissement.quantite= e.target.value * 1}\r\n                    defaultValue={assainissement.quantite}/>\r\n\t\t\t\t</div>\r\n                <div className=\"col-sm-5\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" placeholder=\"cout (mdt)\" onChange={(e) => assainissement.cout= e.target.value * 1}\r\n                    defaultValue={assainissement.cout}/>\r\n\t\t\t\t</div>\r\n            </div>\r\n            <div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Eclairage Public</label>\r\n                <div className=\"col-sm-4\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" placeholder=\"p.lumineux (km)\" onChange={(e) => eclairage.quantite= e.target.value * 1}\r\n                    defaultValue={eclairage.quantite}/>\r\n\t\t\t\t</div>\r\n                <div className=\"col-sm-5\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" placeholder=\"cout (mdt)\" onChange={(e) => eclairage.cout= e.target.value * 1}\r\n                    defaultValue={eclairage.cout}/>\r\n\t\t\t\t</div>\r\n            </div>\r\n            <div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Eau potable</label>\r\n                <div className=\"col-sm-4\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" placeholder=\"quantite (km)\" onChange={(e) => eau.quantite= e.target.value * 1}\r\n                    defaultValue={eau.quantite}/>\r\n\t\t\t\t</div>\r\n                <div className=\"col-sm-5\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" placeholder=\"cout (mdt)\" onChange={(e) => eau.bureaucout= e.target.value * 1}\r\n                    defaultValue={eau.cout}/>\r\n\t\t\t\t</div>\r\n            </div>\r\n            <div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Etude</label>\r\n                <div className=\"col-sm-4\">\r\n\t\t\t\t\t<input type=\"text\" className=\"form-control\" placeholder=\"Bureau\" onChange={(e) => etude.bureau_etude= e.target.value}\r\n                    defaultValue={etude.bureau_etude}/>\r\n\t\t\t\t</div>\r\n                <div className=\"col-sm-5\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" placeholder=\"cout (mdt)\" onChange={(e) => etude.cout_etude= e.target.value * 1}\r\n                    defaultValue={etude.cout_etude}/>\r\n\t\t\t\t</div>\r\n            </div>\r\n            <div className=\"mb-3 row\">\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<span onClick={(e) => updateProjet()}  className=\"btn btn-primary\">Submit</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { MDBDataTableV5 } from 'mdbreact'\r\nimport 'mdbreact/dist/css/mdb.css'\r\n//import '@fortawesome/fontawesome-free/css/all.css'\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport axios from 'axios';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useStoreDispatch } from '../../../context/store';\r\nimport { Container, Row, Col, Modal, Card, Button, Tabs } from 'react-bootstrap';\r\nimport { gql, useSubscription } from '@apollo/client'\r\n\r\nconst PROJETS = gql`\r\nsubscription projets {\r\n  projets{\r\n    id \r\n    code \r\n    eligible \r\n    nbr_quartiers \r\n    surface_totale\r\n    surface_urbanisee_totale\r\n    nombre_logements_totale\r\n    nombre_habitants_totale\r\n    bureau_etude\r\n    cout_etude\r\n    tranche\r\n    quartiers{\r\n      id\r\n      code\r\n      nom_fr\r\n      nom_ar\r\n      surface\r\n    }\r\n    infrastructures{\r\n      id\r\n      code\r\n      type\r\n      quantite\r\n      cout\r\n    }\r\n  }\r\n}`\r\n\r\nconst TableProj = React.forwardRef((props, ref) => {\r\n\r\n  const [datatable, setDatatable] = React.useState({});\r\n  \r\n  const [projet, setProjet] = React.useState({});\r\n  const [show, setShow] = React.useState(false);\r\n  const dispatch = useStoreDispatch();\r\n\r\n  const { data: projets, error: messageError } = useSubscription(\r\n\t\tPROJETS\r\n\t)\r\n\r\n  const deleteProjet = async () => {\r\n\t\ttry {\r\n\t\t\tconst url =`http://priqh2server.herokuapp.com/api/v1/projets/${projet.id}`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'delete',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\r\n\t\t\tif (res.status === 203) {\r\n\t\t\t\ttoast.success('Success', {\r\n\t\t\t\t\tposition: 'top-right',\r\n\t\t\t\t\tautoClose: 3000,\r\n\t\t\t\t\tdraggable: false\r\n\t\t\t\t});\r\n        \r\n        window.location.replace('/Projets');\r\n\t\t\t}\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoast.error(err.response.data.message, {\r\n\t\t\t\t\tposition: 'top-right',\r\n\t\t\t\t\tautoClose: 5000,\r\n\t\t\t\t\tdraggable: true\r\n\t\t\t\t});\r\n\t\t\t\tsetShow(false);\r\n\t\t\t}\r\n\t}\r\n\r\n  const fetchProjets = async () => {\r\n  \r\n    try {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/projets/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  method: 'get',\r\n\t\t\t  url,\r\n\t\t\t});\r\n\r\n        console.log(\"fdgdfgdfg\",res);\r\n\r\n        let projets = [];\r\n        for(const projet of res.data.projets){\r\n          let nomProjet = '';\r\n          for(const q of projet.quartiers){\r\n            nomProjet = nomProjet + q.nom_fr + ' '\r\n          }\r\n          projets.push({\r\n              nom: nomProjet.trim(),\r\n              quartier:\r\n              <ul className=\"ml-n4\" key={projet.id} style={{\"listStyleType\":\"none\"}}>\r\n                {\r\n                  projet.quartiers.map((quartier, index) => (\r\n                    <div key={index}><p> {quartier.nom_fr} </p>{projet.quartiers.length - 1 > index ? <hr/> : ''}</div>\r\n                  ))\r\n                }\r\n              </ul>,\r\n              Nombre: projet.nbr_quartiers,\r\n              Surfaces: projet.surface_totale,\r\n              Surface: projet.surface_urbanisee_totale,\r\n              logement: projet.nombre_logements_totale,\r\n              habitant: projet.nombre_habitants_totale,\r\n              qd: projet.infrastructures.filter((infra)=> infra.type === \"drainage des eaux pluviales\")[0].quantite ,\r\n              cd: projet.infrastructures.filter((infra)=> infra.type === \"drainage des eaux pluviales\")[0].cout,\r\n              qv: projet.infrastructures.filter((infra)=> infra.type === \"voirie\")[0].quantite,\r\n              cv: projet.infrastructures.filter((infra)=> infra.type === \"voirie\")[0].cout,\r\n              qep: projet.infrastructures.filter((infra)=> infra.type === \"eau potable\")[0].quantite,\r\n              cep: projet.infrastructures.filter((infra)=> infra.type === \"eau potable\")[0].cout,\r\n              npl: projet.infrastructures.filter((infra)=> infra.type === \"eclairage public\")[0].quantite,\r\n              cpl: projet.infrastructures.filter((infra)=> infra.type === \"eclairage public\")[0].cout,\r\n              qa: projet.infrastructures.filter((infra)=> infra.type === \"assainissement\")[0].quantite,\r\n              ca: projet.infrastructures.filter((infra)=> infra.type === \"assainissement\")[0].cout,\r\n              be: projet.bureau_etude,\r\n              ce: projet.cout_etude,\r\n              modifier :<span onClick={() => dispatch({ type:'projetEdit', payload: projet })} data-toggle=\"modal\" data-target=\"#modif\"><FeatherIcon icon=\"edit-2\" /></span>,\r\n              supprimer : <span onClick={() => { setProjet(projet); setShow(true); }}><FeatherIcon icon=\"trash-2\" /></span>,\r\n          });\r\n        }\r\n\r\n        setDatatable({\r\n          columns: [\r\n            {\r\n              label: 'Nom',\r\n              field: 'nom',\r\n              width: 200,\r\n            },\r\n            {\r\n              label: 'Quartier',\r\n              field: 'quartier',\r\n            },\r\n            {\r\n              label: 'Nombre de quartier',\r\n              field: 'Nombre',\r\n              width: 200,\r\n            },\r\n            {\r\n              label: 'Surface Totale (Hectar)',\r\n              field: 'Surfaces',\r\n              width: 200,\r\n            },\r\n            {\r\n              label: 'Surface Urbanisée (Hectar)',\r\n              field: 'Surface',\r\n              width: 200,\r\n            },\r\n            {\r\n              label: 'Nombre de logements',\r\n              field: 'logement',\r\n              width: 200,\r\n            },\r\n            {\r\n              label: 'Nombre des habitants',\r\n              field: 'habitant',\r\n              width: 200,\r\n            },\r\n            {\r\n              label: 'quantite drainage',\r\n              field: 'qd',\r\n            },\r\n            {\r\n              label: 'coût drainage',\r\n              field: 'cd',\r\n            },\r\n            {\r\n              label: 'quantite voirie',\r\n              field: 'qv',\r\n            },\r\n            {\r\n              label: 'coût voirie',\r\n              field: 'cv',\r\n            },\r\n            {\r\n              label: 'quantite eau potable',\r\n              field: 'qep',\r\n            },\r\n            {\r\n              label: 'coût eau potable',\r\n              field: 'cep',\r\n            },\r\n            {\r\n              label: 'Nombre de poteaux lumineux',\r\n              field: 'npl',\r\n            },\r\n            {\r\n              label: 'coût éclairage public',\r\n              field: 'cpl',\r\n            },\r\n            {\r\n              label: 'quantite assainissement',\r\n              field: 'qa',\r\n            },\r\n            {\r\n              label: 'coût assainissement',\r\n              field: 'ca',\r\n            },\r\n            {\r\n              label: 'bureau d\\'étude',\r\n              field: 'be',\r\n            },\r\n            {\r\n              label: 'coût d\\'étude',\r\n              field: 'ce',\r\n            },\r\n            {\r\n              label: 'Modifier',\r\n              field: 'modifier',\r\n              sort : 'disabled',\r\n              width: 50,\r\n            },\r\n            {\r\n              label: 'Supprimer',\r\n              field: 'supprimer',\r\n              sort : 'disabled',\r\n              width: 50,\r\n            },\r\n          ],\r\n          rows: projets,\r\n        });\r\n\r\n      \r\n\r\n      props.setLoading(false);\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n  }\r\n\r\n\r\n  React.useEffect(() => {\r\n    console.log(projets);\r\n    if(projets){\r\n    let projetsDATA = [];\r\n    for(const projet of projets.projets){\r\n      let nomProjet = '';\r\n      for(const q of projet.quartiers){\r\n        nomProjet = nomProjet + q.nom_fr + ' '\r\n      }\r\n      projetsDATA.push({\r\n          nom: nomProjet.trim(),\r\n          quartier:\r\n          <ul className=\"ml-n4\" key={projet.id} style={{\"listStyleType\":\"none\"}}>\r\n            {\r\n              projet.quartiers.map((quartier, index) => (\r\n                <div key={index}><p> {quartier.nom_fr} </p>{projet.quartiers.length - 1 > index ? <hr/> : ''}</div>\r\n              ))\r\n            }\r\n          </ul>,\r\n          Nombre: projet.nbr_quartiers,\r\n          Surfaces: projet.surface_totale,\r\n          Surface: projet.surface_urbanisee_totale,\r\n          logement: projet.nombre_logements_totale,\r\n          habitant: projet.nombre_habitants_totale,\r\n          qd: projet.infrastructures.filter((infra)=> infra.type === \"drainage des eaux pluviales\")[0].quantite,\r\n          cd: projet.infrastructures.filter((infra)=> infra.type === \"drainage des eaux pluviales\")[0].cout,\r\n          qv: projet.infrastructures.filter((infra)=> infra.type === \"voirie\")[0].quantite,\r\n          cv: projet.infrastructures.filter((infra)=> infra.type === \"voirie\")[0].cout,\r\n          qep: projet.infrastructures.filter((infra)=> infra.type === \"eau potable\")[0].quantite,\r\n          cep: projet.infrastructures.filter((infra)=> infra.type === \"eau potable\")[0].cout,\r\n          npl: projet.infrastructures.filter((infra)=> infra.type === \"eclairage public\")[0].quantite,\r\n          cpl: projet.infrastructures.filter((infra)=> infra.type === \"eclairage public\")[0].cout,\r\n          qa: projet.infrastructures.filter((infra)=> infra.type === \"assainissement\")[0].quantite,\r\n          ca: projet.infrastructures.filter((infra)=> infra.type === \"assainissement\")[0].cout,\r\n          be: projet.bureau_etude,\r\n          ce: projet.cout_etude,\r\n          modifier :<span onClick={() => dispatch({ type:'projetEdit', payload: projet })} data-toggle=\"modal\" data-target=\"#modif\"><FeatherIcon icon=\"edit-2\" /></span>,\r\n          supprimer : <span onClick={() => { setProjet(projet); setShow(true); }}><FeatherIcon icon=\"trash-2\" /></span>,\r\n      });\r\n\r\n    }\r\n\r\n    setDatatable({\r\n      columns: [\r\n        {\r\n          label: 'Nom',\r\n          field: 'nom',\r\n          width: 200,\r\n        },\r\n        {\r\n          label: 'Quartier',\r\n          field: 'quartier',\r\n        },\r\n        {\r\n          label: 'Nombre de quartier',\r\n          field: 'Nombre',\r\n          width: 200,\r\n        },\r\n        {\r\n          label: 'Surface Totale (Hectar)',\r\n          field: 'Surfaces',\r\n          width: 200,\r\n        },\r\n        {\r\n          label: 'Surface Urbanisée (Hectar)',\r\n          field: 'Surface',\r\n          width: 200,\r\n        },\r\n        {\r\n          label: 'Nombre de logements',\r\n          field: 'logement',\r\n          width: 200,\r\n        },\r\n        {\r\n          label: 'Nombre des habitants',\r\n          field: 'habitant',\r\n          width: 200,\r\n        },\r\n        {\r\n          label: 'quantite drainage',\r\n          field: 'qd',\r\n        },\r\n        {\r\n          label: 'coût drainage',\r\n          field: 'cd',\r\n        },\r\n        {\r\n          label: 'quantite voirie',\r\n          field: 'qv',\r\n        },\r\n        {\r\n          label: 'coût voirie',\r\n          field: 'cv',\r\n        },\r\n        {\r\n          label: 'quantite eau potable',\r\n          field: 'qep',\r\n        },\r\n        {\r\n          label: 'coût eau potable',\r\n          field: 'cep',\r\n        },\r\n        {\r\n          label: 'Nombre de poteaux lumineux',\r\n          field: 'npl',\r\n        },\r\n        {\r\n          label: 'coût éclairage public',\r\n          field: 'cpl',\r\n        },\r\n        {\r\n          label: 'quantite assainissement',\r\n          field: 'qa',\r\n        },\r\n        {\r\n          label: 'coût assainissement',\r\n          field: 'ca',\r\n        },\r\n        {\r\n          label: 'bureau d\\'étude',\r\n          field: 'be',\r\n        },\r\n        {\r\n          label: 'coût d\\'étude',\r\n          field: 'ce',\r\n        },\r\n        {\r\n          label: 'Modifier',\r\n          field: 'modifier',\r\n          sort : 'disabled',\r\n          width: 50,\r\n        },\r\n        {\r\n          label: 'Supprimer',\r\n          field: 'supprimer',\r\n          sort : 'disabled',\r\n          width: 50,\r\n        },\r\n      ],\r\n      rows: projetsDATA,\r\n    });}\r\n  },[projets]);\r\n\r\n  \r\n  React.useEffect(() => {\r\n    fetchProjets();\r\n  },[]);\r\n \r\n    return (\r\n      <div className=\"p-3\">\r\n        <ToastContainer />\r\n        {\r\n        !props.loading ?\r\n       \r\n        <MDBDataTableV5\r\n        ref={ref}\r\n        style={{\"marginLeft\":\"1%\"}}\r\n        responsive\r\n        hover\r\n        entriesOptions={[5, 20, 25]}\r\n        striped\r\n        pagesAmount={5}\r\n        data={datatable}\r\n        paging\r\n        searchBottom\r\n        barReverse /> \r\n        : ''\r\n        }\r\n\r\n        <Modal show={show} onHide={() => setShow(false)}>\r\n          <Modal.Header>\r\n          <Modal.Title>Confirmation</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>Are you sure you want delete {projet.nom}!</Modal.Body>\r\n          <Modal.Footer>\r\n          <Button variant=\"primary\" onClick={() => setShow(false)}>\r\n            Close\r\n          </Button>\r\n          <Button variant=\"danger\" onClick={() => { deleteProjet() }}>\r\n            Delete\r\n          </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </div>\r\n    )\r\n});\r\n\r\nexport default TableProj;","import React from \"react\";\r\nimport ReactToPrint from 'react-to-print-advanced';\r\nimport ComponentToPrint from './TableProj';\r\nimport DataTable1 from './DataTable1';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport { Row, Col, Button } from 'react-bootstrap';\r\nimport axios from 'axios';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { Spinner } from 'react-bootstrap'\r\n\r\nconst pageStyle = `\r\n  @page {\r\n    size: 80mm 50mm;\r\n  }\r\n\r\n  @media all {\r\n    .pagebreak {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  @media print {\r\n    .pagebreak {\r\n      page-break-before: always;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default function PrintProjet(props) {\r\n\r\n      const componentRef = React.useRef();\r\n      const [loading, setLoading] = React.useState(true);\r\n\r\n      const test_eligible = async() => {\r\n        try{\r\n          const url = `http://priqh2server.herokuapp.com/api/v1/criteres/test_eligible`;\r\n          const res = await axios({\r\n            headers: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n              method: 'get',\r\n              url,\r\n          });\r\n    \r\n          toast.success('Success', {\r\n            position: 'top-right',\r\n            autoClose: 5000,\r\n            draggable: false\r\n          });\r\n    \r\n          window.location.replace(\"/Eligible\");\r\n    \r\n        }catch(err){\r\n          console.log(err.response.data.message);\r\n          \r\n          toast.error(err.response.data.message, {\r\n            position: 'top-right',\r\n            autoClose: 5000,\r\n            draggable: true\r\n          });\r\n        }\r\n      }\r\n\r\n      return (\r\n        <div>\r\n          <ToastContainer />\r\n          <Row className=\"mt-2\">\r\n\t\t\t\t\t\t<Col>\r\n         \r\n            </Col>\r\n            <Col md=\"auto\">\r\n              <Button  className=\"btn btn-primary\" size=\"primary\" onClick={() => test_eligible()}>\r\n                <FeatherIcon icon=\"filter\"/>\r\n\t\t\t\t\t\t\t</Button>\r\n            </Col>\r\n            \r\n\t\t\t\t\t</Row>\r\n        \r\n          {\r\n            loading ?\r\n            <div className=\"d-flex justify-content-center\">\r\n            <Col md=\"auto\" >\r\n            <Spinner\r\n\t\t\t\t\t\t\tas=\"span\"\r\n\t\t\t\t\t\t\tanimation=\"border\"\r\n\t\t\t\t\t\t\tsize=\"lg\"\r\n              variant=\"primary\"\r\n\t\t\t\t\t\t\trole=\"status\"\r\n\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t/> </Col></div>: ''}\r\n            <ComponentToPrint loading={loading} setLoading={setLoading} setShow={props.setShow}/>\r\n          \r\n        </div>\r\n      );\r\n}\r\n\r\n  ","import React, { useRef } from 'react';\r\nimport Carte from '../critere/components/Carte';\r\nimport Form from './components/FormProjet'\r\nimport FormProjetUpdate from './components/FormProjetUpdate'\r\nimport axios from 'axios';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport 'react-smart-data-table/dist/react-smart-data-table.css'\r\nimport Print from './components/PrintProjet'\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport { Container, Row, Col, Modal, Card, Button } from 'react-bootstrap';\r\nimport LoadingBar from 'react-top-loading-bar';\r\n\r\nexport default function Projets() {\r\n\r\n\tconst [projets, setProjets] = React.useState([]);\r\n\tconst [show, setShow] = React.useState(false);\r\n\tconst [projet, setProjet] = React.useState({});\r\n\tconst [progress, setProgress] = React.useState(0);\r\n\t\r\n\tconst fetchProjets = async () => {\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/projets/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tsetProjets(res.data.projets);\r\n\t\t\t}\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t}\r\n\r\n\tconst deleteProjet = async () => {\r\n\t\ttry {\r\n\t\t\tconst url =`http://priqh2server.herokuapp.com/api/v1/projets/${projet.id}`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'delete',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\r\n\t\t\tif (res.status === 203) {\r\n\t\t\t\ttoast.success('Success', {\r\n\t\t\t\t\tposition: 'top-right',\r\n\t\t\t\t\tautoClose: 5000,\r\n\t\t\t\t\tdraggable: false\r\n\t\t\t\t});\r\n\t\t\t\twindow.location.replace('/Projets');\r\n\t\t\t}\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoast.error(err.response.data.message, {\r\n\t\t\t\t\tposition: 'top-right',\r\n\t\t\t\t\tautoClose: 5000,\r\n\t\t\t\t\tdraggable: true\r\n\t\t\t\t});\r\n\t\t\t\tsetShow(false);\r\n\t\t\t}\r\n\t}\r\n\r\n\tReact.useEffect(() => {\r\n\t\tsetProgress(100);\r\n\t\tfetchProjets();\r\n\t\treturn () => setProgress(0);\r\n\t},[]);\r\n\r\n\tconst refreshPage = (e) => {\r\n        window.location.replace(\"/eligible\");\r\n    }\r\n\r\n    return (\r\n        <main className=\"content\">\r\n\t\t\t<LoadingBar color='#1a2e8a' height='4px' progress={progress}  />\r\n\t\t\t\t<div className=\"container-fluid p-0\">\r\n\r\n\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<h1 className=\"h3 mb-3\">Gestion des projets</h1>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-primary float-right\" data-toggle=\"modal\" data-target=\"#ajout\" size=\"primary\"><FeatherIcon icon=\"plus\" /></button>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<Print show={show} setShow={setShow} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"modal fade\" id=\"ajout\" tabIndex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"modal-dialog\" role=\"document\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-12 col-xl-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"modal-title\">Ajouter projet</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form   />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"modal fade\" id=\"modif\" tabIndex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"modal-dialog\" role=\"document\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-12 col-xl-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"modal-title\">Modifier projet</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormProjetUpdate   />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t<Modal show={show} onHide={() => setShow(false)}>\r\n\t\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>Confirmation</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>Are you sure you want delete {projet.nom}!</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant=\"secondary\" onClick={() => setShow(false)}>\r\n\t\t\t\t\t\tClose\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button variant=\"primary\" onClick={() => { deleteProjet() }}>\r\n\t\t\t\t\t\tSave Changes\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t</main>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport './Estyle.css'\r\nimport ReactDOM from \"react-dom\";\r\n\r\nexport default function E404() {\r\n   \r\n    return (\r\n        <main className=\"d-flex w-100 h-100\">\r\n            \r\n        <div className=\"container d-flex flex-column\">\r\n            <div className=\"row vh-100\">\r\n                <div className=\"col-sm-10 col-md-8 col-lg-6 mx-auto d-table h-100\">\r\n                    <div className=\"d-table-cell align-middle\">\r\n\r\n                        <div className=\"text-center\">\r\n                            <h1 className=\"display-1 font-weight-bold\">404</h1>\r\n                            <p className=\"h1\">Page n'est pas trouvée.</p>\r\n                            <p className=\"h2 font-weight-normal mt-3 mb-4\">La page que vous recherchez a peut-être été supprimée.</p>\r\n                          \r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </main>\r\n\r\n    )\r\n}\r\n","import React from 'react'\r\nimport FeatherIcon from 'feather-icons-react'\r\nimport axios from 'axios';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { Modal, Button, InputGroup,FormControl, Col, Row} from 'react-bootstrap';\r\n\r\nexport default function Critere({title,critere,id}){\r\n\r\n\tconst [show, setShow] = React.useState(false);\r\n\tconst [critereEdit, setCritereEdit] = React.useState();\r\n\r\n\tconst update = async() => {\r\n\t\tlet data;\r\n\t\tif(title === \"Nombre de quartiers\"){ data = { nbr_quartier: critereEdit } }\r\n\t\tif(title === \"Nombre de logements\"){ data = { nombre_logements_totale: critereEdit } }\r\n\t\tif(title === \"Nombre d'habitant\"){ data = { nombre_habitants_totale: critereEdit } }\r\n\t\tif(title === \"Surface totale (hectares)\"){ data = { surface_totale: critereEdit } }\r\n\t\tif(title === \"Surface urbanisée totale (hectares)\"){ data = { surface_urbanisee_totale: critereEdit } }\r\n\r\n\t\ttry{\r\n\t\t\tconst url = `http://priqh2server.herokuapp.com/api/v1/criteres/${id}`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'put',\r\n\t\t\t  \turl,\r\n\t\t\t\tdata\r\n\t\t\t});\r\n\r\n\t\t\tconsole.log(res,data);\r\n\r\n\t\t\ttoast.success('Success', {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tdraggable: false\r\n\t\t\t});\r\n\r\n\t\t\twindow.location.replace(\"/Critéres d'éligibilité\");\r\n\r\n\t\t}catch(err){\r\n\t\t\tconsole.log(err.response.data.message);\r\n\t\t\t\r\n\t\t\ttoast.error(err.response.data.message, {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tdraggable: true\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n    return (\r\n\t\t<>\r\n        <div className=\"col-12 col-md-6 col-lg-3\">\r\n\t\t\t<ToastContainer />\r\n            <div className=\"card-body\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col mt-0\">\r\n\t\t\t\t\t\t<h5 className=\"card-title\">{title}</h5>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"col-auto\">\r\n\t\t\t\t\t\t<div className=\"avatar\">\r\n\t\t\t\t\t\t\t<span style={{\"cursor\": \"pointer\"}} className=\"avatar-title\" onClick={() => setShow(true)}>\r\n\t\t\t\t\t\t\t\t<div className=\"avatar-title rounded-circle bg-primary-light\">\r\n\t\t\t\t\t\t\t\t\t<FeatherIcon icon=\"edit\" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</span>                           \r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t<h1 className=\"mt-1 mb-3\">{critere}</h1>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<Modal show={show}>\r\n        <Modal.Header>\r\n          <Modal.Title>Modifier le critére {title}</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n\t\t  \t<InputGroup>\r\n\t\t\t\t<InputGroup.Prepend>\r\n\t\t\t\t\t<InputGroup.Text style={{backgroundColor: \"#e9ecef\", borderColor: \"#ced4da\"}}>minimum</InputGroup.Text>\r\n\t\t\t\t</InputGroup.Prepend>\r\n\t\t\t\t<FormControl id=\"inlineFormInputGroupUsername\"  defaultValue={critere} onChange={ (e) => setCritereEdit(e.target.value * 1) }/>\r\n      \t\t</InputGroup>\r\n\t\t  </Modal.Body>\r\n          <Modal.Footer>\r\n          <Button variant=\"danger\" onClick={() => setShow(false)}>\r\n            Close\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={() => { update() }}>\r\n            Save\r\n          </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n\t\t</>\t\t\t\t\t\r\n    )\r\n}","import React from 'react'\r\nimport Carte from './components/Carte'\r\nimport Critere from './components/Critere'\r\nimport axios from 'axios'\r\nimport \"./styleCarte.css\"\r\nimport { useStoreState } from './../../context/store';\r\nimport LoadingBar from 'react-top-loading-bar';\r\nimport { gql, useSubscription } from '@apollo/client'\r\n\r\nconst CRITERES = gql`\r\nsubscription criteres {\r\n    criteres{\r\n        id\r\n        surface_totale\r\n        surface_urbanisee_totale\r\n        nombre_logements_totale\r\n        nombre_habitants_totale\r\n        gouvernorat{code}\r\n  }\r\n}`\r\n\r\nexport default function Criteres() {\r\n    const {gouvernorat} = useStoreState();\r\n\r\n    const [fiche, setFiche] = React.useState({});\r\n    const [progress, setProgress] = React.useState(0);\r\n\r\n    const { data: criteres, error: messageError } = useSubscription(\r\n\t\tCRITERES\r\n\t)\r\n\r\n    console.log(criteres);\r\n    \r\n    const fetchCriteres = async (gouvernorat) => {\r\n\t\ttry {\r\n\t\t\tconst url =`http://priqh2server.herokuapp.com/api/v1/criteres/${gouvernorat.slice(0,3).toUpperCase()}`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\r\n            console.log(res);\r\n\t\t\tsetFiche(res.data.critere.fiche_criteres);\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err.response.data.message);\r\n                return {};\r\n\t\t\t}\r\n\t}\r\n\r\n    React.useEffect(() => {\r\n        if(criteres){\r\n            criteres.criteres.map((critere) => {\r\n                if(critere.gouvernorat.code === gouvernorat.slice(0,3).toUpperCase()){\r\n                    setFiche(critere);\r\n                }\r\n            });\r\n        }\r\n    },[criteres]);\r\n\r\n    React.useEffect(() => {\r\n        setProgress(100);\r\n        fetchCriteres(gouvernorat);\r\n        return () => setProgress(0);\r\n    },[gouvernorat]);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n            <LoadingBar color='#1a2e8a' height='4px' progress={progress}  />\r\n\t\t\t<div className=\"container-fluid p-0\">\r\n\r\n\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t<h1 className=\"h3 d-inline align-middle\">Critéres d'éligibilité {gouvernorat}</h1>\r\n\t\t\t\t</div>\r\n\r\n            <div className=\"row\">\r\n\r\n                    <div className=\"col-3\">\r\n                        <Carte />\r\n                    </div>\r\n\r\n                <div className=\"col-9\">\r\n                    <div className=\"row\">\r\n                       <Critere title=\"Nombre de logements\" id={fiche.id} critere={fiche.nombre_logements_totale}/>\r\n                       <Critere title=\"Nombre d'habitant\" id={fiche.id} critere={fiche.nombre_habitants_totale}/>\r\n                       <Critere title=\"Surface totale (hectares)\" id={fiche.id} critere={fiche.surface_totale}/>\r\n                       <Critere title=\"Surface urbanisée totale (hectares)\" id={fiche.id} critere={fiche.surface_urbanisee_totale}/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n            </div>  </div>\r\n\t\t</main>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Select from 'react-select';\r\nimport makeAnimated from 'react-select/animated';\r\nimport axios from 'axios';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport default function FormCommune() {\r\n\r\n    const animatedComponents = makeAnimated();\r\n\tconst [commune, setCommune] = React.useState({});\r\n\tconst [gouvernorats, setGouvernorats] = React.useState([]);\r\n\r\n\t\r\n\r\n    const fetchGouvernorats = async () => {\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/gouvernorats/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\r\n\t\t\t\t\r\n\t\t\t\tlet gouvernorat_options = [];\r\n\t\t\t\tfor(const gouvernorat of res.data.gouvernorats){\r\n\t\t\t\t\tlet obj = { value: [gouvernorat.id,gouvernorat.code], label: gouvernorat.nom_fr+\" \"+gouvernorat.nom_ar }\r\n\t\t\t\t\tgouvernorat_options.push(obj);\r\n\t\t\t\t}\r\n\t\t\t\tsetGouvernorats(gouvernorat_options);\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err.response.data.message);\r\n\t\t\t}\r\n\t}\r\n\r\n    const addCommune = async () => {\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/communes/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'post',\r\n\t\t\t  \turl,\r\n                data: commune\r\n\t\t\t});\r\n\r\n\t\t\ttoast.success('Success', {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tdraggable: false\r\n\t\t\t});\r\n\r\n\t\t\twindow.location.replace('/Communes');\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err.response.data.message);\r\n\t\t\t}\r\n\t}\r\n\r\n\tReact.useEffect(() => {\r\n\t\tfetchGouvernorats();\r\n\t});\r\n\r\n    return (\r\n        <div>\r\n\t\t\t<ToastContainer/>\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Gouvernorat</label>\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<div className=\"boxes\" >\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tdefaultValue=\"options\"\r\n\t\t\t\t\t\t\tcomponents={animatedComponents}\r\n\t\t\t\t\t\t\toptions={gouvernorats}\r\n\t\t\t\t\t\t\tonChange={(e) => setCommune({...commune, gouvernorat_id: e.value[0], gouvernorat_code: e.value[1]})}\r\n\t\t\t\t\t\t/>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Nom en francais</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"text\" className=\"form-control\" placeholder=\"Nom en francais\"\r\n\t\t\t\t\tonChange={(e) => setCommune({...commune, nom_fr: e.target.value})}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Nom en arabe</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"text\" className=\"form-control\" placeholder=\"Nom en arabe\"\r\n\t\t\t\t\tonChange={(e) => setCommune({...commune, nom_ar: e.target.value})}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\r\n\t\t\t\r\n\t\t\t<div className=\"mb-3 row\">\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<span  className=\"btn btn-primary\" onClick={() => addCommune()}>Submit</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t\r\n\t\t</div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useStoreState } from '../../../context/store';\r\n\r\nexport default function FormCommuneUpdate() {\r\n\r\n    const [communeEdit, setCommuneEdit] = React.useState({});\r\n\r\n    const {commune} = useStoreState();\r\n\r\n\r\n    const updateCommune = async() => {\r\n\t\ttry{\r\n\t\t\tconst url = `http://priqh2server.herokuapp.com/api/v1/communes/${commune.id}`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'put',\r\n\t\t\t  \turl,\r\n\t\t\t\tdata: communeEdit\r\n\t\t\t});\r\n\r\n\t\t\ttoast.success('Success', {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tdraggable: false\r\n\t\t\t});\r\n\r\n\t\t\twindow.location.replace('/communes');\r\n\r\n\t\t}catch(err){\r\n\t\t\tconsole.log(err.response.data.message);\r\n\t\t\t\r\n\t\t\ttoast.error(err.response.data.message, {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tdraggable: true\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n    return (\r\n        <div>\r\n\t\t\t<ToastContainer/>\r\n\t\t\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Nom en francais</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"text\" className=\"form-control\" placeholder=\"Nom en francais\" defaultValue={commune ? commune.nom_fr: ''}\r\n\t\t\t\t\tonChange={(e) => setCommuneEdit({...commune, nom_fr: e.target.value})}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Nom en arabe</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"text\" className=\"form-control\" placeholder=\"Nom en arabe\" defaultValue={commune ? commune.nom_ar : ''}\r\n\t\t\t\t\tonChange={(e) => setCommuneEdit({...commune, nom_ar: e.target.value})}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"mb-3 row\">\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<span  className=\"btn btn-primary\" onClick={() => updateCommune()}>Submit</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t\r\n\t\t</div>\r\n    );\r\n}\r\n\r\n","import React from 'react'\r\nimport { MDBDataTableV5 } from 'mdbreact'\r\nimport 'mdbreact/dist/css/mdb.css'\r\nimport '@fortawesome/fontawesome-free/css/all.css'\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport axios from 'axios';\r\nimport { useStoreDispatch } from '../../../context/store';\r\nimport { Container, Row, Col, Modal, Card, Button } from 'react-bootstrap';\r\nimport { Spinner } from 'react-bootstrap'\r\nimport { gql, useSubscription } from '@apollo/client'\r\n\r\nconst COMMUNES = gql`\r\nsubscription communes {\r\n  communes {\r\n    id\r\n    nom_fr\r\n    nom_ar\r\n    code\r\n    gouvernorat{id nom_fr nom_ar}\r\n  }\r\n}`\r\n\r\nconst TableCommune = React.forwardRef((props, ref) => {\r\n\r\n  const [datatable, setDatatable] = React.useState({});\r\n  const [show, setShow] = React.useState(false);\r\n  const dispatch = useStoreDispatch();\r\n  const [commune, setCommune] = React.useState({});\r\n  const [loading, setLoading] = React.useState(true);\r\n\r\n  const { data: communesINFO, error: messageError } = useSubscription(\r\n\t\tCOMMUNES\r\n\t)\r\n\r\n  const deleteCommune = async () => {\r\n\t\ttry {\r\n\t\t\tconst url =`http://priqh2server.herokuapp.com/api/v1/communes/${commune.id}`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'delete',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\r\n\t\t\tif (res.status === 203) {\r\n\t\t\t\ttoast.success('Success', {\r\n\t\t\t\t\tposition: 'top-right',\r\n\t\t\t\t\tautoClose: 5000,\r\n\t\t\t\t\tdraggable: false\r\n\t\t\t\t});\r\n\t\t\t\twindow.location.replace('/communes');\r\n\t\t\t}\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoast.error(err.response.data.message, {\r\n\t\t\t\t\tposition: 'top-right',\r\n\t\t\t\t\tautoClose: 5000,\r\n\t\t\t\t\tdraggable: true\r\n\t\t\t\t});\r\n\t\t\t\tsetShow(false);\r\n\t\t\t}\r\n\t}\r\n\r\n  const fetchCommunes = async () => {\r\n  \r\n    try {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/communes/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\r\n\t\t\tif (res.status === 200) {\r\n\t\t\t\tconsole.log(res.data.communes);\r\n\r\n        let communes = [];\r\n        for(const commune of res.data.communes){\r\n          communes.push({\r\n              code: commune.code,\r\n              gouvernorat: commune.gouvernorat.nom_fr,\r\n              nom_fr: commune.nom_fr,\r\n              nom_ar: commune.nom_ar,\r\n              modifier :<span onClick={() => dispatch({ type:'communeEdit', payload: commune })} data-toggle=\"modal\" data-target=\"#modif\"><FeatherIcon icon=\"edit-2\" /></span>,\r\n              supprimer : <span onClick={() => { setCommune(commune); setShow(true); }}><FeatherIcon icon=\"trash-2\" /></span>,\r\n          });\r\n        }\r\n\r\n        setDatatable({\r\n          columns: [\r\n            {\r\n              label: 'Code',\r\n              field: 'code',\r\n              attributes: {\r\n                'aria-controls': 'DataTable',\r\n                'aria-label': 'code',\r\n              },\r\n            },\r\n            {\r\n              label: 'Gouvernorat',\r\n              field: 'gouvernorat',\r\n            },\r\n            {\r\n              label: 'Nom en francais',\r\n              field: 'nom_fr',\r\n            },\r\n            {\r\n              label: 'Nom en arabe',\r\n              field: 'nom_ar',\r\n            },\r\n            {\r\n                label: 'Modifier',\r\n                field: 'modifier',\r\n                sort : 'disabled',\r\n                width: 100,\r\n            },\r\n            {\r\n                label: 'Supprimer',\r\n                field: 'supprimer',\r\n                sort : 'disabled',\r\n                width: 100,\r\n            },\r\n          ],\r\n          rows: communes,\r\n        });\r\n\r\n      }\r\n      setLoading(false);\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err.response.data.message);\r\n\t\t\t}\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if(communesINFO) {\r\n      let communes = [];\r\n        for(const commune of communesINFO.communes){\r\n          communes.push({\r\n              code: commune.code,\r\n              gouvernorat: commune.gouvernorat.nom_fr,\r\n              nom_fr: commune.nom_fr,\r\n              nom_ar: commune.nom_ar,\r\n              modifier :<span onClick={() => dispatch({ type:'communeEdit', payload: commune })} data-toggle=\"modal\" data-target=\"#modif\"><FeatherIcon icon=\"edit-2\" /></span>,\r\n              supprimer : <span onClick={() => { setCommune(commune); setShow(true); }}><FeatherIcon icon=\"trash-2\" /></span>,\r\n          });\r\n        }\r\n\r\n        setDatatable({\r\n          columns: [\r\n            {\r\n              label: 'Code',\r\n              field: 'code',\r\n              attributes: {\r\n                'aria-controls': 'DataTable',\r\n                'aria-label': 'code',\r\n              },\r\n            },\r\n            {\r\n              label: 'Gouvernorat',\r\n              field: 'gouvernorat',\r\n            },\r\n            {\r\n              label: 'Nom en francais',\r\n              field: 'nom_fr',\r\n            },\r\n            {\r\n              label: 'Nom en arabe',\r\n              field: 'nom_ar',\r\n            },\r\n            {\r\n                label: 'Modifier',\r\n                field: 'modifier',\r\n                sort : 'disabled',\r\n                width: 100,\r\n            },\r\n            {\r\n                label: 'Supprimer',\r\n                field: 'supprimer',\r\n                sort : 'disabled',\r\n                width: 100,\r\n            },\r\n          ],\r\n          rows: communes,\r\n        });\r\n    }\r\n  },[communesINFO]);\r\n\r\n  React.useEffect(() => {\r\n    fetchCommunes();\r\n  },[]);\r\n\r\n\r\n    return (\r\n      <>\r\n      <ToastContainer />\r\n        <div className=\"p-3\">\r\n            \r\n        {\r\n            loading ?\r\n            <div className=\"d-flex justify-content-center\">\r\n            <Col md=\"auto\" >\r\n            <Spinner\r\n\t\t\t\t\t\t\tas=\"span\"\r\n\t\t\t\t\t\t\tanimation=\"border\"\r\n\t\t\t\t\t\t\tsize=\"lg\"\r\n              variant=\"primary\"\r\n\t\t\t\t\t\t\trole=\"status\"\r\n\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t/> </Col></div>: \r\n            <MDBDataTableV5\r\n            ref={ref}\r\n            style={{\"marginLeft\":\"1%\"}}\r\n            responsive\r\n            hover\r\n            entriesOptions={[5, 20, 25]}\r\n            striped\r\n            pagesAmount={5}\r\n            data={datatable}\r\n            paging\r\n            searchBottom\r\n            barReverse />\r\n        }\r\n        </div>\r\n        <Modal show={show} onHide={() => setShow(false)}>\r\n          <Modal.Header>\r\n          <Modal.Title>Confirmation</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>Are you sure you want delete {commune.nom_fr}!</Modal.Body>\r\n          <Modal.Footer>\r\n          <Button variant=\"danger\" onClick={() => setShow(false)}>\r\n            Close\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={() => { deleteCommune() }}>\r\n            Save Changes\r\n          </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </>\r\n    )\r\n});\r\n\r\nexport default TableCommune;","import React from \"react\";\r\nimport ReactToPrint from 'react-to-print-advanced';\r\nimport ComponentToPrint from './TableCommune';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport { Row, Col, Button } from 'react-bootstrap';\r\n\r\nconst pageStyle = `\r\n  @page {\r\n    size: 80mm 50mm;\r\n  }\r\n\r\n  @media all {\r\n    .pagebreak {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  @media print {\r\n    .pagebreak {\r\n      page-break-before: always;\r\n    }\r\n  }\r\n`;\r\nfunction PrintCommune() {\r\n  const componentRef = React.useRef();\r\n      return (\r\n        <div>\r\n          <Row className=\"mt-2\">\r\n\t\t\t\t\t\t<Col>\r\n            </Col>\r\n\t\t\t\t\t\t<Col md=\"auto\">\r\n              <Button  className=\"btn btn-primary\" size=\"primary\" data-toggle=\"modal\" data-target=\"#defaultModalPrimary\">\r\n\t\t\t\t\t\t\t\t<i className=\"fas fa-plus\"></i> \r\n\t\t\t\t\t\t\t</Button>\r\n            </Col>\r\n\t\t\t\t\t\t<Col xs lg=\"1\">\r\n            <ReactToPrint\r\n              trigger={() => <button className=\"btn btn-primary mr-5\" size=\"primary\"><FeatherIcon icon=\"printer\" /></button>}\r\n              content={() => componentRef.current}\r\n              style={pageStyle}\r\n            />\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n          \r\n          <ComponentToPrint  ref={componentRef}/>\r\n        </div>\r\n      );\r\n  }\r\n  \r\n  export default PrintCommune;\r\n  ","import React from 'react'\r\nimport FormCommune from './components/FormCommune'\r\nimport FormCommuneUpdate from './components/FormCommuneUpdate'\r\nimport Print from './components/PrintCommune'\r\nimport LoadingBar from 'react-top-loading-bar';\r\n\r\nexport default function Communes() {\r\n\tconst [progress, setProgress] = React.useState(0);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tsetProgress(100);\r\n\t\treturn () => setProgress(0);\r\n\t},[]);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n\t\t\t<LoadingBar color='#1a2e8a' height='4px' progress={progress}  />\r\n\t\t\t\t<div className=\"container-fluid p-0\">\r\n\r\n\t\t\t\t\t<h1 className=\"h3 mb-3\">Gestion des Communes</h1>\r\n\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<Print />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"modal fade\" id=\"defaultModalPrimary\" tabIndex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"modal-dialog\" role=\"document\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-12 col-xl-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"modal-title\">Ajouter une Commune</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormCommune  />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"modal fade\" id=\"modif\" tabIndex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"modal-dialog\" role=\"document\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-12 col-xl-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"modal-title\">Modifier la Commune</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormCommuneUpdate />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t</main>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { MDBDataTableV5 } from 'mdbreact';\r\nimport 'mdbreact/dist/css/mdb.css';\r\nimport '@fortawesome/fontawesome-free/css/all.css';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport axios from 'axios';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useStoreDispatch } from '../../context/store';\r\nimport { Container, Row, Col, Modal, Card, Button } from 'react-bootstrap';\r\nimport { Spinner } from 'react-bootstrap'\r\n\r\nconst TableProjEligible = React.forwardRef((props, ref) => {\r\n\r\n  const [datatable, setDatatable] = React.useState({});\r\n  const [loading, setLoading] = React.useState(true);\r\n  \r\n  const [projet, setProjet] = React.useState({});\r\n  const [show, setShow] = React.useState(false);\r\n\r\n  const ineligible = async () => {\r\n    try{\r\n    const url =`http://priqh2server.herokuapp.com/api/v1/projets/${projet.id}`;\r\n\t\tconst res = await axios({\r\n\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\tmethod: 'put',\r\n\t\t\turl,\r\n      data: { eligible: {eligible: false } }\r\n\t\t});\r\n\r\n    toast.success('Success', {\r\n        position: 'top-right',\r\n        autoClose: 5000,\r\n        draggable: false\r\n    });\r\n\r\n    window.location.replace('/Eligible');\r\n\r\n    }catch(err){\r\n        console.log(err);\r\n        toast.error(err.response.data.message, {\r\n            position: 'top-right',\r\n            autoClose: 5000,\r\n            draggable: true\r\n        });\r\n    }\r\n  }\r\n  \r\n\r\n    const fetchProjets = async () => {\r\n      try {\r\n\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/projets/';\r\n\t\tconst res = await axios({\r\n\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\tmethod: 'get',\r\n\t\t\turl\r\n\t\t});\r\n\t\t\r\n        let projets = [];\r\n        for(const projet of res.data.projets){\r\n        \r\n        if(projet.eligible === true){\r\n          let nomProjet = '';\r\n          for(const q of projet.quartiers){\r\n            nomProjet = nomProjet + q.nom_fr + ' '\r\n          }\r\n          projets.push({\r\n            nom: nomProjet.trim(),\r\n            quartier:\r\n            <ul className=\"ml-n4\" key={projet.id} style={{\"listStyleType\":\"none\"}}>\r\n              {\r\n                projet.quartiers.map((quartier, index) => (\r\n                  <div key={index}><p> {quartier.nom_fr} </p>{projet.quartiers.length - 1 > index ? <hr/> : ''}</div>\r\n                ))\r\n              }\r\n            </ul>,\r\n            Nombre: projet.nbr_quartiers,\r\n            Surfaces: projet.surface_totale,\r\n            Surface: projet.surface_urbanisee_totale,\r\n            logement: projet.nombre_logements_totale,\r\n            habitant: projet.nombre_habitants_totale,\r\n            qd: projet.infrastructures.filter((infra)=> infra.type === \"drainage des eaux pluviales\")[0].quantite,\r\n            cd: projet.infrastructures.filter((infra)=> infra.type === \"drainage des eaux pluviales\")[0].cout,\r\n            qv: projet.infrastructures.filter((infra)=> infra.type === \"voirie\")[0].quantite,\r\n            cv: projet.infrastructures.filter((infra)=> infra.type === \"voirie\")[0].cout,\r\n            qep: projet.infrastructures.filter((infra)=> infra.type === \"eau potable\")[0].quantite,\r\n            cep: projet.infrastructures.filter((infra)=> infra.type === \"eau potable\")[0].cout,\r\n            npl: projet.infrastructures.filter((infra)=> infra.type === \"eclairage public\")[0].quantite,\r\n            cpl: projet.infrastructures.filter((infra)=> infra.type === \"eclairage public\")[0].cout,\r\n            qa: projet.infrastructures.filter((infra)=> infra.type === \"assainissement\")[0].quantite,\r\n            ca: projet.infrastructures.filter((infra)=> infra.type === \"assainissement\")[0].cout,\r\n            be: projet.bureau_etude,\r\n            ce: projet.cout_etude,\r\n              action : <span onClick={() => { setProjet(projet); setShow(true); }}><FeatherIcon icon=\"tool\" /></span>,\r\n          });\r\n        }\r\n            console.log();\r\n        }\r\n\r\n        setDatatable({\r\n          columns: [\r\n            {\r\n              label: 'Nom',\r\n              field: 'nom',\r\n              width: 200,\r\n            },\r\n            {\r\n              label: 'Quartier',\r\n              field: 'quartier',\r\n            },\r\n            {\r\n              label: 'Nombre de quartier',\r\n              field: 'Nombre',\r\n              width: 200,\r\n            },\r\n            {\r\n              label: 'Surface Totale (Hectar)',\r\n              field: 'Surfaces',\r\n              width: 200,\r\n            },\r\n            {\r\n              label: 'Surface Urbanisée (Hectar)',\r\n              field: 'Surface',\r\n              width: 200,\r\n            },\r\n            {\r\n              label: 'Nombre de logements',\r\n              field: 'logement',\r\n              width: 200,\r\n            },\r\n            {\r\n              label: 'Nombre des habitants',\r\n              field: 'habitant',\r\n              width: 200,\r\n            },\r\n            {\r\n              label: 'quantite drainage',\r\n              field: 'qd',\r\n            },\r\n            {\r\n              label: 'coût drainage',\r\n              field: 'cd',\r\n            },\r\n            {\r\n              label: 'quantite voirie',\r\n              field: 'qv',\r\n            },\r\n            {\r\n              label: 'coût voirie',\r\n              field: 'cv',\r\n            },\r\n            {\r\n              label: 'quantite eau potable',\r\n              field: 'qep',\r\n            },\r\n            {\r\n              label: 'coût eau potable',\r\n              field: 'cep',\r\n            },\r\n            {\r\n              label: 'Nombre de poteaux lumineux',\r\n              field: 'npl',\r\n            },\r\n            {\r\n              label: 'coût éclairage public',\r\n              field: 'cpl',\r\n            },\r\n            {\r\n              label: 'quantite assainissement',\r\n              field: 'qa',\r\n            },\r\n            {\r\n              label: 'coût assainissement',\r\n              field: 'ca',\r\n            },\r\n            {\r\n              label: 'bureau d\\'étude',\r\n              field: 'be',\r\n            },\r\n            {\r\n              label: 'coût d\\'étude',\r\n              field: 'ce',\r\n            },\r\n            {\r\n              label: 'Actoin',\r\n              field: 'action',\r\n              sort : 'disabled',\r\n              width: 50\r\n            }\r\n          ],\r\n          rows: projets,\r\n        });\r\n        setLoading(false);\r\n        console.log(datatable);\r\n\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n}\r\n\r\n  \r\n  React.useEffect(() => {\r\n    fetchProjets();\r\n  },[]);\r\n \r\n    return (\r\n      <div className=\"p-3\">\r\n        <ToastContainer />\r\n        {\r\n            loading ?\r\n            <div className=\"d-flex justify-content-center\">\r\n            <Col md=\"auto\" >\r\n            <Spinner\r\n\t\t\t\t\t\t\tas=\"span\"\r\n\t\t\t\t\t\t\tanimation=\"border\"\r\n\t\t\t\t\t\t\tsize=\"lg\"\r\n              variant=\"primary\"\r\n\t\t\t\t\t\t\trole=\"status\"\r\n\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t/> </Col></div>: \r\n            <MDBDataTableV5\r\n            ref={ref}\r\n            style={{\"marginLeft\":\"1%\"}}\r\n            responsive\r\n            hover\r\n            entriesOptions={[5, 20, 25]}\r\n            striped\r\n            pagesAmount={5}\r\n            data={datatable}\r\n            paging\r\n            searchBottom\r\n            barReverse />\r\n        }\r\n        \r\n\r\n        <Modal show={show} onHide={() => setShow(false)}>\r\n          <Modal.Header>\r\n          <Modal.Title>Confirmation</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>Are you sure you want move {projet.id} to ineligible list!</Modal.Body>\r\n          <Modal.Footer>\r\n          <Button variant=\"danger\" onClick={() => setShow(false)}>\r\n            Close\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={() => ineligible()}>\r\n            Save\r\n          </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </div>\r\n    )\r\n});\r\n\r\nexport default TableProjEligible;\r\n  ","import React from \"react\";\r\nimport ReactToPrint from 'react-to-print-advanced';\r\nimport ComponentToPrint from './TableProjEligible';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport { Row, Col } from 'react-bootstrap';\r\nimport axios from 'axios';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nconst pageStyle = `\r\n  @page {\r\n    size: 80mm 50mm;\r\n  }\r\n\r\n  @media all {\r\n    .pagebreak {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  @media print {\r\n    .pagebreak {\r\n      page-break-before: always;\r\n    }\r\n  }\r\n`;\r\n\r\nfunction PrintEligible () {\r\n\r\n  const componentRef = React.useRef();\r\n\r\n\r\n      return (\r\n        <div>\r\n            <Row className=\"mt-2\">\r\n            <Col>\r\n            </Col>\r\n\t\t\t<Col md=\"auto\">\r\n                \r\n            </Col>\r\n                <Col md=\"auto\">\r\n                  <ReactToPrint\r\n                    trigger={() => <button className=\"btn btn-primary mr-5\" size=\"primary\"><FeatherIcon icon=\"printer\" /></button>}\r\n                    content={() => componentRef.current}\r\n                    style={pageStyle}\r\n                  />\r\n                </Col>\r\n\t\t    </Row>\r\n          \r\n          <ComponentToPrint ref={componentRef}/>\r\n        </div>\r\n      );\r\n    \r\n  }\r\n  \r\nexport default PrintEligible;\r\n  ","import React from 'react';\r\nimport { MDBDataTableV5 } from 'mdbreact';\r\nimport 'mdbreact/dist/css/mdb.css';\r\nimport '@fortawesome/fontawesome-free/css/all.css';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport axios from 'axios';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useStoreDispatch } from '../../context/store';\r\nimport { Container, Row, Col, Modal, Card, Button } from 'react-bootstrap';\r\nimport { Spinner } from 'react-bootstrap'\r\n\r\nconst TableProjIneligible = React.forwardRef((props, ref) => {\r\n\r\n  const [datatable, setDatatable] = React.useState({});\r\n  const [loading, setLoading] = React.useState(true);\r\n\r\n  const [projet, setProjet] = React.useState({});\r\n  const [show, setShow] = React.useState(false);\r\n\r\n  const eligible = async () => {\r\n    try{\r\n    const url =`http://priqh2server.herokuapp.com/api/v1/projets/${projet.id}`;\r\n\t\tconst res = await axios({\r\n\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\tmethod: 'put',\r\n\t\t\turl,\r\n      data:  { eligible: {eligible: true } }\r\n\t\t});\r\n\r\n        console.log(res);\r\n\r\n        toast.success('Success', {\r\n            position: 'top-right',\r\n            autoClose: 5000,\r\n            draggable: false\r\n        });\r\n\r\n        window.location.replace('/Eligible');\r\n\r\n    }catch(err){\r\n        console.log(err);\r\n\r\n        toast.error(err.response.data.message, {\r\n            position: 'top-right',\r\n            autoClose: 5000,\r\n            draggable: true\r\n        });\r\n    }\r\n  }\r\n  \r\n\r\n  const fetchProjets = async () => {\r\n    try {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/projets/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  method: 'get',\r\n\t\t\t  url,\r\n\t\t\t});\r\n\r\n\t\t\r\n\t\t\t\tconsole.log(res.data.projets);\r\n\r\n        let projets = [];\r\n        for(const projet of res.data.projets){\r\n            \r\n        if(projet.eligible === false){\r\n          let nomProjet = '';\r\n          for(const q of projet.quartiers){\r\n            nomProjet = nomProjet + q.nom_fr + ' '\r\n          }  \r\n          projets.push({\r\n              nom: nomProjet.trim(),\r\n              quartier:\r\n              <ul className=\"ml-n4\" key={projet.id} style={{\"listStyleType\":\"none\"}}>\r\n                {\r\n                  projet.quartiers.map((quartier, index) => (\r\n                    <div key={index}><p> {quartier.nom_fr} </p>{projet.quartiers.length - 1 > index ? <hr/> : ''}</div>\r\n                  ))\r\n                }\r\n              </ul>,\r\n              Nombre: projet.nbr_quartiers,\r\n              Surfaces: projet.surface_totale,\r\n              Surface: projet.surface_urbanisee_totale,\r\n              logement: projet.nombre_logements_totale,\r\n              habitant: projet.nombre_habitants_totale,\r\n              qd: projet.infrastructures.filter((infra)=> infra.type === \"drainage des eaux pluviales\")[0].quantite,\r\n              cd: projet.infrastructures.filter((infra)=> infra.type === \"drainage des eaux pluviales\")[0].cout,\r\n              qv: projet.infrastructures.filter((infra)=> infra.type === \"voirie\")[0].quantite,\r\n              cv: projet.infrastructures.filter((infra)=> infra.type === \"voirie\")[0].cout,\r\n              qep: projet.infrastructures.filter((infra)=> infra.type === \"eau potable\")[0].quantite,\r\n              cep: projet.infrastructures.filter((infra)=> infra.type === \"eau potable\")[0].cout,\r\n              npl: projet.infrastructures.filter((infra)=> infra.type === \"eclairage public\")[0].quantite,\r\n              cpl: projet.infrastructures.filter((infra)=> infra.type === \"eclairage public\")[0].cout,\r\n              qa: projet.infrastructures.filter((infra)=> infra.type === \"assainissement\")[0].quantite,\r\n              ca: projet.infrastructures.filter((infra)=> infra.type === \"assainissement\")[0].cout,\r\n              be: projet.bureau_etude,\r\n              ce: projet.cout_etude,\r\n              action : <span onClick={() => { setProjet(projet); setShow(true); }}><FeatherIcon icon=\"tool\" /></span>,\r\n          });\r\n        }\r\n        }\r\n\r\n        setDatatable({\r\n          columns: [\r\n            {\r\n              label: 'Nom',\r\n              field: 'nom',\r\n              width: 200,\r\n            },\r\n            {\r\n              label: 'Quartier',\r\n              field: 'quartier',\r\n            },\r\n            {\r\n              label: 'Nombre de quartier',\r\n              field: 'Nombre',\r\n              width: 200,\r\n            },\r\n            {\r\n              label: 'Surface Totale (Hectar)',\r\n              field: 'Surfaces',\r\n              width: 200,\r\n            },\r\n            {\r\n              label: 'Surface Urbanisée (Hectar)',\r\n              field: 'Surface',\r\n              width: 200,\r\n            },\r\n            {\r\n              label: 'Nombre de logements',\r\n              field: 'logement',\r\n              width: 200,\r\n            },\r\n            {\r\n              label: 'Nombre des habitants',\r\n              field: 'habitant',\r\n              width: 200,\r\n            },\r\n            {\r\n              label: 'quantite drainage',\r\n              field: 'qd',\r\n            },\r\n            {\r\n              label: 'coût drainage',\r\n              field: 'cd',\r\n            },\r\n            {\r\n              label: 'quantite voirie',\r\n              field: 'qv',\r\n            },\r\n            {\r\n              label: 'coût voirie',\r\n              field: 'cv',\r\n            },\r\n            {\r\n              label: 'quantite eau potable',\r\n              field: 'qep',\r\n            },\r\n            {\r\n              label: 'coût eau potable',\r\n              field: 'cep',\r\n            },\r\n            {\r\n              label: 'Nombre de poteaux lumineux',\r\n              field: 'npl',\r\n            },\r\n            {\r\n              label: 'coût éclairage public',\r\n              field: 'cpl',\r\n            },\r\n            {\r\n              label: 'quantite assainissement',\r\n              field: 'qa',\r\n            },\r\n            {\r\n              label: 'coût assainissement',\r\n              field: 'ca',\r\n            },\r\n            {\r\n              label: 'bureau d\\'étude',\r\n              field: 'be',\r\n            },\r\n            {\r\n              label: 'coût d\\'étude',\r\n              field: 'ce',\r\n            },\r\n            {\r\n              label: 'Actoin',\r\n              field: 'action',\r\n              sort : 'disabled',\r\n              width: 50,\r\n            },\r\n           \r\n          ],\r\n          rows: projets,\r\n        });\r\n\r\n        setLoading(false);\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n  }\r\n\r\n\r\n  \r\n  React.useEffect(() => {\r\n    fetchProjets();\r\n  },[]);\r\n \r\n    return (\r\n      <div className=\"p-3\">\r\n        <ToastContainer />\r\n        {\r\n            loading ?\r\n            <div className=\"d-flex justify-content-center\">\r\n            <Col md=\"auto\" >\r\n            <Spinner\r\n\t\t\t\t\t\t\tas=\"span\"\r\n\t\t\t\t\t\t\tanimation=\"border\"\r\n\t\t\t\t\t\t\tsize=\"lg\"\r\n              variant=\"primary\"\r\n\t\t\t\t\t\t\trole=\"status\"\r\n\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t/> </Col></div>: \r\n            <MDBDataTableV5\r\n            ref={ref}\r\n            style={{\"marginLeft\":\"1%\"}}\r\n            responsive\r\n            hover\r\n            entriesOptions={[5, 20, 25]}\r\n            striped\r\n            pagesAmount={5}\r\n            data={datatable}\r\n            paging\r\n            searchBottom\r\n            barReverse />\r\n        }\r\n\r\n        <Modal show={show} onHide={() => setShow(false)}>\r\n          <Modal.Header>\r\n          <Modal.Title>Confirmation</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>Are you sure you want move {projet.id} to eligible list!</Modal.Body>\r\n          <Modal.Footer>\r\n          <Button variant=\"danger\" onClick={() => setShow(false)}>\r\n            Close\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={() => eligible() }>\r\n            Save\r\n          </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </div>\r\n    )\r\n});\r\n\r\nexport default TableProjIneligible;\r\n  ","import React from \"react\";\r\nimport ReactToPrint from 'react-to-print-advanced';\r\nimport ComponentToPrint from './TableProjetIneligible';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport { Row, Col, Button } from 'react-bootstrap';\r\nimport axios from 'axios';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nconst pageStyle = `\r\n  @page {\r\n    size: 80mm 50mm;\r\n  }\r\n\r\n  @media all {\r\n    .pagebreak {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  @media print {\r\n    .pagebreak {\r\n      page-break-before: always;\r\n    }\r\n  }\r\n`;\r\n\r\nfunction PrintIneligible() {\r\n\r\n  const componentRef = React.useRef();\r\n\r\n      return (\r\n        <div>\r\n          <ToastContainer />\r\n          <Row className=\"mt-2\">\r\n\t\t\t<Col>\r\n            </Col>\r\n\t\t\t<Col md=\"auto\">\r\n                \r\n            </Col>\r\n         \r\n          <Col md=\"auto\">\r\n            <ReactToPrint\r\n                trigger={() => <button className=\"btn btn-primary mr-5\" size=\"primary\"><FeatherIcon icon=\"printer\" /></button>}\r\n                content={() => componentRef.current}\r\n                style={pageStyle}\r\n            />\r\n\t\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n          \r\n          <ComponentToPrint ref={componentRef}/>\r\n        </div>\r\n      );\r\n    \r\n  }\r\n  \r\nexport default PrintIneligible;\r\n  ","import React, { useRef } from 'react';\r\nimport Carte from '../critere/components/Carte';\r\nimport Form from '../projet/components/FormProjet'\r\nimport axios from 'axios';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport 'react-smart-data-table/dist/react-smart-data-table.css';\r\nimport PrintEligible from '../components/PrintEligible';\r\nimport PrintIneligible from '../components/PrintIneligible';\r\nimport LoadingBar from 'react-top-loading-bar';\r\n\r\nexport default function Eligible() {\r\n    const [progress, setProgress] = React.useState(0);\r\n    \r\n    React.useEffect(() => {\r\n\t\tsetProgress(100);\r\n\t\treturn () => setProgress(0);\r\n\t},[]);\r\n\r\n    return (\r\n    <main className=\"content\">\r\n        <LoadingBar color='#1a2e8a' height='4px' progress={progress}  />\r\n        <div className=\"container-fluid p-0\">\r\n\r\n            <h1 className=\"h3 mb-3\">Gestion des projets</h1>\r\n\r\n            <div className=\"row\">\r\n                <div className=\"col-6\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card-header\">\r\n                            <h5 className=\"card-title\">Liste des projets éligibles</h5>\r\n                        </div>\r\n                        <PrintEligible />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"col-6\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card-header\">\r\n                            <h5 className=\"card-title\">Liste des projets non éligibles</h5>\r\n                        </div>\r\n                        <PrintIneligible />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </main>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport FeatherIcon from 'feather-icons-react'\r\nimport 'react-dropdown/style.css';\r\nimport { Container, Row, Col, Modal, Card, Button } from 'react-bootstrap';\r\nimport axios from 'axios';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport default function Beilleur({name,img,id}) {\r\n\r\n\tconst [selectedImg, setSelectedImg]=React.useState(`http://priqh2server.herokuapp.com/img/bailleurs/${img}`);\r\n\tconst [nom, setNom] = React.useState(null);\r\n\r\n\tfunction handleChange(event) {\r\n    \tsetSelectedImg( URL.createObjectURL(event.target.files[0]));\r\n    }\r\n\r\n\tconst updateBailleur = async() => {\r\n\r\n        const form = new FormData();\r\n\r\n        if( nom ) form.append('nom', nom);\r\n        if( document.getElementById('image').files[0] !== undefined ) form.append('image', document.getElementById('image').files[0]);\r\n\r\n        try{\r\n            const url = `http://priqh2server.herokuapp.com/api/v1/bailleurs/${id}`;\r\n\r\n            const res = await axios({\r\n                headers: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'put',\r\n\t\t\t  \turl,\r\n                data: form\r\n            });\r\n\r\n            toast.success('Success', {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tdraggable: false\r\n\t\t\t});\r\n\r\n\t\t\twindow.location.replace('/beilleurs');\r\n\r\n        }catch(err){\r\n            console.log(err.response.data.message);\r\n            toast.error(err.response.data.message, {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tdraggable: false\r\n\t\t\t});\r\n        }\r\n    }\r\n\r\n\tconst deleteBailleur = async() => {\r\n\t\t\r\n        try{\r\n            const url = `http://priqh2server.herokuapp.com/api/v1/bailleurs/${id}`;\r\n\r\n            const res = await axios({\r\n                headers: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'delete',\r\n\t\t\t  \turl\r\n            });\r\n\r\n            toast.success('Success', {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tdraggable: false\r\n\t\t\t});\r\n\r\n\t\t\twindow.location.replace('/beilleurs');\r\n\r\n        }catch(err){\r\n            console.log(err.response.data.message);\r\n            toast.success(err.response.data.message, {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tdraggable: false\r\n\t\t\t});\r\n        }\r\n    }\r\n\r\n\tconst [show, setShow] = React.useState(false);\r\n\tconst [show1, setShow1] = React.useState(false);\r\n\r\n    return (\r\n            \t<div className=\"col-12 col-md-6 col-lg-3\">\r\n\t\t\t\t\t<ToastContainer/>\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\r\n\t\t\t\t\t\t\t\t<img className=\"card-img-top\" src={`http://priqh2server.herokuapp.com/img/bailleurs/${img}`} alt=\"image\" style={{\"height\": \"150px\"}}/>\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"card-header px-4 pt-4\">\r\n\t\t\t\t\t\t\t\t\t<h3 className=\" mb-0\">{name}</h3>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"card-body px-4 pt-2\">\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex flex-row-reverse\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span  className=\"btn btn-danger ml-1\" onClick={() => setShow1(true)}><FeatherIcon icon=\"trash-2\" /></span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div >\r\n\t\t\t\t<span  className=\"btn btn-primary \" onClick={() => {  setShow(true); }}><FeatherIcon icon=\"edit-2\" /></span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n                                </div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t<Modal show={show} onHide={() => setShow(false)}>\r\n\t\t\t\t\t<Modal.Header >\r\n\t\t\t\t\t\t<Modal.Title>Modifier Beilleur</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body><div className=\"row\">\r\n                                            <div className=\"col-md-6\">\r\n                                            <div className=\"mb-3 col-md-6\">\r\n                                                <label className=\"form-label\" htmlFor=\"inputFirstName\">Nom</label>\r\n                                                <input type=\"text\" className=\"form-control\" placeholder={name} \r\n\t\t\t\t\t\t\t\t\t\t\t\t onChange= {(e) => setNom(e.target.value)}/>\r\n                                            </div>\r\n                                           \r\n                                            </div>\r\n                                            <div className=\"col-md-6\">\r\n                                                <div className=\"text-center\">\r\n                                                    <img src={selectedImg} width=\"150\" height=\"100\" alt=\"image\" />\r\n                                                    <div className=\"mt-2\">\r\n                                                        <input type=\"file\" id=\"image\" onChange={handleChange}  />\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div></Modal.Body>\r\n\t\t\t\t\t\t<Modal.Footer>\r\n                            <Button variant=\"primary\" onClick={() => setShow(false)}>\r\n                                Fermer\r\n                            </Button>\r\n                            <Button variant=\"success\" onClick={() => { updateBailleur() }}>\r\n                                Enregistrer\r\n                            </Button>\r\n                        </Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\r\n\t\t\t\t<Modal show={show1} onHide={() => setShow1(false)}>\r\n\t\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t\t<Modal.Title>Confirmation</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n\t\t\t\t\t<Modal.Body>Are you sure you want delete {name}!</Modal.Body>\r\n\t\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t\t<Button variant=\"primary\" onClick={() => setShow1(false)}>\r\n\t\t\t\t\t\t\tClose\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button variant=\"danger\" onClick={() => { deleteBailleur() }}>\r\n\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Bei from './components/Beilleur'\r\nimport FeatherIcon from 'feather-icons-react'\r\nimport { Container, Row, Col, Modal, Card, Button } from 'react-bootstrap';\r\nimport axios from 'axios';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { gql, useSubscription } from '@apollo/client'\r\n\r\nconst BAILLEURS = gql`\r\nsubscription bailleurs {\r\n  bailleurs{\r\n    id\r\n    nom\r\n    image\r\n  }\r\n}`\r\n\r\nexport default function Beilleurs() {\r\n\r\n    const { data: bailleurs, error: messageError } = useSubscription(\r\n\t\tBAILLEURS\r\n\t)\r\n\r\n    const [selectedImg, setSelectedImg]=React.useState(\"img/photos/deflogo.png\");\r\n\r\n    function handleChange(event) {\r\n        setSelectedImg( URL.createObjectURL(event.target.files[0]));\r\n    }\r\n\r\n    const [nom, setNom] = React.useState('');\r\n    const [tab, setTab] = React.useState([]);\r\n\r\n\tconst [show, setShow] = React.useState(false);\r\n    \r\n    const fetchBailleurs = async() => {\r\n        try {\r\n\t\t\tconst url =`http://priqh2server.herokuapp.com/api/v1/bailleurs/`;\r\n\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\r\n\t\t\tsetTab(res.data.bailleur_fonds);\r\n            console.log(res.data.bailleur_fonds);\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n    }\r\n\r\n    const addBailleur = async() => {\r\n\r\n        const form = new FormData();\r\n\r\n        form.append('nom', nom);\r\n        form.append('image', document.getElementById('image').files[0]);\r\n\r\n        try{\r\n            const url = `http://priqh2server.herokuapp.com/api/v1/bailleurs`;\r\n\r\n            const res = await axios({\r\n                headers: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'post',\r\n\t\t\t  \turl,\r\n                data: form\r\n            });\r\n\r\n            toast.success('Success', {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tdraggable: false\r\n\t\t\t});\r\n\r\n\t\t\twindow.location.replace('/beilleurs');\r\n\r\n        }catch(err){\r\n            console.log(err.response.data.message);\r\n            toast.success(err.response.data.message, {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tdraggable: false\r\n\t\t\t});\r\n        }\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        fetchBailleurs();\r\n    },[]);\r\n\r\n    React.useEffect(() => {\r\n        if(bailleurs){\r\n            console.log(bailleurs.bailleurs);\r\n            setTab(bailleurs.bailleurs);\r\n        }\r\n    },[bailleurs]);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n            <ToastContainer/>\r\n        <div className=\"container-fluid p-0\">\r\n            <div>\r\n                <h1 className=\"h3 mb-3\">Gestion des beilleurs</h1>\r\n                <Col md=\"auto\" className=\"d-flex flex-row-reverse\" >\r\n                    <Button className=\"btn btn-primary\" size=\"primary\" onClick={() => {  setShow(true); }}>\r\n                        <FeatherIcon icon=\"plus\"/>\r\n                    </Button>\r\n                </Col>\r\n            </div>\r\n            <div className=\"row\">\r\n\t\t\t\t{  \r\n                    tab.map((b,index)=>(\r\n                        <Bei key={index} name={b.nom} img={b.image} id={b.id}/>\r\n                    ))\r\n                }\t\r\n\t\t\t</div>\r\n        </div>\r\n       \r\n    \t        <Modal show={show} onHide={() => setShow(false)}>\r\n\t\t\t\t\t<Modal.Header>\r\n\t\t\t\t\t<Modal.Title>Ajouter Beilleur</Modal.Title>\r\n\t\t\t\t\t</Modal.Header>\r\n                        <Modal.Body>\r\n                            <div className=\"row\">\r\n                                <div className=\"col-md-6\">\r\n                                    \r\n                                        <label className=\"form-label\" htmlFor=\"inputFirstName\">Nom</label>\r\n                                        <input type=\"text\" className=\"form-control\" placeholder=\"nom bailleur\"\r\n                                        onChange= {(e) => setNom(e.target.value)} />\r\n                                      \r\n                                </div>\r\n                                <div className=\"col-md-6\">\r\n                                    <div className=\"text-center\">\r\n                                        <img src={selectedImg} width=\"150\" height=\"100\" alt=\"image\" />\r\n                                        <div className=\"mt-2\">\r\n                                            <input type=\"file\" id=\"image\" onChange={handleChange}  />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </Modal.Body>\r\n                        <Modal.Footer>\r\n                            <Button variant=\"primary\" onClick={() => setShow(false)}>\r\n                                Fermer\r\n                            </Button>\r\n                            <Button variant=\"success\" onClick={() => { addBailleur() }}>\r\n                                Enregistrer\r\n                            </Button>\r\n                        </Modal.Footer>\r\n\t\t\t\t</Modal>\r\n\r\n            \r\n        </main>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { MDBDataTableV5 } from 'mdbreact';\r\nimport 'mdbreact/dist/css/mdb.css';\r\nimport '@fortawesome/fontawesome-free/css/all.css';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport { Container, Row, Col, Modal, Card, Button } from 'react-bootstrap';\r\nimport { Spinner } from 'react-bootstrap'\r\n\r\n\r\n\r\nconst TableTranche = React.forwardRef((props, ref) => {\r\n\r\n  const [datatable, setDatatable] = React.useState({});\r\n  const [loading, setLoading] = React.useState(true);\r\n\r\n  const [projet, setProjet] = React.useState({});\r\n  const [show, setShow] = React.useState(false);\r\n  \r\n\r\n  const fetchProjets = async () => {\r\n\r\n        let projets = [];\r\n        for(const projet of props.projets){\r\n            \r\n          let nomProjet = '';\r\n          for(const q of projet.quartiers){\r\n            nomProjet = nomProjet + q.nom_fr + ' - '\r\n          }\r\n          projets.push({\r\n              nom: nomProjet.slice(0,nomProjet.length - 3),\r\n              quartier:\r\n              <ul className=\"ml-n4\" key={projet.id} style={{\"listStyleType\":\"none\"}}>\r\n                {\r\n                  projet.quartiers.map((quartier, index) => (\r\n                    <div key={index}><p> {quartier.nom_fr} </p>{projet.quartiers.length - 1 > index ? <hr/> : ''}</div>\r\n                  ))\r\n                }\r\n              </ul>,\r\n              Nombre: projet.nbr_quartiers,\r\n              Surfaces: projet.surface_totale,\r\n              Surface: projet.surface_urbanisee_totale,\r\n              logement: projet.nombre_logements_totale,\r\n              habitant: projet.nombre_habitants_totale,\r\n              qd: projet.infrastructures.filter((infra)=> infra.type === \"drainage des eaux pluviales\")[0].quantite,\r\n              cd: projet.infrastructures.filter((infra)=> infra.type === \"drainage des eaux pluviales\")[0].cout,\r\n              qv: projet.infrastructures.filter((infra)=> infra.type === \"voirie\")[0].quantite,\r\n              cv: projet.infrastructures.filter((infra)=> infra.type === \"voirie\")[0].cout,\r\n              qep: projet.infrastructures.filter((infra)=> infra.type === \"eau potable\")[0].quantite,\r\n              cep: projet.infrastructures.filter((infra)=> infra.type === \"eau potable\")[0].cout,\r\n              npl: projet.infrastructures.filter((infra)=> infra.type === \"eclairage public\")[0].quantite,\r\n              cpl: projet.infrastructures.filter((infra)=> infra.type === \"eclairage public\")[0].cout,\r\n              qa: projet.infrastructures.filter((infra)=> infra.type === \"assainissement\")[0].quantite,\r\n              ca: projet.infrastructures.filter((infra)=> infra.type === \"assainissement\")[0].cout,\r\n              be: projet.bureau_etude,\r\n              ce: projet.cout_etude,\r\n              action : <span onClick={() => { setProjet(projet); setShow(true); }}><FeatherIcon icon=\"tool\" /></span>,\r\n          });\r\n        \r\n        }\r\n\r\n        setDatatable({\r\n          columns: [\r\n            {\r\n              label: 'Nom',\r\n              field: 'nom',\r\n              width: 200,\r\n            },\r\n            {\r\n              label: 'quantite drainage',\r\n              field: 'qd',\r\n            },\r\n            {\r\n              label: 'coût drainage',\r\n              field: 'cd',\r\n            },\r\n            {\r\n              label: 'quantite voirie',\r\n              field: 'qv',\r\n            },\r\n            {\r\n              label: 'coût voirie',\r\n              field: 'cv',\r\n            },\r\n            {\r\n              label: 'quantite eau potable',\r\n              field: 'qep',\r\n            },\r\n            {\r\n              label: 'coût eau potable',\r\n              field: 'cep',\r\n            },\r\n            {\r\n              label: 'Nombre de poteaux lumineux',\r\n              field: 'npl',\r\n            },\r\n            {\r\n              label: 'coût éclairage public',\r\n              field: 'cpl',\r\n            },\r\n            {\r\n              label: 'quantite assainissement',\r\n              field: 'qa',\r\n            },\r\n            {\r\n              label: 'coût assainissement',\r\n              field: 'ca',\r\n            },\r\n            {\r\n              label: 'bureau d\\'étude',\r\n              field: 'be',\r\n            },\r\n            {\r\n              label: 'coût d\\'étude',\r\n              field: 'ce',\r\n            },\r\n      \r\n           \r\n          ],\r\n          rows: projets,\r\n        });\r\n\r\n        setLoading(false);\r\n  }\r\n\r\n\r\n  \r\n  React.useEffect(() => {\r\n    fetchProjets();\r\n  },[]);\r\n \r\n    return (\r\n      <div className=\"p-3\">\r\n        {\r\n            loading ?\r\n            <div className=\"d-flex justify-content-center\">\r\n            <Col md=\"auto\" >\r\n            <Spinner\r\n\t\t\t\t\t\t\tas=\"span\"\r\n\t\t\t\t\t\t\tanimation=\"border\"\r\n\t\t\t\t\t\t\tsize=\"lg\"\r\n              variant=\"primary\"\r\n\t\t\t\t\t\t\trole=\"status\"\r\n\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t/> </Col></div>: \r\n            <MDBDataTableV5\r\n            ref={ref}\r\n            style={{\"marginLeft\":\"1%\"}}\r\n            responsive\r\n            hover\r\n            entriesOptions={[5, 20, 25]}\r\n            striped\r\n            pagesAmount={5}\r\n            data={datatable}\r\n            paging\r\n            searchBottom\r\n            barReverse />\r\n        }\r\n\r\n      \r\n      </div>\r\n    )\r\n});\r\n\r\nexport default TableTranche;\r\n  ","import React from 'react'\r\nimport Select from 'react-select';\r\nimport makeAnimated from 'react-select/animated';\r\nimport axios from 'axios';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport default function FormUpdateTranche(props) {\r\n\r\n    const animatedComponents = makeAnimated();\r\n\tconst [tranche, setTranche] = React.useState({ numero: props.tranche.numero });\r\n\tconst [projets, setProjets] = React.useState([]);\r\n    const [selectedProjets, setSelectedProjets] = React.useState([]);\r\n\t\r\n    const fetchProjets = async () => {\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/projets/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\t\t\t\t\r\n\t\t\tlet projet_options = [];\r\n            let projet_tranche= [];\r\n\r\n\t\t\tfor(const projet of res.data.projets){\r\n\t\t\t\tlet nomProjet = '';\r\n\t\t\t\tfor(const q of projet.quartiers){\r\n\t\t\t\t\tnomProjet = nomProjet + q.nom_fr + ' - '\r\n\t\t\t\t}\r\n\t\t\t\tlet obj = { value: projet.id, label: nomProjet.slice(0,nomProjet.length-4) }\r\n\t\t\t\tprojets.push(obj);\r\n                for(const p of props.tranche.projets){\r\n                    if(p.id === projet.id){\r\n                        selectedProjets.push(obj);\r\n                    }\r\n                }\r\n\t\t\t}\r\n        \r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n\t}\r\n\r\n    const updateTranche = async () => {\r\n\t\ttry {\r\n\t\t\tconst url =`http://priqh2server.herokuapp.com/api/v1/tranches/${props.tranche.id}`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'put',\r\n\t\t\t  \turl,\r\n\t\t\t\tdata: tranche\r\n\t\t\t});\r\n\r\n\t\t\ttoast.success('Success', {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tdraggable: false\r\n\t\t\t});\r\n\r\n\t\t\twindow.location.replace('/Tranches');\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err.response.data.message);\r\n\t\t\t}\r\n\t}\r\n\r\n\tReact.useEffect(() => {\r\n\t\tfetchProjets();\r\n\t},[]);\r\n\r\n    return (\r\n        <div>\r\n\t\t\t<ToastContainer/>\r\n\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Numero</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"text\" className=\"form-control\" placeholder=\"Numero\" defaultValue={tranche.numero}\r\n\t\t\t\t\tonChange={(e) => setTranche({...tranche, numero: e.target.value * 1})}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n            <div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Projets</label>\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<div className=\"boxes\" >\r\n\t\t\t\t\t\t<Select\r\n                            defaultValue={selectedProjets}\r\n                            options={projets}\r\n\t\t\t\t\t\t\tcomponents={animatedComponents}\r\n\t\t\t\t\t\t\tisMulti\r\n\t\t\t\t\t\t\tonChange={(e) => { tranche.projets= e.map(x => x.value); console.log(tranche); } }\r\n\t\t\t\t\t\t/>\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"mb-3 row\">\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<span  className=\"btn btn-primary\" onClick={() => updateTranche()}>Submit</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport ReactToPrint from 'react-to-print-advanced';\r\nimport ComponentToPrint from './TableTranche';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport FormUpdateTranche from './FormUpdateTranche';\r\nimport { Row, Col, Button, Modal} from 'react-bootstrap';\r\nimport axios from 'axios';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nconst pageStyle = `\r\n  @page {\r\n    size: 80mm 50mm;\r\n  }\r\n\r\n  @media all {\r\n    .pagebreak {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  @media print {\r\n    .pagebreak {\r\n      page-break-before: always;\r\n    }\r\n  }\r\n`;\r\n\r\nfunction PrintTranche(props) {\r\n\r\nconst [show, setShow] = React.useState(false);\r\n\r\nconst deleteTranche = async () => {\r\nconsole.log(props.tranche)\r\n  try {\r\n    const url =`http://priqh2server.herokuapp.com/api/v1/tranches/${props.tranche.id}`;\r\n    const res = await axios({\r\n      headers: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n        method: 'delete',\r\n        url,\r\n    });\r\n\r\n    toast.success('Success', {\r\n      position: 'top-right',\r\n      autoClose: 5000,\r\n      draggable: false\r\n    });\r\n    window.location.replace('/Tranches');\r\n\r\n  } catch (err) {\r\n    toast.error(err.response.data.message, {\r\n      position: 'top-right',\r\n      autoClose: 5000,\r\n      draggable: true\r\n    });\r\n    setShow(false);\r\n  }\r\n}\r\n\r\n  const componentRef = React.useRef();\r\n\r\n      return (\r\n        <div>\r\n          <ToastContainer />\r\n          <Row className=\"mt-2\">\r\n          <Col>\r\n          \r\n          </Col>\r\n\r\n          <Col>\r\n          \r\n          </Col>\r\n\r\n\t\t\t    <Col md=\"auto\">\r\n            <button className=\"btn btn-danger\" onClick={() => setShow(true)} size=\"primary\"><FeatherIcon icon=\"trash\" /></button>\r\n          </Col>\r\n\r\n\t\t\t    <Col md=\"auto\">\r\n          <button className=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#modif\" size=\"primary\"><FeatherIcon icon=\"settings\" /></button>\r\n          </Col>\r\n         \r\n          <Col md=\"auto\">\r\n            <ReactToPrint\r\n                trigger={() => <button className=\"btn btn-primary\" size=\"primary\"><FeatherIcon icon=\"printer\" /></button>}\r\n                content={() => componentRef.current}\r\n                style={pageStyle}\r\n            />\r\n\t\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n          \r\n          <ComponentToPrint projets={props.tranche.projets} ref={componentRef}/>\r\n\r\n        <Modal show={show} onHide={() => setShow(false)}>\r\n          <Modal.Header>\r\n          <Modal.Title>Confirmation</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>Are you sure you want delete decompte of this Tranche {props.tranche.numero} !</Modal.Body>\r\n          <Modal.Footer>\r\n          <Button variant=\"danger\" onClick={() => setShow(false)}>\r\n            Fermer\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={() => { deleteTranche() }}>\r\n            Supprimer\r\n          </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n\r\n        <div className=\"modal fade\" id=\"modif\" tabIndex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n\t\t\t\t\t\t<div className=\"modal-dialog\" role=\"document\">\r\n\t\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-12 col-xl-12\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"modal-title\">Modifier Tranche</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormUpdateTranche tranche={props.tranche} />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    \r\n  }\r\n  \r\nexport default PrintTranche;\r\n  ","import React from 'react'\r\nimport Select from 'react-select';\r\nimport makeAnimated from 'react-select/animated';\r\nimport axios from 'axios';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport default function FormTranche() {\r\n\r\n    const animatedComponents = makeAnimated();\r\n\tconst [tranche, setTranche] = React.useState({});\r\n\tconst [projets, setProjets] = React.useState([]);\r\n\t\r\n\r\n    const fetchProjets = async () => {\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/projets/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\t\t\t\t\r\n\t\t\tlet projet_options = [];\r\n\t\t\tfor(const projet of res.data.projets){\r\n\t\t\t\tlet nomProjet = '';\r\n\t\t\t\tfor(const q of projet.quartiers){\r\n\t\t\t\t\tnomProjet = nomProjet + q.nom_fr + ' - '\r\n\t\t\t\t}\r\n\t\t\t\tlet obj = { value: [projet.id,projet.code], label: nomProjet.slice(0,nomProjet.length-4) }\r\n\t\t\t\tprojet_options.push(obj);\r\n\t\t\t}\r\n\t\t\tsetProjets(projet_options);\r\n\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err);\r\n\t\t}\r\n\t}\r\n\r\n    const addTranche = async () => {\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/tranches/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'post',\r\n\t\t\t  \turl,\r\n\t\t\t\tdata: tranche\r\n\t\t\t});\r\n\r\n\t\t\ttoast.success('Success', {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tdraggable: false\r\n\t\t\t});\r\n\r\n\t\t\twindow.location.replace('/Tranches');\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err.response.data.message);\r\n\t\t\t}\r\n\t}\r\n\r\n\tReact.useEffect(() => {\r\n\t\tfetchProjets();\r\n\t},[]);\r\n\r\n    return (\r\n        <div>\r\n\t\t\t<ToastContainer/>\r\n\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Numero</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"text\" className=\"form-control\" placeholder=\"Numero\"\r\n\t\t\t\t\tonChange={(e) => setTranche({...tranche, numero: e.target.value * 1})}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n            <div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Projets</label>\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<div className=\"boxes\" >\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tdefaultValue=\"options\"\r\n\t\t\t\t\t\t\tcomponents={animatedComponents}\r\n\t\t\t\t\t\t\toptions={projets}\r\n\t\t\t\t\t\t\tisMulti\r\n\t\t\t\t\t\t\tonChange={(e) =>{ setTranche({...tranche, projets: e.map(x => x.value[0])}) }}\r\n\t\t\t\t\t\t/>\t\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\r\n\t\t\t\r\n\t\t\t<div className=\"mb-3 row\">\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<span  className=\"btn btn-primary\" onClick={() => addTranche()}>Submit</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t\r\n\t\t</div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Accordion, Card} from 'react-bootstrap';\r\nimport Print from './components/PrintTranche';\r\nimport axios from 'axios'\r\nimport { Row, Col, Button } from 'react-bootstrap';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport FormTranche from './components/FormTranche'\r\nimport { gql, useSubscription } from '@apollo/client'\r\n\r\nconst TRANCHES = gql`\r\nsubscription tranches {\r\n  tranches {\r\n    id\r\n    numero\r\n    projets{\r\n      id\r\n      code\r\n      eligible\r\n      nbr_quartiers\r\n      surface_totale\r\n      surface_urbanisee_totale\r\n      nombre_logements_totale\r\n      nombre_habitants_totale\r\n      infrastructures{\r\n        id\r\n        code\r\n        type\r\n        quantite\r\n        cout\r\n      }\r\n    }\r\n  }\r\n}`\r\n\r\nexport default function Tranches() {\r\n\r\n    const [tranches,setTranches] = React.useState([]);\r\n\r\n    const { data: tranchesInfo, error: messageError } = useSubscription(\r\n\t\tTRANCHES\r\n\t);\r\n\r\n    console.log(tranchesInfo);\r\n    \r\n    const fetchTranches= async () => {\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/tranches/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\r\n            console.log(res.data.tranches);\r\n\t\t\tsetTranches(res.data.tranches);\r\n\t\t\t\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t}\r\n\r\n    React.useEffect(() => {\r\n        fetchTranches();\r\n    },[])\r\n\r\n    React.useEffect(() => {\r\n        if(tranchesInfo){\r\n            setTranches(tranchesInfo.tranches);\r\n        }\r\n    },[tranchesInfo]);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n        <div className=\"container-fluid p-0\">\r\n            <Row>\r\n                <Col>\r\n                    <h1 className=\"h3 mb-3\">Gestion des tranches</h1>\r\n                </Col>\r\n                <Col>\r\n                    <button className=\"btn btn-primary float-right\" data-toggle=\"modal\" data-target=\"#ajout\" size=\"primary\"><FeatherIcon icon=\"plus\" /></button>\r\n                </Col>\r\n            </Row>\r\n            \r\n            <Accordion defaultActiveKey=\"0\">\r\n                { tranches.map((tranche,index) =>(\r\n                <Card key={index}>\r\n                <Accordion.Toggle as={Card.Header} eventKey=\"1\">\r\n                <Row className=\"mt-2\">\r\n                    <Col>\r\n                        Tranche {tranche.numero}\r\n                    </Col>\r\n                </Row>\r\n                </Accordion.Toggle>\r\n                <Accordion.Collapse eventKey=\"1\">\r\n                <Card.Body>\r\n                    <Print tranche={tranche}/>\r\n                </Card.Body>\r\n                </Accordion.Collapse>\r\n                </Card>\r\n                ))\r\n                }\r\n            </Accordion>\r\n        </div>\r\n                    <div className=\"modal fade\" id=\"ajout\" tabIndex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n\t\t\t\t\t\t<div className=\"modal-dialog\" role=\"document\">\r\n\t\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-12 col-xl-12\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"modal-title\">Ajouter Tranche</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormTranche />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n        </main>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Budget() {\r\n    return (\r\n        <div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Select from 'react-select';\r\nimport makeAnimated from 'react-select/animated';\r\nimport axios from 'axios';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport default function FormPrestataire() {\r\n\r\n    const animatedComponents = makeAnimated();\r\n\tconst [prestataire, setPrestataire] = React.useState({});\r\n\r\n    const addPrestataire = async () => {\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/prestataires/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'post',\r\n\t\t\t  \turl,\r\n                data: prestataire\r\n\t\t\t});\r\n\r\n\t\t\ttoast.success('Success', {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tdraggable: false\r\n\t\t\t});\r\n\r\n\t\t\twindow.location.replace('/prestataire');\r\n\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err.response.data.message);\r\n\t\t}\r\n\t}\r\n\r\n    return (\r\n        <div>\r\n\t\t\t<ToastContainer/>\r\n\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Nom</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"text\" className=\"form-control\"\r\n\t\t\t\t\tonChange={(e) => setPrestataire({...prestataire, nom: e.target.value})}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n            <div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Abreviation</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"text\" className=\"form-control\"\r\n\t\t\t\t\tonChange={(e) => setPrestataire({...prestataire, abreviation: e.target.value})}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div className=\"mb-3 row\">\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<span  className=\"btn btn-primary\" onClick={() => addPrestataire()}>Submit</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useStoreState } from '../../../context/store';\r\n\r\nexport default function FormPrestataireUpdate() {\r\n\r\n    const [prestataireEdit, setPrestataireEdit] = React.useState({});\r\n    const {prestataire} = useStoreState();\r\n\r\n\r\n    const updatePrestataire = async() => {\r\n\t\ttry{\r\n\t\t\tconst url = `http://priqh2server.herokuapp.com/api/v1/prestataires/${prestataire.id}`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'put',\r\n\t\t\t  \turl,\r\n\t\t\t\tdata: prestataireEdit\r\n\t\t\t});\r\n\r\n\t\t\ttoast.success('Success', {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tdraggable: false\r\n\t\t\t});\r\n\r\n\t\t\twindow.location.replace('/Prestataire');\r\n\r\n\t\t}catch(err){\r\n\t\t\tconsole.log(err.response.data.message);\r\n\t\t\t\r\n\t\t\ttoast.error(err.response.data.message, {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tdraggable: true\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n    return (\r\n        <div>\r\n\t\t\t<ToastContainer/>\r\n\t\t\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Nom</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"text\" className=\"form-control\" placeholder=\"Nom\" defaultValue={prestataire ? prestataire.nom: ''}\r\n\t\t\t\t\tonChange={(e) => setPrestataireEdit({...prestataire, nom: e.target.value})}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Abreviation</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"text\" className=\"form-control\" placeholder=\"Nom en arabe\" defaultValue={prestataire ? prestataire.abreviation : ''}\r\n\t\t\t\t\tonChange={(e) => setPrestataireEdit({...prestataire, abreviation: e.target.value})}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t\r\n\t\t\t<div className=\"mb-3 row\">\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<span  className=\"btn btn-primary\" onClick={() => updatePrestataire()}>Submit</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t\r\n\t\t</div>\r\n    );\r\n}","import React from 'react'\r\nimport { MDBDataTableV5 } from 'mdbreact'\r\nimport 'mdbreact/dist/css/mdb.css'\r\nimport '@fortawesome/fontawesome-free/css/all.css'\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport axios from 'axios';\r\nimport { useStoreDispatch } from '../../../context/store';\r\nimport { Container, Row, Col, Modal, Card, Button } from 'react-bootstrap';\r\nimport { Spinner } from 'react-bootstrap'\r\nimport { gql, useSubscription } from '@apollo/client'\r\n\r\nconst PRESTATAIRES = gql`\r\nsubscription prestataires {\r\n  prestataires{\r\n    id\r\n    nom\r\n    abreviation\r\n  }\r\n}`\r\n\r\nconst TablePrestataire = React.forwardRef((props, ref) => {\r\n\r\n  const { data: prestataires, error: messageError } = useSubscription(\r\n\t\tPRESTATAIRES\r\n\t)\r\n\r\n  const [datatable, setDatatable] = React.useState({});\r\n  const [show, setShow] = React.useState(false);\r\n  const dispatch = useStoreDispatch();\r\n  const [prestataire, setPrestataire] = React.useState({});\r\n  const [loading, setLoading] = React.useState(true);\r\n\r\n  const deletePrestataire = async () => {\r\n\t\ttry {\r\n\t\t\tconst url =`http://priqh2server.herokuapp.com/api/v1/prestataires/${prestataire.id}`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'delete',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\r\n\t\t\ttoast.success('Success', {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tdraggable: false\r\n\t\t\t});\r\n\t\t\twindow.location.replace('/prestataire');\r\n\r\n\t\t} catch (err) {\r\n\t\t\ttoast.error(err.response.data.message, {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tdraggable: true\r\n\t\t\t});\r\n\t\t\tsetShow(false);\r\n\t\t}\r\n\t}\r\n\r\n  const fetchPrestataires = async () => {\r\n  \r\n    try {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/prestataires/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\r\n\t\tif (res.status === 200) {\r\n\t\tconsole.log(res.data.prestataires);\r\n\r\n        let prestataires = [];\r\n        for(const prestataire of res.data.prestataires){\r\n            prestataires.push({\r\n                abreviation: prestataire.abreviation,\r\n                nom: prestataire.nom,\r\n                modifier :<span onClick={() => dispatch({ type:'prestataireEdit', payload: prestataire })} data-toggle=\"modal\" data-target=\"#modif\"><FeatherIcon icon=\"edit-2\" /></span>,\r\n                supprimer : <span onClick={() => { setPrestataire(prestataire); setShow(true); }}><FeatherIcon icon=\"trash-2\" /></span>,\r\n            });\r\n        }\r\n\r\n        setDatatable({\r\n          columns: [\r\n            {\r\n              label: 'Nom',\r\n              field: 'nom',\r\n            },\r\n            {\r\n              label: 'Abreviation',\r\n              field: 'abreviation',\r\n            },\r\n            {\r\n                label: 'Modifier',\r\n                field: 'modifier',\r\n                sort : 'disabled',\r\n                \r\n            },\r\n            {\r\n                label: 'Supprimer',\r\n                field: 'supprimer',\r\n                sort : 'disabled',\r\n                \r\n            },\r\n          ],\r\n          rows: prestataires,\r\n        });\r\n\r\n      }\r\n      setLoading(false);\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err.response.data.message);\r\n\t\t\t}\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    fetchPrestataires();\r\n  },[]);\r\n\r\n  React.useEffect(() => {\r\n    if(prestataires){\r\n      let prestatairesInfo = [];\r\n      for(const prestataire of prestataires.prestataires){\r\n        prestatairesInfo.push({\r\n              abreviation: prestataire.abreviation,\r\n              nom: prestataire.nom,\r\n              modifier :<span onClick={() => dispatch({ type:'prestataireEdit', payload: prestataire })} data-toggle=\"modal\" data-target=\"#modif\"><FeatherIcon icon=\"edit-2\" /></span>,\r\n              supprimer : <span onClick={() => { setPrestataire(prestataire); setShow(true); }}><FeatherIcon icon=\"trash-2\" /></span>,\r\n          });\r\n      }\r\n\r\n      setDatatable({\r\n        columns: [\r\n          {\r\n            label: 'Nom',\r\n            field: 'nom',\r\n          },\r\n          {\r\n            label: 'Abreviation',\r\n            field: 'abreviation',\r\n          },\r\n          {\r\n              label: 'Modifier',\r\n              field: 'modifier',\r\n              sort : 'disabled',\r\n              \r\n          },\r\n          {\r\n              label: 'Supprimer',\r\n              field: 'supprimer',\r\n              sort : 'disabled',\r\n              \r\n          },\r\n        ],\r\n        rows: prestatairesInfo,\r\n      });\r\n    }\r\n  },[prestataires]);\r\n\r\n    return (\r\n      <>\r\n      <ToastContainer />\r\n        <div className=\"p-3\">\r\n            \r\n        {\r\n            loading ?\r\n            <div className=\"d-flex justify-content-center\">\r\n            <Col md=\"auto\" >\r\n            <Spinner\r\n\t\t\t\t\t\t\tas=\"span\"\r\n\t\t\t\t\t\t\tanimation=\"border\"\r\n\t\t\t\t\t\t\tsize=\"lg\"\r\n              variant=\"primary\"\r\n\t\t\t\t\t\t\trole=\"status\"\r\n\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t/> </Col></div>: \r\n            <MDBDataTableV5\r\n            ref={ref}\r\n            style={{\"marginLeft\":\"1%\"}}\r\n            responsive\r\n            hover\r\n            entriesOptions={[5, 20, 25]}\r\n            striped\r\n            pagesAmount={5}\r\n            data={datatable}\r\n            paging\r\n            searchBottom\r\n            barReverse />\r\n        }\r\n        </div>\r\n        <Modal show={show} onHide={() => setShow(false)}>\r\n          <Modal.Header>\r\n          <Modal.Title>Confirmation</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>Are you sure you want delete {prestataire.nom}!</Modal.Body>\r\n          <Modal.Footer>\r\n          <Button variant=\"danger\" onClick={() => setShow(false)}>\r\n            Fermer\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={() => { deletePrestataire() }}>\r\n            Supprimer\r\n          </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </>\r\n    )\r\n});\r\n\r\nexport default TablePrestataire;","import React from \"react\";\r\nimport ReactToPrint from 'react-to-print-advanced';\r\nimport ComponentToPrint from './TablePrestataire';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport { Row, Col, Button } from 'react-bootstrap';\r\n\r\nconst pageStyle = `\r\n  @page {\r\n    size: 80mm 50mm;\r\n  }\r\n\r\n  @media all {\r\n    .pagebreak {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  @media print {\r\n    .pagebreak {\r\n      page-break-before: always;\r\n    }\r\n  }\r\n`;\r\nfunction PrintPrestataire() {\r\n  const componentRef = React.useRef();\r\n      return (\r\n        <div>\r\n            <Row className=\"mt-2\">\r\n                <Col>\r\n                </Col>\r\n                <Col md=\"auto\">\r\n                    <Button  className=\"btn btn-primary\" size=\"primary\" data-toggle=\"modal\" data-target=\"#defaultModalPrimary\">\r\n                        <i className=\"fas fa-plus\"></i> \r\n                    </Button>\r\n                </Col>\r\n                <Col xs lg=\"1\">\r\n                    <ReactToPrint\r\n                        trigger={() => <button className=\"btn btn-primary mr-5\" size=\"primary\"><FeatherIcon icon=\"printer\" /></button>}\r\n                        content={() => componentRef.current}\r\n                        style={pageStyle}\r\n                    />\r\n                </Col>\r\n            </Row>\r\n          \r\n            <ComponentToPrint  ref={componentRef}/>\r\n        </div>\r\n      );\r\n  }\r\n  \r\n  export default PrintPrestataire;\r\n  ","import React from 'react'\r\nimport FormPrestataire from './components/FormPrestataire'\r\nimport FormPrestataireUpdate from './components/FormPrestataireUpdate'\r\nimport Print from './components/PrintPrestataire'\r\nimport LoadingBar from 'react-top-loading-bar';\r\n\r\nexport default function Prestataire() {\r\n\r\n\tconst [progress, setProgress] = React.useState(0);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tsetProgress(100);\r\n\t\treturn () => setProgress(0);\r\n\t},[]);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n\t\t\t<LoadingBar color='#1a2e8a' height='4px' progress={progress}  />\r\n\t\t\t\t<div className=\"container-fluid p-0\">\r\n\r\n\t\t\t\t\t<h1 className=\"h3 mb-3\">Gestion des Prestataires</h1>\r\n\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<Print />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"modal fade\" id=\"defaultModalPrimary\" tabIndex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"modal-dialog\" role=\"document\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-12 col-xl-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"modal-title\">Ajouter une Prestataire</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormPrestataire />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"modal fade\" id=\"modif\" tabIndex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"modal-dialog\" role=\"document\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-12 col-xl-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"modal-title\">Modifier la Prestataire</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormPrestataireUpdate />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t</main>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Select from 'react-select';\r\nimport makeAnimated from 'react-select/animated';\r\nimport axios from 'axios';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport default function FormMemoire() {\r\n\r\n    const animatedComponents = makeAnimated();\r\n\tconst [memoire, setMemoire] = React.useState({\r\n\t\thtva: 0, \r\n\t\tmontant_exonere: 0,\r\n\t\tfrais_gestion: 0,\r\n\t\ttva: 0,\r\n\t\tgestion_frais_tva: 0,\r\n\t\ttimbre_fiscale: 0.6\r\n\t\t});\r\n\tconst [projets, setProjets] = React.useState([]);\r\n\r\n\tconst fetchProjets = async () => {\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/projets/sans_memoire';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\r\n\t\t\tlet projets_options = [];\r\n\t\t\tfor(const projet of res.data.projets){\r\n\t\t\t\tlet obj = { value: projet.id, label: projet.code }\r\n\t\t\t\tprojets_options.push(obj);\r\n\t\t\t}\r\n\t\t\tsetProjets(projets_options);\r\n\t\t} catch(err) {\r\n\t\t\tconsole.log(err.response.data.message);\r\n\t\t}\r\n\t}\r\n\r\n\tconst handlesChangeProjet = (e) => {\r\n\t\tmemoire.projet_id= e.value;\r\n\t}\r\n\r\n    const addMemoire = async () => {\r\n\t\tconsole.log(memoire);\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/memoires/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'post',\r\n\t\t\t  \turl,\r\n                data: memoire\r\n\t\t\t});\r\n\r\n\t\t\ttoast.success('Success', {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tdraggable: false\r\n\t\t\t});\r\n\r\n\t\t\twindow.location.replace('/Memoire');\r\n\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err.response.data.message);\r\n\t\t}\r\n\t}\r\n\r\n\tReact.useEffect(() => {\r\n\t\tfetchProjets();\r\n\t},[]);\r\n\r\n\tReact.useEffect(() => {\r\n\t\r\n\t\tmemoire.tva= memoire.htva*0.19\r\n\t\tmemoire.frais_gestion= (memoire.htva+memoire.montant_exonere)*0.08\r\n\t\tmemoire.gestion_frais_tva= memoire.frais_gestion*0.19\r\n\t\tconsole.log(memoire);\r\n\t},[memoire.htva, memoire.montant_exonere]);\r\n\r\n    return (\r\n        <div>\r\n\t\t\t<ToastContainer/>\r\n\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">\r\n\t\t\t\t\tProjet\r\n\t\t\t\t</label>\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<div className=\"boxes\">\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tplaceholder=\"Select Projet ...\"\r\n\t\t\t\t\t\t\tcomponents={animatedComponents}\r\n\t\t\t\t\t\t\toptions={projets}\r\n\t\t\t\t\t\t\tonChange={(e) => memoire.projet_id = e.value}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">HTVA</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" \r\n\t\t\t\t\tonChange={(e) => setMemoire({...memoire, htva: e.target.value  * 1})}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Montant Exonere</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" \r\n\t\t\t\t\tonChange={(e) => setMemoire({...memoire, montant_exonere: e.target.value  * 1})}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Frais Gestion</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" value={memoire.frais_gestion}\r\n\t\t\t\t\tonChange={(e) => setMemoire({...memoire, frais_gestion: e.target.value  * 1})}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n            <div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">TVA</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" value={memoire.tva}\r\n\t\t\t\t\tonChange={(e) => setMemoire({...memoire, tva: e.target.value  * 1})}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Gestion Frais TVA</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" value={memoire.gestion_frais_tva}\r\n\t\t\t\t\tonChange={(e) => setMemoire({...memoire, gestion_frais_tva: e.target.value  * 1})}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Timbre Fiscale</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" value={memoire.timbre_fiscale}\r\n\t\t\t\t\tonChange={(e) => setMemoire({...memoire, timbre_fiscale: e.target.value  * 1})}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div className=\"mb-3 row\">\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<span  className=\"btn btn-primary\" onClick={() => addMemoire()}>Submit</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useStoreState } from '../../../context/store';\r\n\r\nexport default function FormMemoireUpdate() {\r\n\tconst {memoire} = useStoreState();\r\n\r\n    const [memoireEdit, setMemoireEdit] = React.useState({\r\n\t\thtva: memoire ? memoire.htva : 0,\r\n\t\tmontant_exonere: memoire ? memoire.montant_exonere : 0,\r\n\t\tfrais_gestion: memoire ? memoire.frais_gestion : 0,\r\n\t\ttva: memoire ? memoire.htva : 0,\r\n\t\tgestion_frais_tva: memoire ? memoire.gestion_frais_tva : 0,\r\n\t\ttimbre_fiscale: memoire ? memoire.timbre_fiscale : 0\r\n\t});\r\n    \r\n\r\n\tconsole.log(memoire);\r\n\r\n    const updateMemoire = async() => {\r\n\t\ttry{\r\n\t\t\tconst url = `http://priqh2server.herokuapp.com/api/v1/memoires/${memoire.id}`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'put',\r\n\t\t\t  \turl,\r\n\t\t\t\tdata: memoireEdit\r\n\t\t\t});\r\n\r\n\t\t\ttoast.success('Success', {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tdraggable: false\r\n\t\t\t});\r\n\r\n\t\t\twindow.location.replace('/Memoire');\r\n\r\n\t\t} catch(err){\r\n\t\t\tconsole.log(err.response.data.message);\r\n\t\t\t\r\n\t\t\ttoast.error(err.response.data.message, {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tdraggable: true\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tReact.useEffect(() => {\r\n\t\tmemoireEdit.tva= memoireEdit.htva*0.19\r\n\t\tmemoireEdit.frais_gestion= (memoireEdit.htva+memoireEdit.montant_exonere)*0.08\r\n\t\tmemoireEdit.gestion_frais_tva= memoireEdit.frais_gestion*0.19\r\n\t\tconsole.log(memoireEdit);\r\n\t},[memoireEdit.htva, memoireEdit.montant_exonere]);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif(memoire){\r\n\t\t\t\r\n\t\t\tmemoireEdit.htva= memoire.htva;\r\n\t\t\tmemoireEdit.montant_exonere= memoire.montant_exonere;\r\n\t\t\tmemoireEdit.frais_gestion= memoire.frais_gestion;\r\n\t\t\tmemoireEdit.tva= memoire.tva;\r\n\t\t\tmemoireEdit.gestion_frais_tva= memoire.gestion_frais_tva;\r\n\t\t\tmemoireEdit.timbre_fiscale= memoire.timbre_fiscale;\r\n\t\t\tconsole.log(memoireEdit);\r\n\t\t}\r\n\t},[memoire])\r\n\r\n    return (\r\n        <div>\r\n\t\t\t<ToastContainer/>\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">HTVA</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" defaultValue={memoireEdit ? memoireEdit.htva : 0}\r\n\t\t\t\t\tonChange={(e) => setMemoireEdit({...memoireEdit, htva: e.target.value * 1})}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Montant Exonere</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" defaultValue={memoireEdit.montant_exonere}\r\n\t\t\t\t\tonChange={(e) => setMemoireEdit({...memoireEdit, montant_exonere: e.target.value * 1})}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Frais Gestion</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" value={memoireEdit ? memoireEdit.frais_gestion : 0}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n            <div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">TVA</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" value={memoireEdit.tva}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Gestion Frais TVA</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" value={memoireEdit.gestion_frais_tva}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Timbre Fiscale</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" defaultValue={memoireEdit.timbre_fiscale}\r\n\t\t\t\t\tonChange={(e) => setMemoireEdit({...memoireEdit, timbre_fiscale: e.target.value * 1})}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t\r\n\t\t\t<div className=\"mb-3 row\">\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<span  className=\"btn btn-primary\" onClick={() => updateMemoire()}>Submit</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t\r\n\t\t</div>\r\n    );\r\n}","import React from 'react';\r\nimport { MDBDataTableV5 } from 'mdbreact';\r\nimport 'mdbreact/dist/css/mdb.css';\r\nimport '@fortawesome/fontawesome-free/css/all.css';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport axios from 'axios';\r\nimport { useStoreDispatch } from '../../../context/store';\r\nimport { Container, Row, Col, Modal, Card, Button } from 'react-bootstrap';\r\nimport { Spinner } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom'\r\nimport { gql, useSubscription } from '@apollo/client'\r\n\r\nconst MEMOIRES = gql`\r\nsubscription memoires {\r\n  memoires{\r\n    id\r\n    projet_id\r\n    htva\r\n    tva\r\n    gestion_frais_tva\r\n    frais_gestion\r\n    montant_exonere\r\n    timbre_fiscale\r\n    projet{code}\r\n    financements{\r\n      id\r\n      montant\r\n      bailleur_fond{\r\n        id\r\n        nom\r\n      }\r\n    }\r\n  }\r\n}`\r\n\r\nconst TableMemoire = React.forwardRef((props, ref) => {\r\n\r\n\r\n  const { data: memoires, error: messageError } = useSubscription(\r\n\t\tMEMOIRES\r\n\t)\r\n\r\n  const [datatable, setDatatable] = React.useState({});\r\n  const [show, setShow] = React.useState(false);\r\n  const dispatch = useStoreDispatch();\r\n  const [memoireEdit, setMemoire] = React.useState({});\r\n  const [loading, setLoading] = React.useState(true);\r\n\r\n  const deleteMemoire = async () => {\r\n    console.log(memoireEdit);\r\n\t\ttry {\r\n\t\t\tconst url =`http://priqh2server.herokuapp.com/api/v1/memoires/${memoireEdit.id}`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'delete',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\r\n\t\t\ttoast.success('Success', {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tdraggable: false\r\n\t\t\t});\r\n\t\t\twindow.location.replace('/Memoire');\r\n\r\n\t\t} catch (err) {\r\n\t\t\ttoast.error(err.response.data.message, {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tdraggable: true\r\n\t\t\t});\r\n\t\t\tsetShow(false);\r\n\t\t}\r\n\t}\r\n\r\n  const fetchMemoires = async () => {\r\n  \r\n    try {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/memoires/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\r\n\t\tif (res.status === 200) {\r\n\t\tconsole.log(res.data.memoires);\r\n\r\n        let memoires = [];\r\n        for(const memoire of res.data.memoires){\r\n            memoires.push({\r\n                projet: <Link to={`/Financement/${memoire.id}`}>{memoire.projet.code}</Link>,\r\n                htva: memoire.htva,\r\n                montant_exonere: memoire.montant_exonere,\r\n                frais_gestion: memoire.frais_gestion,\r\n                tva: memoire.tva,\r\n                gestion_frais_tva: memoire.gestion_frais_tva,\r\n                timbre_fiscale: memoire.timbre_fiscale,\r\n                modifier :  <span onClick={() => dispatch({ type:'memoireEdit', payload: memoire })} data-toggle=\"modal\" data-target=\"#modif\"><FeatherIcon icon=\"edit-2\" /></span>,\r\n                supprimer : <span onClick={() => { setMemoire(memoire); setShow(true); }}><FeatherIcon icon=\"trash-2\" /></span>,\r\n            });\r\n        }\r\n\r\n        setDatatable({\r\n          columns: [\r\n            {\r\n              label: 'Projet',\r\n              field: 'projet',\r\n            },\r\n            {\r\n              label: 'HTVA',\r\n              field: 'htva',\r\n            },\r\n            {\r\n              label: 'Montant exonéré',\r\n              field: 'montant_exonere',\r\n            },\r\n            {\r\n              label: 'TVA',\r\n              field: 'tva',\r\n            },\r\n            {\r\n              label: 'Gestion Frais TVA',\r\n              field: 'gestion_frais_tva',\r\n            },\r\n            {\r\n              label: 'Frais Gestion',\r\n              field: 'frais_gestion',\r\n            },\r\n            {\r\n              label: 'Timbre Fiscale',\r\n              field: 'timbre_fiscale',\r\n            },\r\n            {\r\n                label: 'Modifier',\r\n                field: 'modifier',\r\n                sort : 'disabled',\r\n            },\r\n            {\r\n                label: 'Supprimer',\r\n                field: 'supprimer',\r\n                sort : 'disabled',\r\n            },\r\n          ],\r\n          rows: memoires,\r\n        });\r\n\r\n      }\r\n      setLoading(false);\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err.response.data.message);\r\n\t\t\t}\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    fetchMemoires();\r\n  },[]);\r\n\r\n  React.useEffect(() => {\r\n    if(memoires){\r\n      let memoiresTab = [];\r\n      for(const memoire of memoires.memoires){\r\n        memoiresTab.push({\r\n              projet: <Link to={`/Financement/${memoire.id}`}>{memoire.projet.code}</Link>,\r\n              htva: memoire.htva,\r\n              montant_exonere: memoire.montant_exonere,\r\n              frais_gestion: memoire.frais_gestion,\r\n              tva: memoire.tva,\r\n              gestion_frais_tva: memoire.gestion_frais_tva,\r\n              timbre_fiscale: memoire.timbre_fiscale,\r\n              modifier :  <span onClick={() => dispatch({ type:'memoireEdit', payload: memoire })} data-toggle=\"modal\" data-target=\"#modif\"><FeatherIcon icon=\"edit-2\" /></span>,\r\n              supprimer : <span onClick={() => { setMemoire(memoire); setShow(true); }}><FeatherIcon icon=\"trash-2\" /></span>,\r\n          });\r\n      }\r\n\r\n      setDatatable({\r\n        columns: [\r\n          {\r\n            label: 'Projet',\r\n            field: 'projet',\r\n          },\r\n          {\r\n            label: 'HTVA',\r\n            field: 'htva',\r\n          },\r\n          {\r\n            label: 'Montant exonéré',\r\n            field: 'montant_exonere',\r\n          },\r\n          {\r\n            label: 'TVA',\r\n            field: 'tva',\r\n          },\r\n          {\r\n            label: 'Gestion Frais TVA',\r\n            field: 'gestion_frais_tva',\r\n          },\r\n          {\r\n            label: 'Frais Gestion',\r\n            field: 'frais_gestion',\r\n          },\r\n          {\r\n            label: 'Timbre Fiscale',\r\n            field: 'timbre_fiscale',\r\n          },\r\n          {\r\n              label: 'Modifier',\r\n              field: 'modifier',\r\n              sort : 'disabled',\r\n          },\r\n          {\r\n              label: 'Supprimer',\r\n              field: 'supprimer',\r\n              sort : 'disabled',\r\n          },\r\n        ],\r\n        rows: memoiresTab,\r\n      });\r\n    }\r\n  },[memoires]);\r\n\r\n    return (\r\n      <>\r\n      <ToastContainer />\r\n        <div className=\"p-3\">\r\n        {\r\n            loading ?\r\n            <div className=\"d-flex justify-content-center\">\r\n            <Col md=\"auto\" >\r\n            <Spinner\r\n\t\t\t\t\t\t\tas=\"span\"\r\n\t\t\t\t\t\t\tanimation=\"border\"\r\n\t\t\t\t\t\t\tsize=\"lg\"\r\n              variant=\"primary\"\r\n\t\t\t\t\t\t\trole=\"status\"\r\n\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t/> </Col></div>: \r\n            <MDBDataTableV5\r\n            ref={ref}\r\n            style={{\"marginLeft\":\"1%\"}}\r\n            responsive\r\n            hover\r\n            entriesOptions={[5, 20, 25]}\r\n            striped\r\n            pagesAmount={5}\r\n            data={datatable}\r\n            paging\r\n            searchBottom\r\n            barReverse />\r\n        }\r\n        </div>\r\n        <Modal show={show} onHide={() => setShow(false)}>\r\n          <Modal.Header>\r\n          <Modal.Title>Confirmation</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>Are you sure you want delete memoire of this projet {memoireEdit.projet ? memoireEdit.projet.code : ''} !</Modal.Body>\r\n          <Modal.Footer>\r\n          <Button variant=\"danger\" onClick={() => setShow(false)}>\r\n            Fermer\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={() => { deleteMemoire() }}>\r\n            Supprimer\r\n          </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </>\r\n    )\r\n});\r\n\r\nexport default TableMemoire;","import React from \"react\";\r\nimport ReactToPrint from 'react-to-print-advanced';\r\nimport ComponentToPrint from './TableMemoire';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport { Row, Col, Button } from 'react-bootstrap';\r\n\r\nconst pageStyle = `\r\n  @page {\r\n    size: 80mm 50mm;\r\n  }\r\n\r\n  @media all {\r\n    .pagebreak {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  @media print {\r\n    .pagebreak {\r\n      page-break-before: always;\r\n    }\r\n  }\r\n`;\r\nfunction PrintMemoire() {\r\n  const componentRef = React.useRef();\r\n      return (\r\n        <div>\r\n            <Row className=\"mt-2\">\r\n                <Col>\r\n                </Col>\r\n                <Col md=\"auto\">\r\n                    <Button  className=\"btn btn-primary\" size=\"primary\" data-toggle=\"modal\" data-target=\"#defaultModalPrimary\">\r\n                        <i className=\"fas fa-plus\"></i> \r\n                    </Button>\r\n                </Col>\r\n                <Col xs lg=\"1\">\r\n                    <ReactToPrint\r\n                        trigger={() => <button className=\"btn btn-primary mr-5\" size=\"primary\"><FeatherIcon icon=\"printer\" /></button>}\r\n                        content={() => componentRef.current}\r\n                        style={pageStyle}\r\n                    />\r\n                </Col>\r\n            </Row>\r\n          \r\n            <ComponentToPrint  ref={componentRef}/>\r\n        </div>\r\n      );\r\n  }\r\n  \r\n  export default PrintMemoire;\r\n  ","import React from 'react'\r\nimport FormPrestataire from './components/FormMemoire'\r\nimport FormPrestataireUpdate from './components/FormMemoireUpdate'\r\nimport Print from './components/PrintMemoire'\r\nimport LoadingBar from 'react-top-loading-bar';\r\n\r\nexport default function Prestataire() {\r\n\r\n\tconst [progress, setProgress] = React.useState(0);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tsetProgress(100);\r\n\t\treturn () => setProgress(0);\r\n\t},[]);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n\t\t\t<LoadingBar color='#1a2e8a' height='4px' progress={progress}  />\r\n\t\t\t\t<div className=\"container-fluid p-0\">\r\n\r\n\t\t\t\t\t<h1 className=\"h3 mb-3\">Gestion des Memoires</h1>\r\n\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<Print />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"modal fade\" id=\"defaultModalPrimary\" tabIndex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"modal-dialog\" role=\"document\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-12 col-xl-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"modal-title\">Ajouter Memoire</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormPrestataire />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"modal fade\" id=\"modif\" tabIndex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"modal-dialog\" role=\"document\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-12 col-xl-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"modal-title\">Modifier Memoire</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<FormPrestataireUpdate />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t</main>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { MDBDataTableV5 } from 'mdbreact';\r\nimport 'mdbreact/dist/css/mdb.css';\r\nimport '@fortawesome/fontawesome-free/css/all.css';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport axios from 'axios';\r\nimport { useStoreDispatch } from '../../../context/store';\r\nimport { Container, Row, Col, Modal, Card, Button } from 'react-bootstrap';\r\nimport { Spinner } from 'react-bootstrap';\r\n\r\n\r\nconst TableFinancement = React.forwardRef((props, ref) => {\r\n\r\n  const [datatable, setDatatable] = React.useState({});\r\n  const dispatch = useStoreDispatch();\r\n  const [financementEdit, setFinancementEdit] = React.useState({});\r\n  const [loading, setLoading] = React.useState(true);\r\n\r\n  const fetchFinancements = async () => {\r\n  \r\n    try {\r\n\t\tconst url =`http://priqh2server.herokuapp.com/api/v1/memoires/${props.id}`;\r\n\t\tconst res = await axios({\r\n\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\tmethod: 'get',\r\n\t\t\turl,\r\n\t\t});\r\n\r\n\t\tif (res.status === 200) {\r\n\t\tconsole.log(res.data.memoire);\r\n\r\n        let financements = [];\r\n       \r\n        for(const f of res.data.memoire){\r\n        financements.push({\r\n            bailleur: f.nom,\r\n            previsionnel: f.financements.filter((f) => f.type === 'prévisionnel')[0].montant,\r\n            deblocage: f.financements.filter((f) => f.type === 'deblocage')[0].montant,\r\n            reliquat: f.financements.filter((f) => f.type === 'reliquat')[0].montant,\r\n            modifier :  <span onClick={() => dispatch({ type:'financementEdit', payload: f.financements })} data-toggle=\"modal\" data-target=\"#modif\"><FeatherIcon icon=\"edit-2\" /></span>,\r\n        });\r\n        }\r\n        setDatatable({\r\n          columns: [\r\n            {\r\n              label: 'Bailleur de fonds',\r\n              field: 'bailleur',\r\n            },\r\n            {\r\n              label: 'Prévisionnel',\r\n              field: 'previsionnel',\r\n            },\r\n            {\r\n              label: 'Deblocage',\r\n              field: 'deblocage',\r\n            },\r\n            {\r\n              label: 'Reliquat',\r\n              field: 'reliquat',\r\n            },\r\n            {\r\n                label: 'Modifier',\r\n                field: 'modifier',\r\n                sort : 'disabled',\r\n            },\r\n          ],\r\n          rows: financements,\r\n        });\r\n\r\n      }\r\n      setLoading(false);\r\n\r\n\t} catch (err) {\r\n\t\tconsole.log(err);\r\n\t}\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    fetchFinancements();\r\n  },[]);\r\n\r\n    return (\r\n      <>\r\n      <ToastContainer />\r\n        <div className=\"p-3\">\r\n        {\r\n            loading ?\r\n            <div className=\"d-flex justify-content-center\">\r\n            <Col md=\"auto\" >\r\n            <Spinner\r\n\t\t\tas=\"span\"\r\n\t\t\tanimation=\"border\"\r\n\t\t\tsize=\"lg\"\r\n            variant=\"primary\"\r\n\t\t\trole=\"status\"\r\n\t\t\taria-hidden=\"true\"\r\n\t\t\t/> </Col></div>: \r\n            <MDBDataTableV5\r\n            ref={ref}\r\n            style={{\"marginLeft\":\"1%\"}}\r\n            responsive\r\n            hover\r\n            entriesOptions={[5, 20, 25]}\r\n            striped\r\n            pagesAmount={5}\r\n            data={datatable}\r\n            paging\r\n            searchBottom\r\n            barReverse />\r\n        }\r\n        </div>\r\n        \r\n      </>\r\n    )\r\n});\r\n\r\nexport default TableFinancement;","import React from \"react\";\r\nimport ReactToPrint from 'react-to-print-advanced';\r\nimport ComponentToPrint from './TableFinancement';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport { Row, Col, Button } from 'react-bootstrap';\r\n\r\nconst pageStyle = `\r\n  @page {\r\n    size: 80mm 50mm;\r\n  }\r\n\r\n  @media all {\r\n    .pagebreak {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  @media print {\r\n    .pagebreak {\r\n      page-break-before: always;\r\n    }\r\n  }\r\n`;\r\nfunction PrintFinancement(props) {\r\n  const componentRef = React.useRef();\r\n      return (\r\n        <div>\r\n            <Row className=\"mt-2\">\r\n                <Col>\r\n                </Col>\r\n                <Col md=\"auto\">\r\n                    <Button  className=\"btn btn-primary\" size=\"primary\" data-toggle=\"modal\" data-target=\"#defaultModalPrimary\">\r\n                        <i className=\"fas fa-plus\"></i> \r\n                    </Button>\r\n                </Col>\r\n                <Col xs lg=\"1\">\r\n                    <ReactToPrint\r\n                        trigger={() => <button className=\"btn btn-primary mr-5\" size=\"primary\"><FeatherIcon icon=\"printer\" /></button>}\r\n                        content={() => componentRef.current}\r\n                        style={pageStyle}\r\n                    />\r\n                </Col>\r\n            </Row>\r\n          \r\n            <ComponentToPrint id={props.id}  ref={componentRef}/>\r\n        </div>\r\n      );\r\n  }\r\n  \r\n  export default PrintFinancement;\r\n  ","import React from 'react'\r\n//import FormFinancementUpdate from './components/FormFinancementUpdate'\r\nimport Print from './components/PrintFinancement'\r\nimport LoadingBar from 'react-top-loading-bar';\r\n\r\nexport default function Financement(props) {\r\n\r\n\tconst [progress, setProgress] = React.useState(0);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tsetProgress(100);\r\n\t\treturn () => setProgress(0);\r\n\t},[]);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n\t\t\t<LoadingBar color='#1a2e8a' height='4px' progress={progress}  />\r\n\t\t\t\t<div className=\"container-fluid p-0\">\r\n\r\n\t\t\t\t\t<h1 className=\"h3 mb-3\">Gestion de Financements</h1>\r\n\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<Print id={props.match.params.id} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"modal fade\" id=\"modif\" tabIndex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n\t\t\t\t\t\t<div className=\"modal-dialog\" role=\"document\">\r\n\t\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-12 col-xl-12\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"modal-title\">Modifier la Financement</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t</main>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Select from 'react-select';\r\nimport makeAnimated from 'react-select/animated';\r\nimport axios from 'axios';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport default function FormDecompte() {\r\n\r\n    const animatedComponents = makeAnimated();\r\n\tconst [decompte, setDecompte] = React.useState({});\r\n\tconst [memoires, setMemoires] = React.useState([]);\r\n    const [prestataires, setPrestataires] = React.useState([]);\r\n\r\n\tconst fetchPrestataires = async () => {\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/prestataires/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\r\n\t\t\tlet prestataires_options = [];\r\n\t\t\tfor(const prestataire of res.data.prestataires){\r\n\t\t\t\tlet obj = { value: prestataire.id, label: prestataire.abreviation }\r\n\t\t\t\tprestataires_options.push(obj);\r\n\t\t\t}\r\n\t\t\tsetPrestataires(prestataires_options);\r\n\r\n\t\t} catch(err) {\r\n\t\t\tconsole.log(err.response.data.message);\r\n\t\t}\r\n\t}\r\n\r\n    const fetchMemoires = async () => {\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/memoires/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\r\n\t\t\tlet memoires_options = [];\r\n\t\t\tfor(const memoire of res.data.memoires){\r\n                console.log(memoire.decompte === null,memoire.decompte)\r\n                if(memoire.decompte === null){\r\n\t\t\t\t\tlet obj = { value: memoire.id, label: memoire.projet.code }\r\n\t\t\t\t\tmemoires_options.push(obj);\r\n                }\r\n\t\t\t}\r\n\t\t\tsetMemoires(memoires_options);\r\n\t\t} catch(err) {\r\n\t\t\tconsole.log(err.response.data.message);\r\n\t\t}\r\n\t}\r\n\r\n    const addDecompte = async () => {\r\n\t\tconsole.log(decompte);\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/decomptes/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'post',\r\n\t\t\t  \turl,\r\n                data: decompte\r\n\t\t\t});\r\n\r\n\t\t\ttoast.success('Success', {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tdraggable: false\r\n\t\t\t});\r\n\r\n\t\t\twindow.location.replace('/Decompte');\r\n\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err.response.data.message);\r\n\t\t}\r\n\t}\r\n\r\n\tReact.useEffect(() => {\r\n\t\tfetchMemoires();\r\n        fetchPrestataires();\r\n\t},[]);\r\n\r\n    return (\r\n        <div>\r\n\t\t\t<ToastContainer/>\r\n\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">\r\n\t\t\t\t\tProjet\r\n\t\t\t\t</label>\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<div className=\"boxes\">\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tplaceholder=\"Select Projet ...\"\r\n\t\t\t\t\t\t\tcomponents={animatedComponents}\r\n\t\t\t\t\t\t\toptions={memoires}\r\n\t\t\t\t\t\t\tonChange={(e) => decompte.memoire_id = e.value}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">\r\n\t\t\t\t\tPrestataire\r\n\t\t\t\t</label>\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<div className=\"boxes\">\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tplaceholder=\"Select Projet ...\"\r\n\t\t\t\t\t\t\tcomponents={animatedComponents}\r\n\t\t\t\t\t\t\toptions={prestataires}\r\n\t\t\t\t\t\t\tonChange={(e) => decompte.prestataire_id = e.value}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Montant</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" \r\n\t\t\t\t\tonChange={(e) => decompte.montant= e.target.value  * 1}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Date Paiement</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"date\" className=\"form-control\" \r\n\t\t\t\t\tonChange={(e) => decompte.date_paiement= e.target.value}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n         \r\n\t\t\t\r\n\t\t\t<div className=\"mb-3 row\">\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<span  className=\"btn btn-primary\" onClick={() => addDecompte()}>Submit</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport Select from 'react-select';\r\nimport makeAnimated from 'react-select/animated';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useStoreState } from '../../../context/store';\r\n\r\nexport default function FormDecompteUpdate() {\r\n\r\n\tconst { decompte } = useStoreState();\r\n\tconsole.log(decompte);\r\n\tconst animatedComponents = makeAnimated();\r\n\r\n\tconst [decompteEdit, setDecompteEdit] = React.useState({});\r\n\r\n\tconsole.log(decompteEdit);\r\n\tconst [memoires, setMemoires] = React.useState([]);\r\n    const [prestataires, setPrestataires] = React.useState([]);\r\n\r\n\tconst fetchPrestataires = async () => {\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/prestataires/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\r\n\t\t\tlet prestataires_options = [];\r\n\t\t\tfor(const prestataire of res.data.prestataires){\r\n\t\t\t\tlet obj = { value: prestataire.id, label: prestataire.abreviation }\r\n\t\t\t\tprestataires_options.push(obj);\r\n\t\t\t}\r\n\t\t\tsetPrestataires(prestataires_options);\r\n\r\n\t\t} catch(err) {\r\n\t\t\tconsole.log(err.response.data.message);\r\n\t\t}\r\n\t}\r\n\r\n    const fetchMemoires = async () => {\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/memoires/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\r\n\t\t\tlet memoires_options = [];\r\n\t\t\tfor(const memoire of res.data.memoires){\r\n                \r\n                if(memoire.decompte === null){\r\n\t\t\t\t\tlet obj = { value: memoire.id, label: memoire.projet.code }\r\n\t\t\t\t\tmemoires_options.push(obj);\r\n                }\r\n\t\t\t}\r\n\t\t\tsetMemoires(memoires_options);\r\n\t\t\tconsole.log(memoires_options);\r\n\t\t} catch(err) {\r\n\t\t\tconsole.log(err.response.data.message);\r\n\t\t}\r\n\t}\r\n\r\n    const updateDecompte = async () => {\r\n\t\ttry {\r\n\t\t\tconst url =`http://priqh2server.herokuapp.com/api/v1/decomptes/${decompte.id}`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'put',\r\n\t\t\t  \turl,\r\n                data: decompteEdit\r\n\t\t\t});\r\n\r\n\t\t\ttoast.success('Success', {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tdraggable: false\r\n\t\t\t});\r\n\r\n\t\t\twindow.location.replace('/Decompte');\r\n\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err.response.data.message);\r\n\t\t}\r\n\t}\r\n\r\n\tReact.useEffect(() => {\r\n\t\tfetchMemoires();\r\n        fetchPrestataires();\r\n\t},[]);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif(decompte){\r\n\t\t\tsetDecompteEdit({\r\n\t\t\t\tmemoire_id: decompte.memoire.id,\r\n\t\t\t\tprestataire_id: decompte.prestataire.id,\r\n\t\t\t\tdate_paiement: new Date(decompte.date_paiement),\r\n\t\t\t\tmontant: decompte.montant\r\n\t\t\t});\r\n\t\t}\r\n\t},[decompte]);\r\n\r\n    return (\r\n        <div>\r\n\t\t\t<ToastContainer/>\r\n\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">\r\n\t\t\t\t\tProjet\r\n\t\t\t\t</label>\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<div className=\"boxes\">\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tplaceholder=\"Select Projet ...\"\r\n\t\t\t\t\t\t\tcomponents={animatedComponents}\r\n\t\t\t\t\t\t\toptions={memoires}\r\n\t\t\t\t\t\t\tonChange={(e) => decompteEdit.memoire_id = e.value}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">\r\n\t\t\t\t\tPrestataire\r\n\t\t\t\t</label>\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<div className=\"boxes\">\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tplaceholder=\"Select Projet ...\"\r\n\t\t\t\t\t\t\tcomponents={animatedComponents}\r\n\t\t\t\t\t\t\toptions={prestataires}\r\n\t\t\t\t\t\t\tonChange={(e) => decompteEdit.prestataire_id = e.value}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Montant</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"number\" className=\"form-control\" defaultValue={decompteEdit.montant}\r\n\t\t\t\t\tonChange={(e) => decompteEdit.montant= e.target.value  * 1}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"mb-3 row\">\r\n                <label className=\"col-form-label col-sm-3 text-sm-left\">Date Paiement</label>\r\n                <div className=\"col-sm-9\">\r\n\t\t\t\t\t<input type=\"date\" className=\"form-control\" defaultValue={new Date(decompteEdit.date_paiement)}\r\n\t\t\t\t\tonChange={(e) => decompteEdit.date_paiement= new Date(e.target.value)}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n         \r\n\t\t\t\r\n\t\t\t<div className=\"mb-3 row\">\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<span  className=\"btn btn-primary\" onClick={() => updateDecompte()}>Submit</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t</div>\r\n    );\r\n}","import React from 'react';\r\nimport { MDBDataTableV5 } from 'mdbreact';\r\nimport 'mdbreact/dist/css/mdb.css';\r\nimport '@fortawesome/fontawesome-free/css/all.css';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport axios from 'axios';\r\nimport { useStoreDispatch } from '../../../context/store';\r\nimport { Container, Row, Col, Modal, Card, Button } from 'react-bootstrap';\r\nimport { Spinner } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { gql, useSubscription } from '@apollo/client'\r\n\r\nconst DECOMPTES = gql`\r\nsubscription decomptes {\r\n  decomptes{\r\n    id\r\n    montant\r\n    date_paiement\r\n    memoire{\r\n      projet{code}\r\n    }\r\n    prestataire{\r\n      id\r\n      nom\r\n      abreviation\r\n    }\r\n  }\r\n}`\r\n\r\nconst TableDecompte = React.forwardRef((props, ref) => {\r\n\r\n  const { data: decomptes, error: messageError } = useSubscription(\r\n\t\tDECOMPTES\r\n\t)\r\n\r\n  const [datatable, setDatatable] = React.useState({});\r\n  const [show, setShow] = React.useState(false);\r\n  const dispatch = useStoreDispatch();\r\n  const [decompteEdit, setDecompte] = React.useState({});\r\n  const [loading, setLoading] = React.useState(true);\r\n\r\n  const deleteDecompte = async () => {\r\n    console.log(decompteEdit);\r\n\t\ttry {\r\n\t\t\tconst url =`http://priqh2server.herokuapp.com/api/v1/decomptes/${decompteEdit.id}`;\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'delete',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\r\n\t\t\ttoast.success('Success', {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tdraggable: false\r\n\t\t\t});\r\n\t\t\twindow.location.replace('/decompte');\r\n\r\n\t\t} catch (err) {\r\n\t\t\ttoast.error(err.response.data.message, {\r\n\t\t\t\tposition: 'top-right',\r\n\t\t\t\tautoClose: 5000,\r\n\t\t\t\tdraggable: true\r\n\t\t\t});\r\n\t\t\tsetShow(false);\r\n\t\t}\r\n\t}\r\n\r\n  const fetchDecomptes = async () => {\r\n  \r\n    try {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/decomptes/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\r\n\t\tif (res.status === 200) {\r\n\t\tconsole.log(res.data.decomptes);\r\n\r\n        let decomptes = [];\r\n        for(const decompte of res.data.decomptes){\r\n            decomptes.push({\r\n                projet: decompte.memoire.projet.code,\r\n                prestataire: decompte.prestataire.abreviation,\r\n                montant: decompte.montant,\r\n                date: new Date(decompte.date_paiement).toLocaleDateString(),\r\n                modifier :  <span onClick={() => dispatch({ type:'decompteEdit', payload: decompte })} data-toggle=\"modal\" data-target=\"#modif\"><FeatherIcon icon=\"edit-2\" /></span>,\r\n                supprimer : <span onClick={() => { setDecompte(decompte); setShow(true); }}><FeatherIcon icon=\"trash-2\" /></span>,\r\n            });\r\n        }\r\n\r\n        setDatatable({\r\n          columns: [\r\n            {\r\n              label: 'Projet',\r\n              field: 'projet',\r\n            },\r\n            {\r\n              label: 'Prestataire',\r\n              field: 'prestataire',\r\n            },\r\n            {\r\n              label: 'Montant',\r\n              field: 'montant',\r\n            },\r\n            {\r\n              label: 'Date Paiement',\r\n              field: 'date',\r\n            },\r\n            {\r\n                label: 'Modifier',\r\n                field: 'modifier',\r\n                sort : 'disabled',\r\n            },\r\n            {\r\n                label: 'Supprimer',\r\n                field: 'supprimer',\r\n                sort : 'disabled',\r\n            },\r\n          ],\r\n          rows: decomptes,\r\n        });\r\n\r\n      }\r\n      setLoading(false);\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    fetchDecomptes();\r\n  },[]);\r\n\r\n  React.useEffect(() => {\r\n    if(decomptes){\r\n      let decomptesInfo = [];\r\n        for(const decompte of decomptes.decomptes){\r\n          decomptesInfo.push({\r\n                projet: decompte.memoire.projet.code,\r\n                prestataire: decompte.prestataire.abreviation,\r\n                montant: decompte.montant,\r\n                date: new Date(decompte.date_paiement).toLocaleDateString(),\r\n                modifier :  <span onClick={() => dispatch({ type:'decompteEdit', payload: decompte })} data-toggle=\"modal\" data-target=\"#modif\"><FeatherIcon icon=\"edit-2\" /></span>,\r\n                supprimer : <span onClick={() => { setDecompte(decompte); setShow(true); }}><FeatherIcon icon=\"trash-2\" /></span>,\r\n            });\r\n        }\r\n\r\n        setDatatable({\r\n          columns: [\r\n            {\r\n              label: 'Projet',\r\n              field: 'projet',\r\n            },\r\n            {\r\n              label: 'Prestataire',\r\n              field: 'prestataire',\r\n            },\r\n            {\r\n              label: 'Montant',\r\n              field: 'montant',\r\n            },\r\n            {\r\n              label: 'Date Paiement',\r\n              field: 'date',\r\n            },\r\n            {\r\n                label: 'Modifier',\r\n                field: 'modifier',\r\n                sort : 'disabled',\r\n            },\r\n            {\r\n                label: 'Supprimer',\r\n                field: 'supprimer',\r\n                sort : 'disabled',\r\n            },\r\n          ],\r\n          rows: decomptesInfo,\r\n        });\r\n    }\r\n  },[decomptes])\r\n\r\n    return (\r\n      <>\r\n      <ToastContainer />\r\n        <div className=\"p-3\">\r\n        {\r\n            loading ?\r\n            <div className=\"d-flex justify-content-center\">\r\n            <Col md=\"auto\" >\r\n            <Spinner\r\n\t\t\t\t\t\t\tas=\"span\"\r\n\t\t\t\t\t\t\tanimation=\"border\"\r\n\t\t\t\t\t\t\tsize=\"lg\"\r\n              variant=\"primary\"\r\n\t\t\t\t\t\t\trole=\"status\"\r\n\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t/> </Col></div>: \r\n            <MDBDataTableV5\r\n            ref={ref}\r\n            style={{\"marginLeft\":\"1%\"}}\r\n            responsive\r\n            hover\r\n            entriesOptions={[5, 20, 25]}\r\n            striped\r\n            pagesAmount={5}\r\n            data={datatable}\r\n            paging\r\n            searchBottom\r\n            barReverse />\r\n        }\r\n        </div>\r\n        <Modal show={show} onHide={() => setShow(false)}>\r\n          <Modal.Header>\r\n          <Modal.Title>Confirmation</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>Are you sure you want delete decompte of this decompte !</Modal.Body>\r\n          <Modal.Footer>\r\n          <Button variant=\"danger\" onClick={() => setShow(false)}>\r\n            Fermer\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={() => { deleteDecompte() }}>\r\n            Supprimer\r\n          </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </>\r\n    )\r\n});\r\n\r\nexport default TableDecompte;","import React from \"react\";\r\nimport ReactToPrint from 'react-to-print-advanced';\r\nimport ComponentToPrint from './TableDecompte';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport { Row, Col, Button } from 'react-bootstrap';\r\n\r\nconst pageStyle = `\r\n  @page {\r\n    size: 80mm 50mm;\r\n  }\r\n\r\n  @media all {\r\n    .pagebreak {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  @media print {\r\n    .pagebreak {\r\n      page-break-before: always;\r\n    }\r\n  }\r\n`;\r\nfunction PrintDecompte() {\r\n  const componentRef = React.useRef();\r\n      return (\r\n        <div>\r\n            <Row className=\"mt-2\">\r\n                <Col>\r\n                </Col>\r\n                <Col md=\"auto\">\r\n                    <Button  className=\"btn btn-primary\" size=\"primary\" data-toggle=\"modal\" data-target=\"#ajout\">\r\n                        <i className=\"fas fa-plus\"></i> \r\n                    </Button>\r\n                </Col>\r\n                <Col xs lg=\"1\">\r\n                    <ReactToPrint\r\n                        trigger={() => <button className=\"btn btn-primary mr-5\" size=\"primary\"><FeatherIcon icon=\"printer\" /></button>}\r\n                        content={() => componentRef.current}\r\n                        style={pageStyle}\r\n                    />\r\n                </Col>\r\n            </Row>\r\n          \r\n            <ComponentToPrint  ref={componentRef}/>\r\n        </div>\r\n      );\r\n  }\r\n  \r\n  export default PrintDecompte;\r\n  ","import React from 'react'\r\nimport FormDecompte from './components/FormDecompte';\r\nimport FormDecompteUpdate from './components/FormDecompteUpdate';\r\nimport Print from './components/PrintDecompte'\r\nimport LoadingBar from 'react-top-loading-bar';\r\n\r\nexport default function Decompte(props) {\r\n\r\n\tconst [progress, setProgress] = React.useState(0);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tsetProgress(100);\r\n\t\treturn () => setProgress(0);\r\n\t},[]);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n\t\t\t<LoadingBar color='#1a2e8a' height='4px' progress={progress}  />\r\n\t\t\t\t<div className=\"container-fluid p-0\">\r\n\r\n\t\t\t\t\t<h1 className=\"h3 mb-3\">Gestion des Decomptes</h1>\r\n\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<Print/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>\r\n\r\n                    <div className=\"modal fade\" id=\"ajout\" tabIndex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n\t\t\t\t\t\t<div className=\"modal-dialog\" role=\"document\">\r\n\t\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-12 col-xl-12\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"modal-title\">Ajouter Decompte</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormDecompte />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n\t\t\t\t\t<div className=\"modal fade\" id=\"modif\" tabIndex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n\t\t\t\t\t\t<div className=\"modal-dialog\" role=\"document\">\r\n\t\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-12 col-xl-12\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"modal-title\">Modifier le Decompte</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn-close\" data-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"card-body\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormDecompteUpdate />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t</main>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { BarChart, Bar, Cell, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\r\n\r\nconst data = [\r\n  {\r\n    name: 'Page A',\r\n    uv: 4000,\r\n    pv: 2400,\r\n    \r\n  },\r\n  {\r\n    name: 'Page B',\r\n    uv: 3000,\r\n    pv: 1398,\r\n    \r\n  },\r\n  {\r\n    name: 'Page C',\r\n    uv: 2000,\r\n    pv: 9800,\r\n    \r\n  },\r\n  {\r\n    name: 'Page D',\r\n    uv: 2780,\r\n    pv: 3908,\r\n    \r\n  },\r\n  {\r\n    name: 'Page E',\r\n    uv: 1890,\r\n    pv: 4800,\r\n    \r\n  },\r\n  {\r\n    name: 'Page F',\r\n    uv: 2390,\r\n    pv: 3800,\r\n    \r\n  },\r\n  {\r\n    name: 'Page G',\r\n    uv: 3490,\r\n    pv: 4300,\r\n    \r\n  },\r\n];\r\n\r\nexport default function Infrastructures({ projet }) {\r\n\r\n    const [data, setData] = React.useState([]);\r\n\r\n    const calculSum = (infra) => {\r\n        let sum = 0;\r\n        for(const p of infra.progres){\r\n            sum += p.quantite;\r\n        }\r\n        return sum;\r\n    }\r\n\r\n    const handleData = () => {\r\n        let dataInfo = [];\r\n        if(projet){\r\n            for(const infra of projet.infrastructures){\r\n                dataInfo.push({\r\n                    name: infra.type,\r\n                    quantite: infra.quantite,\r\n                    avancement_totale: calculSum(infra),\r\n                    amt: infra.quantite\r\n                });\r\n            }\r\n            console.log(dataInfo);\r\n            setData(dataInfo);\r\n        }\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        if(projet){\r\n            handleData();\r\n        }\r\n    },[projet]);\r\n\r\n    return (\r\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n        <BarChart\r\n          width={500}\r\n          height={300}\r\n          data={data}\r\n          margin={{\r\n            top: 5,\r\n            right: 30,\r\n            left: 20,\r\n            bottom: 5,\r\n          }}\r\n        >\r\n          <CartesianGrid strokeDasharray=\"3 3\" />\r\n          <XAxis dataKey=\"name\" />\r\n          <YAxis />\r\n          <Tooltip />\r\n          <Legend />\r\n          <Bar dataKey=\"quantite\" fill=\"#8884d8\" />\r\n          <Bar dataKey=\"avancement_totale\" fill=\"#82ca9d\" />\r\n        </BarChart>\r\n      </ResponsiveContainer>\r\n    );\r\n}\r\n","import * as React from 'react';\r\nimport { ListViewComponent  } from '@syncfusion/ej2-react-lists';\r\nimport axios from 'axios';\r\nimport './listBox.css';\r\n\r\nexport default function TrancheList({ setProjet }) {\r\n\r\n    const [tranches, setTranches] = React.useState([]);\r\n\r\n    const fetchTranches= async () => {\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/tranches/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\r\n            let data = [];\r\n            for(const tranche of res.data.tranches){\r\n                let obj = { id: tranche.numero, text: `Tranche ${tranche.numero}`, icon: \"folder\" }\r\n                let i = 0;\r\n                let child = [];\r\n                for(const projet of tranche.projets){\r\n                    child.push({ id: i+'-'+tranche.numero, text: projet.code, icon: \"file\", value: projet });\r\n                    i++;\r\n                }\r\n                obj.child = child;\r\n                data.push(obj);\r\n            }\r\n\r\n            console.log(data);\r\n\t\t\tsetTranches(data);\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t}\r\n\r\n    React.useEffect(() => {\r\n        fetchTranches();\r\n    },[]);\r\n\r\n        const fields = { iconCss: \"icon\", tooltip: \"text\" };\r\n    \r\n        function onSelect (state){\r\n            if(!state.text.startsWith('Tranche')){\r\n                console.log(state);\r\n                setProjet(state.data.value);\r\n            }\r\n        }\r\n\r\n        return (\r\n        <div>\r\n            <ListViewComponent id=\"listview\" dataSource={tranches} fields={fields} headerTitle=\"Lise des Tranches\" showIcon={true} showHeader={true} select={onSelect}/>\r\n        </div>\r\n        );\r\n    \r\n}\r\n","import React, { PureComponent } from 'react';\r\nimport { AreaChart, Area, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts';\r\n\r\nconst data = [\r\n  {\r\n    name: 'Page A',\r\n    uv: 4000,\r\n    pv: 2400,\r\n    amt: 2400,\r\n  },\r\n  {\r\n    name: 'Page B',\r\n    uv: 3000,\r\n    pv: 1398,\r\n    amt: 2210,\r\n  },\r\n  {\r\n    name: 'Page C',\r\n    uv: 2000,\r\n    pv: 9800,\r\n    amt: 2290,\r\n  },\r\n  {\r\n    name: 'Page D',\r\n    uv: 2780,\r\n    pv: 3908,\r\n    amt: 2000,\r\n  },\r\n  {\r\n    name: 'Page E',\r\n    uv: 1890,\r\n    pv: 4800,\r\n    amt: 2181,\r\n  },\r\n  {\r\n    name: 'Page F',\r\n    uv: 2390,\r\n    pv: 3800,\r\n    amt: 2500,\r\n  },\r\n  {\r\n    name: 'Page G',\r\n    uv: 3490,\r\n    pv: 4300,\r\n    amt: 2100,\r\n  },\r\n];\r\n\r\nexport default function AreaChartInfra() {\r\n\r\n    return (\r\n      \r\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n          <AreaChart\r\n            width={500}\r\n            height={100}\r\n            data={data}\r\n            syncId=\"anyId\"\r\n            margin={{\r\n              top: 10,\r\n              right: 30,\r\n              left: 0,\r\n              bottom: 0,\r\n            }}\r\n          >\r\n            <CartesianGrid strokeDasharray=\"3 3\" />\r\n            <XAxis dataKey=\"name\" />\r\n            <YAxis />\r\n            <Tooltip />\r\n            <Area type=\"monotone\" dataKey=\"uv\" stroke=\"#8884d8\" fill=\"#8884d8\" />\r\n          </AreaChart>\r\n        </ResponsiveContainer>\r\n     \r\n    );\r\n  \r\n}","import React, { PureComponent } from 'react';\r\nimport { RadialBarChart, RadialBar, Legend, ResponsiveContainer } from 'recharts';\r\n\r\nconst data = [\r\n  {\r\n    name: 'Projet',\r\n    uv: 100,\r\n    fill: '#8884d8',\r\n  },\r\n  {\r\n    name: 'Voirie',\r\n    uv: 50,\r\n    fill: '#83a6ed',\r\n  },\r\n  {\r\n    name: 'Eau potable',\r\n    uv: 50,\r\n    fill: '#83a6ed',\r\n  },\r\n  {\r\n    name: 'Eclairage',\r\n    uv: 15.69,\r\n    fill: '#8dd1e1',\r\n  },\r\n  {\r\n    name: 'Drainage',\r\n    uv: 8.22,\r\n    fill: '#82ca9d',\r\n  },\r\n  {\r\n    name: 'Assainissement',\r\n    uv: 8.63,\r\n    fill: '#a4de6c',\r\n  },\r\n];\r\n\r\nconst style = {\r\n  top: '50%',\r\n  right: 0,\r\n  transform: 'translate(0, -50%)',\r\n  lineHeight: '24px',\r\n};\r\n\r\nexport default class TauxTotale extends PureComponent {\r\n\r\n  render() {\r\n    return (\r\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n        <RadialBarChart cx=\"50%\" cy=\"50%\" innerRadius=\"10%\" outerRadius=\"80%\" barSize={10} data={data}>\r\n          <RadialBar\r\n            minAngle={15}\r\n            label={{ position: 'insideStart', fill: '#fff' }}\r\n            background\r\n            clockWise\r\n            dataKey=\"uv\"\r\n          />\r\n          <Legend iconSize={10} layout=\"vertical\" verticalAlign=\"middle\" wrapperStyle={style} />\r\n        </RadialBarChart>\r\n      </ResponsiveContainer>\r\n    );\r\n  }\r\n}","import { DashboardLayoutComponent, PanelsDirective, PanelDirective } from '@syncfusion/ej2-react-layouts';\r\nimport * as React from 'react';\r\nimport Infrastructures from './Infrastructures';\r\nimport TrancheList from './TrancheList';\r\nimport AreaChartInfra from './AreaChartInfra';\r\nimport TauxTotale from './TauxTotale';\r\n\r\nexport default function Index() {\r\n\r\n    const [projet, setProjet] = React.useState(null);\r\n\r\n    const cellSpacing = [10, 10];\r\n\r\n    function lise() {\r\n        return <TrancheList setProjet={setProjet} />\r\n    }\r\n\r\n    function voirie(){\r\n        return (<AreaChartInfra  projet={projet}/>);\r\n    }\r\n\r\n    function eau(){\r\n        return (<AreaChartInfra  projet={projet}/>);\r\n    }\r\n\r\n    function eclairage(){\r\n        return (<AreaChartInfra  projet={projet}/>);\r\n    }\r\n\r\n    function drainage(){\r\n        return (<AreaChartInfra  projet={projet}/>);\r\n    }\r\n\r\n    function assainissement(){\r\n        return (<AreaChartInfra  projet={projet}/>);\r\n    }\r\n\r\n    function infrastructures(){\r\n        \r\n        return (<Infrastructures  projet={projet}/>);\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        console.log(projet);\r\n    },[projet])\r\n   \r\n    return (\r\n    <div>\r\n     <div className=\"control-section\">\r\n        <DashboardLayoutComponent id='defaultLayout' cellSpacing={cellSpacing} columns={5}>\r\n        <PanelsDirective>\r\n            <PanelDirective sizeX={1} sizeY={1} row={0} col={0} header='<div>Voirie</div>' content={voirie}></PanelDirective>\r\n            <PanelDirective sizeX={3} sizeY={2} row={0} col={1} header='<div>Infrastructures</div>' content={infrastructures}></PanelDirective>\r\n            <PanelDirective sizeX={1} sizeY={2} row={0} col={4} content={lise}></PanelDirective>\r\n            <PanelDirective sizeX={1} sizeY={1} row={1} col={0} header='<div>Eau potable</div>' content={eau}></PanelDirective>\r\n            <PanelDirective sizeX={1} sizeY={1} row={2} col={0} header='<div>Eclairage Public</div>' content={eclairage}></PanelDirective>\r\n            <PanelDirective sizeX={1} sizeY={1} row={2} col={1} header='<div>Drainage des eaux pluviales</div>' content={drainage}></PanelDirective>\r\n            <PanelDirective sizeX={1} sizeY={1} row={2} col={2} header='<div>Assainissement</div>' content={assainissement}></PanelDirective>\r\n            <PanelDirective sizeX={2} sizeY={1} row={2} col={3} header='<div>Assainissement</div>' content={TauxTotale}></PanelDirective>\r\n        </PanelsDirective>\r\n        </DashboardLayoutComponent>\r\n      </div>\r\n    </div>\r\n    );\r\n    \r\n}","import React from 'react'\r\nimport axios from 'axios'\r\nimport { Row, Col, Button } from 'react-bootstrap';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport Index from './components/index';\r\n\r\nexport default function Avancements() {\r\n\r\n    const [tranches,setTranches] = React.useState([]);\r\n\r\n    const fetchTranches= async () => {\r\n\t\ttry {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/tranches/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\r\n            console.log(res.data.tranches);\r\n\t\t\tsetTranches(res.data.tranches);\r\n\t\t\t\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n\t}\r\n\r\n    React.useEffect(() => {\r\n        fetchTranches();\r\n    },[])\r\n\r\n    return (\r\n        <main className=\"content\">\r\n        <div className=\"container-fluid p-0\">\r\n            <Row>\r\n                <Col>\r\n                    <h1 className=\"h3 mb-3\">Suivi de l'avancement</h1>\r\n                </Col>\r\n            </Row>\r\n            \r\n            <Index />\r\n           \r\n        </div>\r\n            \r\n        </main>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { MDBDataTableV5 } from 'mdbreact';\r\nimport 'mdbreact/dist/css/mdb.css';\r\nimport '@fortawesome/fontawesome-free/css/all.css';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport {ToastContainer, toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport axios from 'axios';\r\nimport { useStoreDispatch } from '../../../context/store';\r\nimport { Container, Row, Col, Modal, Card, Button } from 'react-bootstrap';\r\nimport { Spinner } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst TableAvenant = React.forwardRef((props, ref) => {\r\n\r\n  const [datatable, setDatatable] = React.useState({});\r\n  const [show, setShow] = React.useState(false);\r\n  const dispatch = useStoreDispatch();\r\n  const [decompteEdit, setDecompte] = React.useState({});\r\n  const [loading, setLoading] = React.useState(true);\r\n\r\n  const fetchDecomptes = async () => {\r\n  \r\n    try {\r\n\t\t\tconst url ='http://priqh2server.herokuapp.com/api/v1/decomptes/';\r\n\t\t\tconst res = await axios({\r\n\t\t\t\theaders: {'Authorization': `Bearer ${localStorage.getItem('tokenARRU')}`},\r\n\t\t\t  \tmethod: 'get',\r\n\t\t\t  \turl,\r\n\t\t\t});\r\n\r\n\t\tif (res.status === 200) {\r\n\t\tconsole.log(res.data.decomptes);\r\n\r\n        let decomptes = [];\r\n        for(const decompte of res.data.decomptes){\r\n            decomptes.push({\r\n                projet: decompte.memoire.projet.code,\r\n                prestataire: decompte.prestataire.abreviation,\r\n                montant: decompte.montant,\r\n                date: new Date(decompte.date_paiement).toLocaleDateString(),\r\n                modifier :  <span onClick={() => dispatch({ type:'decompteEdit', payload: decompte })} data-toggle=\"modal\" data-target=\"#modif\"><FeatherIcon icon=\"edit-2\" /></span>,\r\n                supprimer : <span onClick={() => { setDecompte(decompte); setShow(true); }}><FeatherIcon icon=\"trash-2\" /></span>,\r\n            });\r\n        }\r\n\r\n        setDatatable({\r\n          columns: [\r\n            {\r\n              label: 'Projet',\r\n              field: 'projet',\r\n            },\r\n            {\r\n              label: 'Prestataire',\r\n              field: 'prestataire',\r\n            },\r\n            {\r\n              label: 'Montant',\r\n              field: 'montant',\r\n            },\r\n            {\r\n              label: 'Date Paiement',\r\n              field: 'date',\r\n            },\r\n            {\r\n                label: 'Modifier',\r\n                field: 'modifier',\r\n                sort : 'disabled',\r\n            },\r\n            {\r\n                label: 'Supprimer',\r\n                field: 'supprimer',\r\n                sort : 'disabled',\r\n            },\r\n          ],\r\n          rows: decomptes,\r\n        });\r\n\r\n      }\r\n      setLoading(false);\r\n\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t}\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    fetchDecomptes();\r\n  },[]);\r\n\r\n  const data = {\r\n    columns: [\r\n      {\r\n        label: 'Projet',\r\n        field: 'projet',\r\n      },\r\n      {\r\n        label: 'Actions',\r\n        field: 'action',\r\n      },\r\n      {\r\n        label: 'Justification',\r\n        field: 'justification',\r\n      },\r\n    ],\r\n    rows: [\r\n        {\r\n        projet: 'ARI_RAOU_RAO',\r\n        action: 'la quantité de voirie a changer de 150 a 80',\r\n        justification: ''\r\n        }\r\n    ]\r\n  }\r\n    return (\r\n      <>\r\n      <ToastContainer />\r\n        <div className=\"p-3\">\r\n        {\r\n            loading ?\r\n            <div className=\"d-flex justify-content-center\">\r\n            <Col md=\"auto\" >\r\n            <Spinner\r\n\t\t\t\t\t\t\tas=\"span\"\r\n\t\t\t\t\t\t\tanimation=\"border\"\r\n\t\t\t\t\t\t\tsize=\"lg\"\r\n              variant=\"primary\"\r\n\t\t\t\t\t\t\trole=\"status\"\r\n\t\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\t/> </Col></div>: \r\n            <MDBDataTableV5\r\n            ref={ref}\r\n            style={{\"marginLeft\":\"1%\"}}\r\n            responsive\r\n            hover\r\n            entriesOptions={[5, 20, 25]}\r\n            striped\r\n            pagesAmount={5}\r\n            data={data}\r\n            paging\r\n            searchBottom\r\n            barReverse />\r\n        }\r\n        </div>\r\n        \r\n      </>\r\n    )\r\n});\r\n\r\nexport default TableAvenant;","import React from \"react\";\r\nimport ReactToPrint from 'react-to-print-advanced';\r\nimport ComponentToPrint from './TableAvenant';\r\nimport FeatherIcon from 'feather-icons-react';\r\nimport { Row, Col, Button } from 'react-bootstrap';\r\n\r\nconst pageStyle = `\r\n  @page {\r\n    size: 80mm 50mm;\r\n  }\r\n\r\n  @media all {\r\n    .pagebreak {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  @media print {\r\n    .pagebreak {\r\n      page-break-before: always;\r\n    }\r\n  }\r\n`;\r\nfunction PrintAvenant() {\r\n  const componentRef = React.useRef();\r\n      return (\r\n        <div>\r\n            <Row className=\"mt-2\">\r\n                <Col>\r\n                </Col>\r\n                <Col md=\"auto\">\r\n                   \r\n                </Col>\r\n                <Col xs lg=\"1\">\r\n                    <ReactToPrint\r\n                        trigger={() => <button className=\"btn btn-primary mr-5\" size=\"primary\"><FeatherIcon icon=\"printer\" /></button>}\r\n                        content={() => componentRef.current}\r\n                        style={pageStyle}\r\n                    />\r\n                </Col>\r\n            </Row>\r\n          \r\n            <ComponentToPrint  ref={componentRef}/>\r\n        </div>\r\n      );\r\n  }\r\n  \r\n  export default PrintAvenant;\r\n  ","import React from 'react'\r\nimport Print from './components/PrintAvenant'\r\nimport LoadingBar from 'react-top-loading-bar';\r\n\r\nexport default function Decompte(props) {\r\n\r\n\tconst [progress, setProgress] = React.useState(0);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tsetProgress(100);\r\n\t\treturn () => setProgress(0);\r\n\t},[]);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n\t\t\t<LoadingBar color='#1a2e8a' height='4px' progress={progress}  />\r\n\t\t\t\t<div className=\"container-fluid p-0\">\r\n\r\n\t\t\t\t\t<h1 className=\"h3 mb-3\">Les Avenants</h1>\r\n\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t<Print/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t\t\r\n\t\t\t</main>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\nimport { useAuthState } from '../context/auth'\r\n\r\nexport default function DynamicRoutes(props) {\r\n    const { user } = useAuthState();\r\n    \r\n    if (props.authenticated && !user){\r\n        return <Redirect to=\"/login\" />\r\n    } else {\r\n        return <Route component={props.component} {...props} />\r\n    }\r\n    \r\n}","import ApolloProvider from './ApolloProvider';\r\nimport React from 'react'\r\nimport Sidebar from './droit-acce/components/Sidebar'\r\nimport Navbar from './droit-acce/components/Navbar'\r\nimport Footer from './droit-acce/components/Footer'\r\nimport Dashboard from './droit-acce/pages/Dashboard'\r\nimport Role from './droit-acce/pages/Role'\r\nimport Group from './droit-acce/pages/Group'\r\nimport Interface from './droit-acce/pages/Interface'\r\nimport Specification from './droit-acce/pages/Specification'\r\nimport Settings from './droit-acce/pages/Settings'\r\nimport Profile from './droit-acce/pages/Profile'\r\nimport Login from './droit-acce/pages/Login'\r\nimport Traces from './droit-acce/pages/Traces/Traces'\r\n\r\nimport Quartiers from './identification/quartier/Quartiers'\r\nimport Projets from './identification/projet/Projets'\r\nimport E404 from './identification/pages/E404'\r\nimport Criteres from './identification/critere/Criteres'\r\n\r\nimport Commune from './identification/commune/Communes'\r\nimport Elig from './identification/pages/Eligible'\r\nimport Beilleurs from './financement/bailleur_fonds/Beilleurs'\r\nimport Tranches from './identification/tranche/Tranches'\r\nimport Budget from './identification/pages/Budget'\r\nimport Prestataire from './financement/prestataire/Prestataire'\r\nimport Memoire from './financement/memoire/Memoire'\r\nimport Financement from './financement/financement/Financement'\r\nimport Decompte from './financement/decompte/Decompte'\r\nimport Avancement from './execution physique/dashboard/Avancement'\r\n\r\nimport Avenant from './execution physique/avenant/Avenant'\r\n\r\nimport {BrowserRouter as Router, Switch } from 'react-router-dom';\r\nimport { AuthProvider } from './context/auth';\r\nimport { StoreProvider } from './context/store';\r\nimport DynamicRoutes from './utils/DynamicRoutes';\r\nimport './App.css';\r\nimport './Scroll.css';\r\n\r\n\r\n\r\nfunction App() {\r\n\r\n  if (typeof window !== 'undefined') {\r\n    window.React = React;\r\n  }\r\n \r\n  return (\r\n    \r\n    <ApolloProvider>\r\n    <AuthProvider>\r\n    <StoreProvider>\r\n    <Router>\r\n      \r\n        <div className=\"wrapper\">\r\n          <Sidebar />\r\n          <div className=\"main\">\r\n          <Navbar />\r\n          <Switch>\r\n            <DynamicRoutes exact path=\"/Login\" component={Login} guest />\r\n            <DynamicRoutes exact path=\"/Utilisateurs\" component={Dashboard} authenticated interface=\"gestion des utilisateurs\"/>\r\n            <DynamicRoutes exact path=\"/Roles\" component={Role} authenticated interface=\"gestion des roles\"/>\r\n            <DynamicRoutes exact path=\"/Groupes\" component={Group} authenticated interface=\"gestion des groupes\"/>\r\n            <DynamicRoutes exact path=\"/Interfaces\" component={Interface} authenticated interface=\"gestion des interfaces\"/>\r\n            <DynamicRoutes exact path=\"/Specifications\" component={Specification} authenticated interface=\"gestion des groupes\" /> \r\n            <DynamicRoutes exact path=\"/Profile\" component={Profile} authenticated />\r\n            <DynamicRoutes exact path=\"/Settings\" component={Settings} authenticated />\r\n            <DynamicRoutes exact path=\"/Quartiers\" component={Quartiers} authenticated />\r\n            <DynamicRoutes exact path=\"/Projets\" component={Projets} authenticated />\r\n            <DynamicRoutes exact path=\"/Eligible\" component={Elig} authenticated />\r\n            <DynamicRoutes exact path=\"/Critéres d'éligibilité\" component={Criteres} authenticated />\r\n            <DynamicRoutes exact path=\"/communes\" component={Commune} authenticated />\r\n            <DynamicRoutes exact path=\"/beilleurs\" component={Beilleurs} authenticated />\r\n            <DynamicRoutes exact path=\"/Tranches\" component={Tranches} authenticated />\r\n            <DynamicRoutes exact path=\"/Budget\" component={Budget} authenticated />\r\n            <DynamicRoutes exact path=\"/Prestataire\" component={Prestataire} authenticated />\r\n            <DynamicRoutes exact path=\"/Memoire\" component={Memoire} authenticated />\r\n            <DynamicRoutes exact path=\"/Financement/:id\" component={Financement} authenticated />\r\n            <DynamicRoutes exact path=\"/Decompte\" component={Decompte} authenticated />\r\n            <DynamicRoutes exact path=\"/Avancement\" component={Avancement} authenticated />\r\n            <DynamicRoutes exact path=\"/Traces\" component={Traces} authenticated />\r\n            <DynamicRoutes exact path=\"/Avenant\" component={Avenant} authenticated />\r\n            <DynamicRoutes component={E404} authenticated />\r\n          </Switch>\r\n          <Footer />\r\n          </div>\r\n        </div>\r\n      \r\n    </Router>\r\n    </StoreProvider>\r\n    </AuthProvider>\r\n    </ApolloProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}